                             TOP
                         Version 3.1

                       William LeFebvre

"top" is a program that will give continual reports about the state of
the system, including a list of the top cpu using processes.  Version 3
of "top" has three primary design goals: provide an accurate snapshot of
the system and process state, not be one of the top processes itself, be
as portable as possible.

Version 3 has many bug fixes from version 2.5, and it has also been
reorganized in a major way to make it easy to port to other platforms.
All system dependent code is now contained in one file.

Top now includes a configuration script called "Configure".  It helps
the installer choose the correct parameters for this particular
installation.  This script MUST be run before attempting to compile top.

Top requires read access to the memory files "/dev/kmem" and "/dev/mem"
as well as the system image "/vmunix".  Some installations have these
files protected from general access.  These sites would have to install
this program in the same way that programs such as "ps" are installed.

CAVEAT: version 3 of top has internal commands that kill and renice
processes.  Although I have taken steps to insure that top makes
appropriate checks with these commands, I cannot guarantee that these
internal commands are totally secure.  IF YOU INSTALL top as a SETUID
program, you do so AT YOUR OWN RISK!  I realize that some operating
systems will require top to run setuid, and I will do everything I can
to make sure that top is a secure setuid program.

Configure will ask you to input values for certain parameters.  Before
each parameter, Configure will display a description of what the
parameter does.  Read the description and choose an appropriate value.
Sometimes a default will appear in brackets.  Typing just return will
choose the default.

System support now takes the form of "modules".  Adding support for
a different architecture requires only adding a module.  Configure
asks which module to use when it is configuring top.  See the file
"Porting" for a description of how to write your own module.

To compile and install "top", do the following:

	./Configure

The script will first create a list of architecture module names, then
present it to you and ask you to choose one.  It is possible that no
module currently exists to make top work on your machine.

Thes script will then describe each tunable parameter in detail and ask
you for its value.  Default values appear in brackets:  a simple return
will instruct "Configure" to use the default.

If everything goes correctly, "Configure" will end with 'To create the
executable, type "make".'  Now type:

	make

and everything should compile smoothly.  Once compiled, top can be
installed with:

	make install

Once you have created a binary for one particular type of machine, you
can reconfigure for another type with "./Configure modulename" where
"modulename" is replaced with the appropriate module name.  All other
parameter values are kept the same.

People who want to use top on multi-processor Suns need to read
README.sun4m in this directory.

If you make any kind of change to "top" that you feel would be
beneficial to others who use this program, or if you find and fix a bug,
please send me the change.

Enjoy!

The latest version of "top" is always available via anonymous FTP from
the host "eecs.nwu.edu" in the directory "/pub/top".  Additional modules
will be made available in the directory "/pub/top/m".

		William LeFebvre
		Department of Electrical Engineering and Computer Science
		Northwestern University
		<phil@eecs.nwu.edu>


		U.S. Mail address:
		    William LeFebvre
		    EECS Department
		    2145 Sheridan Road
		    Evanston, IL  60208

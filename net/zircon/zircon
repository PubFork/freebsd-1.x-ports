#!/usr/local/bin/dpwish -f
set zircon(lib) /usr/local/lib/zircon
#
#	ZIRCON - an X11 interface to the Internet Relay Chat
#
#	Written by
#		Lindsay (Lindsay F. Marshall)
#		Jimbles (Jon Harley)
#
#	Copyright (c) 1993
#
#	See the file COPYRIGHT for details
#
lappend auto_path $zircon(lib)/lib

if [string match "7*" [info tclversion]] {
    proc connect args { eval dp_connect $args }
    proc filehandler args { eval dp_filehandler $args }
    proc address args { eval dp_address $args }
    proc accept args { eval dp_accept $args }
} {
    proc raise args { }
    proc pid {} { return 42 }
}
#
InitGlobals
makeControl
makeInfo
setNickname $nickname
#
# save some space!!!
#
rename InitGlobals ""
rename makeControl ""
rename makeInfo ""
set ix 0
while ![startIRC $server $ircport] {
    if {[set sx [lindex $servers $ix]] == {}} { break }
    set server [lindex $sx 0]
    if {[set ircport [lindex $sx 1]] == {}} { set ircport $defaultPort }
}

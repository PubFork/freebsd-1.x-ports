%!PS-Adobe-1.0
%%Creator: neat.cs:moraes (Mark Moraes,DCS,SF3203,3695,,G,Everything)
%%Title: stdin (ditroff)
%%CreationDate: Sat Apr 21 03:47:29 1990
%%EndComments
% Start of psdit.pro -- prolog for ditroff translator
% Copyright (c) 1985,1987 Adobe Systems Incorporated. All Rights Reserved. 
% GOVERNMENT END USERS: See Notice file in TranScript library directory
% -- probably /usr/lib/ps/Notice
% RCS: $Header: /a/cvs/386BSD/ports/news/cnews/doc/usenix87.ps,v 1.1 1993/08/27 02:47:02 alm Exp $
/$DITroff 140 dict def $DITroff begin

%% Psfig additions
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def

/startFig {
	/SavedState save def
	userdict maxlength dict begin
	currentpoint transform

	DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
		setlinewidth setmatrix

	itransform moveto

	/ury exch def
	/urx exch def
	/lly exch def
	/llx exch def
	/y exch 72 mul resolution div def
	/x exch 72 mul resolution div def
	
	currentpoint /cy exch def /cx exch def

	/sx x urx llx sub div def 	% scaling for x
	/sy y ury lly sub div def	% scaling for y

	sx sy scale			% scale by (sx,sy)

	cx sx div llx sub
	cy sy div ury sub translate
	
	/DefFigCTM matrix currentmatrix def

	/initmatrix {
		DefFigCTM setmatrix
	} def
	/defaultmatrix {
		DefFigCTM exch copy
	} def

	/initgraphics {
		DocumentInitState setmiterlimit setgray setdash 
			setlinejoin setlinecap setlinewidth setmatrix
		DefFigCTM setmatrix
	} def

	/showpage {
		initgraphics
	} def

} def
% Args are llx lly urx ury (in figure coordinates)
/clipFig {
	currentpoint 6 2 roll
	newpath 4 copy
	4 2 roll moveto
	6 -1 roll exch lineto
	exch lineto
	exch lineto
	closepath clip
	newpath
	moveto
} def
% doclip, if called, will always be just after a `startfig'
/doclip { llx lly urx ury clipFig } def
/endFig {
	end SavedState restore
} def
/globalstart {
	% Push details about the enviornment on the stack.
	fontnum fontsize fontslant fontheight firstpage 
	mh my resolution slotno currentpoint 
	pagesave restore gsave 
} def
/globalend {
	grestore moveto
	/slotno exch def /resolution exch def /my exch def
	/mh exch def /firstpage exch def /fontheight exch def
	/fontslant exch def /fontsize exch def /fontnum exch def
	F
	/pagesave save def
} def

%% end Psfig additions

/fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def
/xi {0 72 11 mul translate 72 resolution div dup neg scale 0 0 moveto
  /fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def F
  /pagesave save def}def
/PB{save /psv exch def currentpoint translate
  resolution 72 div dup neg scale 0 0 moveto}def
/PE{psv restore}def
/m1 matrix def /m2 matrix def /m3 matrix def /oldmat matrix def
/tan{dup sin exch cos div}bind def
/point{resolution 72 div mul}bind def
/dround	{transform round exch round exch itransform}bind def
/xT{/devname exch def}def
/xr{/mh exch def /my exch def /resolution exch def}def
/xp{}def
/xs{docsave restore end}def
/xt{}def
/xf{/fontname exch def /slotno exch def fontnames slotno get fontname eq not
 {fonts slotno fontname findfont put fontnames slotno fontname put}if}def
/xH{/fontheight exch def F}bind def
/xS{/fontslant exch def F}bind def
/s{/fontsize exch def /fontheight fontsize def F}bind def
/f{/fontnum exch def F}bind def
/F{fontheight 0 le {/fontheight fontsize def}if
   fonts fontnum get fontsize point 0 0 fontheight point neg 0 0 m1 astore
   fontslant 0 ne{1 0 fontslant tan 1 0 0 m2 astore m3 concatmatrix}if
   makefont setfont .04 fontsize point mul 0 dround pop setlinewidth}bind def
/X{exch currentpoint exch pop moveto show}bind def
/N{3 1 roll moveto show}bind def
/Y{exch currentpoint pop exch moveto show}bind def
/S /show load def
/ditpush{}def/ditpop{}def
/AX{3 -1 roll currentpoint exch pop moveto 0 exch ashow}bind def
/AN{4 2 roll moveto 0 exch ashow}bind def
/AY{3 -1 roll currentpoint pop exch moveto 0 exch ashow}bind def
/AS{0 exch ashow}bind def
/MX{currentpoint exch pop moveto}bind def
/MY{currentpoint pop exch moveto}bind def
/MXY /moveto load def
/cb{pop}def	% action on unknown char -- nothing for now
/n{}def/w{}def
/p{pop showpage pagesave restore /pagesave save def}def
/abspoint{currentpoint exch pop add exch currentpoint pop add exch}def
/dstroke{currentpoint stroke moveto}bind def
/Dl{2 copy gsave rlineto stroke grestore rmoveto}bind def
/arcellipse{oldmat currentmatrix pop
 currentpoint translate 1 diamv diamh div scale /rad diamh 2 div def
 rad 0 rad -180 180 arc oldmat setmatrix}def
/Dc{gsave dup /diamv exch def /diamh exch def arcellipse dstroke 
    grestore diamh 0 rmoveto}def
/De{gsave /diamv exch def /diamh exch def arcellipse dstroke
    grestore diamh 0 rmoveto}def
/Da{currentpoint /by exch def /bx exch def /fy exch def /fx exch def
   /cy exch def /cx exch def /rad cx cx mul cy cy mul add sqrt def
   /ang1 cy neg cx neg atan def /ang2 fy fx atan def cx bx add cy by add
   2 copy rad ang1 ang2 arcn stroke exch fx add exch fy add moveto}def
/Barray 200 array def % 200 values in a wiggle
/D~{mark}def
/D~~{counttomark Barray exch 0 exch getinterval astore /Bcontrol exch def pop
 /Blen Bcontrol length def Blen 4 ge Blen 2 mod 0 eq and
 {Bcontrol 0 get Bcontrol 1 get abspoint /Ycont exch def /Xcont exch def
  Bcontrol 0 2 copy get 2 mul put Bcontrol 1 2 copy get 2 mul put
  Bcontrol Blen 2 sub 2 copy get 2 mul put
  Bcontrol Blen 1 sub 2 copy get 2 mul put
  /Ybi /Xbi currentpoint 3 1 roll def def 0 2 Blen 4 sub
  {/i exch def
   Bcontrol i get 3 div Bcontrol i 1 add get 3 div
   Bcontrol i get 3 mul Bcontrol i 2 add get add 6 div
   Bcontrol i 1 add get 3 mul Bcontrol i 3 add get add 6 div
   /Xbi Xcont Bcontrol i 2 add get 2 div add def
   /Ybi Ycont Bcontrol i 3 add get 2 div add def
   /Xcont Xcont Bcontrol i 2 add get add def
   /Ycont Ycont Bcontrol i 3 add get add def
   Xbi currentpoint pop sub Ybi currentpoint exch pop sub rcurveto
  }for dstroke}if}def
end
/ditstart{$DITroff begin
 /nfonts 60 def			% NFONTS makedev/ditroff dependent!
 /fonts[nfonts{0}repeat]def
 /fontnames[nfonts{()}repeat]def
/docsave save def
}def

% character outcalls
/oc {/pswid exch def /cc exch def /name exch def
   /ditwid pswid fontsize mul resolution mul 72000 div def
   /ditsiz fontsize resolution mul 72 div def
   ocprocs name known{ocprocs name get exec}{name cb}
   ifelse}def
/fractm [.65 0 0 .6 0 0] def
/fraction
 {/fden exch def /fnum exch def gsave /cf currentfont def
  cf fractm makefont setfont 0 .3 dm 2 copy neg rmoveto
  fnum show rmoveto currentfont cf setfont(\244)show setfont fden show 
  grestore ditwid 0 rmoveto} def
/oce {grestore ditwid 0 rmoveto}def
/dm {ditsiz mul}def
/ocprocs 50 dict def ocprocs begin
(14){(1)(4)fraction}def
(12){(1)(2)fraction}def
(34){(3)(4)fraction}def
(13){(1)(3)fraction}def
(23){(2)(3)fraction}def
(18){(1)(8)fraction}def
(38){(3)(8)fraction}def
(58){(5)(8)fraction}def
(78){(7)(8)fraction}def
(sr){gsave .05 dm .16 dm rmoveto(\326)show oce}def
(is){gsave 0 .15 dm rmoveto(\362)show oce}def
(->){gsave 0 .02 dm rmoveto(\256)show oce}def
(<-){gsave 0 .02 dm rmoveto(\254)show oce}def
(==){gsave 0 .05 dm rmoveto(\272)show oce}def
end
% DIThacks fonts for some special chars
50 dict dup begin
/FontType 3 def
/FontName /DIThacks def
/FontMatrix [.001 0.0 0.0 .001 0.0 0.0] def
/FontBBox [-220 -280 900 900] def% a lie but ...
/Encoding 256 array def
0 1 255{Encoding exch /.notdef put}for
Encoding
 dup 8#040/space put %space
 dup 8#110/rc put %right ceil
 dup 8#111/lt put %left  top curl
 dup 8#112/bv put %bold vert
 dup 8#113/lk put %left  mid curl
 dup 8#114/lb put %left  bot curl
 dup 8#115/rt put %right top curl
 dup 8#116/rk put %right mid curl
 dup 8#117/rb put %right bot curl
 dup 8#120/rf put %right floor
 dup 8#121/lf put %left  floor
 dup 8#122/lc put %left  ceil
 dup 8#140/sq put %square
 dup 8#141/bx put %box
 dup 8#142/ci put %circle
 dup 8#143/br put %box rule
 dup 8#144/rn put %root extender
 dup 8#145/vr put %vertical rule
 dup 8#146/ob put %outline bullet
 dup 8#147/bu put %bullet
 dup 8#150/ru put %rule
 dup 8#151/ul put %underline
 pop
/DITfd 100 dict def
/BuildChar{0 begin
 /cc exch def /fd exch def
 /charname fd /Encoding get cc get def
 /charwid fd /Metrics get charname get def
 /charproc fd /CharProcs get charname get def
 charwid 0 fd /FontBBox get aload pop setcachedevice
 40 setlinewidth
 newpath 0 0 moveto gsave charproc grestore
 end}def
/BuildChar load 0 DITfd put
%/UniqueID 5 def
/CharProcs 50 dict def
CharProcs begin
/space{}def
/.notdef{}def
/ru{500 0 rls}def
/rn{0 750 moveto 500 0 rls}def
/vr{20 800 moveto 0 -770 rls}def
/bv{20 800 moveto 0 -1000 rls}def
/br{20 770 moveto 0 -1040 rls}def
/ul{0 -250 moveto 500 0 rls}def
/ob{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath stroke}def
/bu{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath fill}def
/sq{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath stroke}def
/bx{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath fill}def
/ci{355 333 rmoveto currentpoint newpath 333 0 360 arc
    50 setlinewidth stroke}def

/lt{20 -200 moveto 0 550 rlineto currx 800 2cx s4 add exch s4 a4p stroke}def
/lb{20 800 moveto 0 -550 rlineto currx -200 2cx s4 add exch s4 a4p stroke}def
/rt{20 -200 moveto 0 550 rlineto currx 800 2cx s4 sub exch s4 a4p stroke}def
/rb{20 800 moveto 0 -500 rlineto currx -200 2cx s4 sub exch s4 a4p stroke}def
/lk{20 800 moveto 20 300 -280 300 s4 arcto pop pop 1000 sub
    currentpoint stroke moveto
    20 300 4 2 roll s4 a4p 20 -200 lineto stroke}def
/rk{20 800 moveto 20 300 320 300 s4 arcto pop pop 1000 sub
    currentpoint stroke moveto
    20 300 4 2 roll s4 a4p 20 -200 lineto stroke}def
/lf{20 800 moveto 0 -1000 rlineto s4 0 rls}def
/rf{20 800 moveto 0 -1000 rlineto s4 neg 0 rls}def
/lc{20 -200 moveto 0 1000 rlineto s4 0 rls}def
/rc{20 -200 moveto 0 1000 rlineto s4 neg 0 rls}def
end

/Metrics 50 dict def Metrics begin
/.notdef 0 def
/space 500 def
/ru 500 def
/br 0 def
/lt 250 def
/lb 250 def
/rt 250 def
/rb 250 def
/lk 250 def
/rk 250 def
/rc 250 def
/lc 250 def
/rf 250 def
/lf 250 def
/bv 250 def
/ob 350 def
/bu 350 def
/ci 750 def
/bx 750 def
/sq 750 def
/rn 500 def
/ul 500 def
/vr 0 def
end

DITfd begin
/s2 500 def /s4 250 def /s3 333 def
/a4p{arcto pop pop pop pop}def
/2cx{2 copy exch}def
/rls{rlineto stroke}def
/currx{currentpoint pop}def
/dround{transform round exch round exch itransform} def
end
end
/DIThacks exch definefont pop

ditstart
(psc)xT
576 1 1 xr
1(Times-Roman)xf 1 f
2(Times-Italic)xf 2 f
3(Times-Bold)xf 3 f
4(Times-BoldItalic)xf 4 f
5(Helvetica)xf 5 f
6(Helvetica-Bold)xf 6 f
7(Courier)xf 7 f
8(Courier-Bold)xf 8 f
9(Symbol)xf 9 f
10(DIThacks)xf 10 f
10 s
1 f
xi
%%EndProlog

%%Page: 1 1
10 s 0 xH 0 xS 1 f
8 s
6 f
14 s
1664 984(News)N
1987(Need)X
2291(Not)X
2509(Be)X
2683(Slow)X
2 f
10 s
2085 1176(Geoff)N
2283(Collyer)X
1901 1320(Department)N
2304(of)X
2386(Statistics)X
1 f
8 s
2674 1298(*)N
2 f
10 s
1957 1416(University)N
2311(of)X
2393(Toronto)X
1879 1512(utzoo!utcsri!utfraser!geoff)N
2064 1704(Henry)N
2285(Spencer)X
1866 1848(Zoology)N
2148(Computer)X
2488(Systems)X
1957 1944(University)N
2311(of)X
2393(Toronto)X
2112 2040(utzoo!henry)N
2115 2328(ABSTRACT)N
1 f
1064 2520(C)N
1141(news)X
1330(is)X
1407(a)X
1467(re-write,)X
1766(from)X
1946(scratch,)X
2219(of)X
2311(the)X
2434(`transport)X
2771(layer')X
2984(of)X
3076(the)X
3199(Usenet)X
3447(software.)X
864 2616(C)N
939(rnews)X
1153(runs)X
1313(at)X
1393(over)X
1558(19)X
1660(times)X
1855(the)X
1975(speed)X
2180(of)X
2269(B)X
2344(rnews;)X
2580(C)X
2655(expire)X
2878(runs)X
3038(in)X
3122(minutes)X
3397(rather)X
3606(than)X
864 2712(the)N
984(hours)X
1184(taken)X
1380(by)X
1482(B)X
1557(expire.)X
1820(These)X
2034(performance)X
2464(improvements)X
2945(were)X
3125(\(mostly\))X
3419(quite)X
3602(sim-)X
864 2808(ple)N
982(and)X
1118(straightforward,)X
1653(and)X
1789(they)X
1947(exemplify)X
2292(general)X
2549(principles)X
2885(of)X
2972(performance)X
3399(tuning.)X
3 f
576 3096(1.)N
6 f
680(History)X
977(and)X
1141(Motivation)X
1 f
776 3220(In)N
876(the)X
1007(beginning)X
1360(\(of)X
1487(Usenet\))X
1770(\(1979\))X
2017(was)X
2175(A)X
2266(news,)X
2484(written)X
2744(at)X
2835(Duke)X
3042(University)X
3413(by)X
3526(Steve)X
3737(Bellovin,)X
576 3316(Stephen)N
856(Daniel,)X
1112(Tom)X
1285(Truscott)X
1574(and)X
1711(others.)X
1968(A)X
2047(single)X
2259(program,)X
2 f
2572(news)X
1 f
2745(,)X
2786(received,)X
3100(relayed,)X
3378(perused)X
3649(and)X
3786(cleaned)X
576 3412(out)N
707(news)X
901(articles.)X
1203(All)X
1335(articles)X
1597(were)X
1784(stored)X
2010(in)X
2102(a)X
2168(single)X
8 s
2385(UNIX)X
2544 3390(\262)N
10 s
2606 3412(directory,)N
2946(which)X
3172(made)X
3376(A)X
3464(news)X
3659(suitable)X
3938(for)X
576 3508(local)N
755(news)X
943(and)X
1082(low)X
1225(volumes)X
1519(of)X
1609(network)X
1895(news.)X
2123(News)X
2329(articles)X
2584(were)X
2763(exchanged)X
3129(using)X
3324(a)X
3382(simple)X
3617(message)X
3911(for-)X
576 3604(mat)N
728(in)X
822(which)X
1050(the)X
1180(\256rst)X
1336(\256ve)X
1488(lines)X
1671(of)X
1770(a)X
1839(message)X
2144(contained)X
2489(the)X
2620(information)X
3031(nowadays)X
3385(found)X
3605(in)X
3700(the)X
3831(article)X
576 3700(headers:)N
864(unique)X
1102(article-id,)X
1432(newsgroup\(s\),)X
1909(author,)X
2154(subject,)X
2421(date)X
2575(posted.)X
776 3824(As)N
897(Usenet)X
1152(began)X
1376(to)X
1470(grow)X
1667(\(1981\),)X
1933(people)X
2179(in)X
2273(and)X
2421(around)X
2676(the)X
2806(University)X
3176(of)X
3275(California)X
3632(at)X
3722(Berkeley,)X
576 3920(including)N
901(Matt)X
1075(Glickman)X
1414(and)X
1553(Mark)X
1750(Horton,)X
2020(modi\256ed)X
2326(A)X
2406(news)X
2593(extensively.)X
3020(The)X
3167(articles)X
3421(of)X
3510(each)X
3680(newsgroup)X
576 4016(were)N
755(now)X
915(stored)X
1133(in)X
1217(a)X
1275(separate)X
1561(directory.)X
1913(The)X
2061(message)X
2356(format)X
2593(was)X
2741(changed)X
3032(from)X
3211(the)X
3332(rigid)X
3506(and)X
3645(inextensible)X
576 4112(A)N
655(news)X
841(header)X
1077(format)X
1312(to)X
1395(one)X
1532(conforming)X
1927(to)X
2010(ARPA)X
2244(RFC)X
2415(822)X
2555(\(the)X
2700(current)X
2948(ARPA)X
3181(mail-message)X
3642(format)X
3876(stan-)X
576 4208(dard\).)N
2 f
814(News)X
1 f
1028(was)X
1181(broken)X
1432(into)X
1584(separate)X
1876(programs:)X
2 f
2229(readnews)X
1 f
2536(,)X
2 f
2584(inews)X
1 f
2794(\(aka)X
2 f
2961(rnews)X
1 f
3152(\),)X
3227(and)X
2 f
3372(expire)X
1 f
3573(.)X
3642(The)X
3796(authors)X
576 4304(dubbed)N
836(the)X
958(result)X
1160(``B)X
1291(news''.)X
1574(Since)X
1776(the)X
1898(release)X
2146(of)X
2237(B)X
2314(news,)X
2523(it)X
2590(has)X
2720(replaced)X
3016(A)X
3097(news)X
3285(almost)X
8 s
3498 4282(\263)N
10 s
3553 4304(everywhere)N
3952(on)X
576 4400(Usenet.)N
776 4524(It)N
845(soon)X
1017(became)X
1284(clear)X
1462(that)X
1603(sending)X
1873(individual)X
2218(articles)X
2471(from)X
2648(machine)X
2941(to)X
3024(machine)X
3317(as)X
3405(separate)X
2 f
3690(uucp)X
1 f
3880(tran-)X
576 4620(sactions)N
873(was)X
1037(unacceptably)X
1500(slow,)X
1710(in)X
1810(part)X
1973(because)X
2266(it)X
2348(produced)X
2685(large)X
2 f
2884(uucp)X
1 f
3091(spool)X
3302(directories,)X
3699(which)X
3933(are)X
576 4716(searched)N
911(quite)X
1124(slowly)X
8 s
1337(*)X
10 s
1422(by)X
1555(the)X
1707(kernel.)X
2002(Sites)X
2211(began)X
2457(to)X
2 f
2573(batch)X
1 f
2818(articles)X
3104(into)X
3282(batches)X
3577(of)X
3698(\(typically\))X
576 4812(50,000)N
9 f
(-)S
1 f
840(100,000)X
1120(bytes)X
1309(for)X
1423(transmission)X
1847(to)X
1929(other)X
2114(machines.)X
776 4936(At)N
904(about)X
1130(this)X
1293(time,)X
1503(B)X
1604(news)X
1817(was)X
1990(changed)X
2306(to)X
2416(\256le)X
2566(news)X
2780(articles)X
3061(in)X
3172(a)X
3257(tree,)X
3447(as)X
3563(\(for)X
3733(example\))X
576 5032(/usr/spool/news/net/women/only/123,)N
1810(rather)X
2026(than)X
2192(as)X
2287(/usr/spool/news/net.women.only/123.)X
3537(The)X
3689(motive)X
3938(for)X
576 5128(this)N
722(was)X
878(primarily)X
1207(elimination)X
1602(of)X
1700(problems)X
2029(with)X
2202(long)X
2375(newsgroup)X
2758(names,)X
3014(but)X
3148(shortening)X
3518(directories)X
3889(\(and)X
576 5224(thus)N
729(speeding)X
1034(searches\))X
1354(was)X
1499(also)X
1648(a)X
1704(consideration.)X
8 s
10 f
576 5304(hhhhhhhhhhhhhhhhhh)N
1 f
576 5384(*)N
624(Work)X
785(done)X
925(mostly)X
1116(while)X
1274(at)X
1336(U)X
1398(of)X
1467(T)X
1522(Computing)X
1827(Services.)X
576 5464(\262)N
624(UNIX)X
799(is)X
858(a)X
902(registered)X
1169(trademark)X
1443(of)X
1512(AT&T.)X
576 5544(\263)N
624(AT&T)X
814(Bell)X
937(Laboratories)X
1275(Research)X
1524(still)X
1637(runs)X
1763(A)X
1825(news)X
1972(for)X
2062(local)X
2202(newsgroups.)X
576 5624(*)N
628(Recent)X
2 f
825(uucp)X
1 f
949(s)X
994(\(notably)X
1228(Honey)X
1419(DanBer\))X
1659(provide)X
1875(spool)X
2035(sub-directories,)X
2451(and)X
2564(recent)X
2740(4BSD)X
2918(\(4.3BSD)X
3165(and)X
3278(later\))X
3433(kernels)X
3638(pro-)X
576 5704(vide)N
702(linear)X
863(\(as)X
953(opposed)X
1182(to)X
1248(quadratic\))X
1522(directory)X
1768(searching,)X
2044(both)X
2174(of)X
2243(which)X
2415(help)X
2541(this)X
2650(problem.)X

2 p
%%Page: 2 2
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(2)X
2344(-)X
776 672(As)N
903(Usenet)X
1164(traf\256c)X
1394(continued)X
1748(to)X
1848(grow)X
2051(explosively,)X
2478(sites)X
2658(began)X
2888(to)X
2988(use)X
3133(data)X
3305(compression)X
3748(on)X
3867(news)X
576 768(batches.)N
888(The)X
1044(main)X
1235(objective)X
1560(was)X
1716(to)X
1809(reduce)X
2055(expensive)X
2407(long-distance)X
2870(phone)X
3097(time,)X
3289(but)X
3421(again)X
3625(performance)X
576 864(improved)N
910(a)X
973(bit:)X
1106(the)X
1231(extra)X
1419(processor)X
1754(time)X
1923(used)X
2098(for)X
2220(compression)X
2653(and)X
2797(decompression)X
3306(was)X
3459(more)X
3652(than)X
3818(gained)X
576 960(back)N
748(by)X
848(the)X
966(reduction)X
1289(in)X
1371(processor)X
1699(time)X
1861(used)X
2028(by)X
2 f
2128(uucp)X
1 f
2317(itself.)X
776 1084(Unfortunately,)N
1268(B)X
1343(news)X
1530(has)X
1659(been)X
1833(modi\256ed)X
2139(by)X
2241(many)X
2441(people)X
2677(since)X
2864(1981,)X
3066(and)X
3204(has)X
3333(mutated)X
3613(repeatedly)X
3970(to)X
576 1180(match)N
792(the)X
910(changing)X
1224(nature)X
1445(of)X
1532(Usenet.)X
1815(It)X
1884(has)X
2011(become)X
2281(complex,)X
2597(slow,)X
2788(and)X
2924(dif\256cult)X
3197(to)X
3279(maintain.)X
776 1304(During)N
1024(1985,)X
1225(we)X
1340(observed)X
1651(that)X
1792(the)X
1911(nightly)X
2158(arrival)X
2389(of)X
2477(new)X
2632(news)X
2818(and)X
2955(expiry)X
3181(of)X
3269(old)X
3392(news)X
3578(were)X
3756(consum-)X
576 1400(ing)N
702(resources)X
1030(far)X
1144(out)X
1270(of)X
1361(proportion)X
1723(to)X
1809(the)X
1931(volume)X
2196(of)X
2288(data)X
2447(involved)X
8 s
1378(\262)Y
10 s
1400(.)Y
2 f
2824(Expire)X
1 f
3076(often)X
3266(ran)X
3394(for)X
3513(90)X
3618(minutes,)X
3916(and)X
2 f
576 1496(rnews)N
1 f
808(processing)X
1179(averaged)X
1498(10)X
1606(seconds)X
1888(or)X
1983(more)X
2176(per)X
2307(article.)X
2576(Both)X
2759(programs)X
3090(tended)X
3332(to)X
3422(cripple)X
3672(systems)X
3952(by)X
576 1592(performing)N
959(much)X
1159(disk)X
1314(i/o)X
1420(and)X
1559(eating)X
1778(much)X
1979(system-mode)X
2429(CPU)X
2607(time.)X
3 f
2812(Utcs)X
1 f
2987(was)X
3135(running)X
3407(B)X
3483(2.10.1)X
3706(news)X
3894(then)X
576 1688(and)N
3 f
719(utzoo)X
1 f
933(was)X
1085(running)X
1361(B)X
1441(2.10)X
1608(news.)X
1840(Although)X
2169(newer)X
2393(B)X
2472(news)X
2663(releases)X
2944(were)X
3127(available,)X
3463(they)X
3627(offered)X
3886(little)X
576 1784(beyond)N
838(B)X
917(2.10,)X
1103(and)X
1245(it)X
1315(was)X
1466(often)X
1657(necessary)X
1996(to)X
2084(regression-test)X
2578(new)X
2738(B)X
2817(news)X
3008(releases)X
3289(to)X
3378(verify)X
3597(that)X
3744(reported,)X
576 1880(published)N
907(bug)X
1047(\256xes)X
1218(had)X
1354(in)X
1436(fact)X
1577(been)X
1749(applied.)X
776 2004(Spencer)N
1062(acted)X
1259(\256rst)X
1410(and)X
1553(rewrote)X
2 f
1826(expire)X
1 f
2067(from)X
2250(the)X
2375(ground)X
2629(up.)X
2776(Though)X
3052(it)X
3123(initially)X
3399(lacked)X
3637(any)X
3781(form)X
3965(of)X
576 2100(selective)N
885(expiry,)X
1138(this)X
2 f
1281(expire)X
1 f
1495(,)X
1543(when)X
1745(run)X
1880(each)X
2056(night,)X
2268(\256nished)X
2549(in)X
2639(about)X
2845(15)X
2953(minutes.)X
3274(\(This)X
3470(was)X
3622(on)X
3729(750-class)X
576 2196(machines)N
899(holding)X
1163(all)X
1263(Usenet)X
1506(news)X
1691(and)X
1827(expiring)X
2114(after)X
2282(14)X
2382(days.\))X
776 2320(Collyer)N
1047(observed)X
1369(in)X
1463(November)X
1834(1985)X
2026(that)X
2178(B)X
2 f
2263(rnews)X
1 f
2467(,)X
2519(upon)X
2711(receiving)X
3042(a)X
3110(batch)X
3316(of)X
3415(news,)X
3632(immediately)X
2 f
576 2416(exec)N
1 f
720(ed)X
825(a)X
890(trivial)X
1110(unbatcher)X
1456(which)X
1681(copied)X
1924(each)X
2101(article)X
2331(into)X
2484(a)X
2549(temporary)X
2908(\256le)X
3039(and)X
3183(then)X
3349(forked)X
3587(and)X
2 f
3731(exec)X
1 f
3875(ed)X
3979(B)X
576 2512(rnews)N
796(again.)X
1038(Such)X
1226(a)X
1290(technique)X
1630(is)X
1711(clearly)X
1958(overkill)X
2235(for)X
2357(articles)X
2617(averaging)X
2962(about)X
3168(3,000)X
3377(bytes)X
3575(each.)X
3792(Prelim-)X
576 2608(inary)N
767(experiments)X
1184(failed)X
1392(to)X
1479(produce)X
1763(a)X
1824(modi\256ed)X
2133(B)X
2211(rnews)X
2428(that)X
2573(could)X
2776(unravel)X
3042(a)X
3103(batch)X
3302(without)X
3571(forking.)X
3872(Con-)X
576 2704(sultation)N
876(with)X
1043(Rick)X
1219(Adams,)X
1492(the)X
1616(current)X
1870(B-news)X
2141(maintainer,)X
2530(revealed)X
2829(that)X
2975(this)X
3116(same)X
3307(technique)X
3645(remained)X
3970(in)X
576 2800(the)N
699(upcoming)X
1044(B)X
1122(news)X
1312(release)X
1561(\(variously)X
1911(B)X
1989(2.10.3)X
2214(or)X
2306(B)X
2384(2.11\).)X
2616(Within)X
2863(one)X
3004(week)X
8 s
3174 2778(\263)N
10 s
2800(,)Y
3251(a)X
3312(from-scratch)X
3749(C)X
2 f
3828(rnews)X
1 f
576 2896(prototype)N
903(was)X
1048(working)X
1335(well)X
1493(enough)X
1749(to)X
1831(run)X
1958(experimentally)X
2459(on)X
2559(a)X
2615(`leaf')X
2810(machine)X
3102(receiving)X
3421(a)X
3477(subset)X
3697(of)X
3784(news.)X
776 3020(This)N
945(prototype)X
1279(version)X
1542(lacked)X
1779(a)X
1842(good)X
2029(many)X
2234(necessary)X
2575(amenities,)X
2930(and)X
3074(over)X
3245(the)X
3371(next)X
3537(eight)X
3725(months)X
3988(it)X
576 3116(was)N
731(enhanced)X
1065(to)X
1157(bring)X
1356(it)X
1430(up)X
1540(to)X
1632(full)X
1773(functionality.)X
2252(It)X
2330(was)X
2484(also)X
2642(tuned)X
2849(heavily)X
3114(to)X
3205(improve)X
3501(its)X
3605(performance,)X
576 3212(since)N
761(it)X
825(was)X
970(faster)X
1169(than)X
1327(B)X
2 f
1400(rnews)X
1 f
1624(but)X
1746(still)X
1885(not)X
2007(fast)X
2143(enough)X
2399(to)X
2481(make)X
2675(us)X
2766(happy.)X
776 3336(Once)N
974(the)X
2 f
1100(rnews)X
1 f
1333(newsgroup)X
1714(name)X
1917(matching)X
2244(routines)X
2531(were)X
2717(working,)X
3033(Spencer)X
3321(revised)X
2 f
3582(expire)X
1 f
3825(to)X
3916(add)X
576 3432(selective)N
880(expiry,)X
1128(speci\256ed)X
1436(in)X
1521(a)X
1580(control)X
1830(\256le.)X
1995(Recently,)X
2323(we)X
2440(have)X
2614(also)X
2765(revised)X
3019(our)X
3148(old)X
3272(batcher)X
3531(heavily,)X
3809(largely)X
576 3528(to)N
658(add)X
794(capability)X
1130(but)X
1252(with)X
1414(an)X
1510(eye)X
1642(on)X
1742(performance.)X
3 f
576 3720(2.)N
6 f
680(Rnews)X
959(Performance)X
1 f
776 3844(The)N
924(basic)X
1112(objective)X
1429(of)X
1519(C)X
1596(news)X
1785(was)X
1934(simpler)X
2198(code)X
2374(and)X
2514(higher)X
2743(performance.)X
3214(This)X
3380(may)X
3542(sound)X
3757(trite,)X
3930(but)X
576 3940(note)N
745(that)X
896(performance)X
1334(was)X
1490(an)X
1597(explicit)X
1868(objective.)X
2233(That)X
2411(was)X
2567(important.)X
2 f
2949(Programs)X
3300(will)X
3450(seldom)X
3708(run)X
3850(faster)X
576 4036(unless)N
796(you)X
932(care)X
1095(about)X
1297(making)X
1553(them)X
1729(run)X
1860(faster.)X
1 f
776 4160(`Faster')N
1047(implies)X
1303(comparison)X
1698(to)X
1781(a)X
1838(slower)X
2073(version.)X
2371(Knowing)X
2691(the)X
2811(value)X
3007(of)X
3096(improvements,)X
3596(and)X
3734(assessing)X
576 4256(this)N
720(in)X
811(relation)X
1085(to)X
1176(their)X
1352(cost,)X
1530(requires)X
1817(knowing)X
2125(the)X
2251(performance)X
2686(of)X
2781(the)X
2907(unimproved)X
3322(version.)X
3626(Collyer)X
3894(kept)X
576 4352(detailed)N
850(records)X
1107(of)X
1194(his)X
1307(work)X
1492(on)X
2 f
1592(rnews)X
1 f
1796(,)X
1836(so)X
1927(he)X
2023(could)X
2221(see)X
2344(how)X
2502(much)X
2700(progress)X
2992(he)X
3088(was)X
3234(making.)X
3535(See)X
3672(the)X
3791(Appen-)X
576 4448(dix)N
698(for)X
812(the)X
930(\256nal)X
1092(result.)X
2 f
1330(To)X
1434(know)X
1623(how)X
1776(to)X
1858(get)X
1976(somewhere,)X
2377(you)X
2513(must)X
2684(know)X
2873(where)X
3089(you)X
3225(are)X
3352(starting)X
3620(from.)X
1 f
776 4572(The)N
921(\256rst)X
1065(functional)X
1410(C)X
2 f
1483(rnews)X
1 f
1707(ran)X
1830(at)X
1908(about)X
2106(3)X
2166(times)X
2359(the)X
2477(speed)X
2680(of)X
2767(B)X
2 f
2840(rnews)X
1 f
3044(.)X
3104(We)X
3236(had)X
3372(assumed)X
3668(that)X
3809(merely)X
576 4668(eliminating)N
962(the)X
1082(fork/exec)X
1408(on)X
1509(each)X
1678(article)X
1900(would)X
2121(give)X
2280(a)X
2337(factor)X
2546(of)X
2634(10)X
2735(improvement,)X
3203(so)X
3295(this)X
3431(was)X
3577(disappointing.)X
2 f
576 4764(Avoiding)N
885(obvious)X
1154(performance)X
1584(disasters)X
1888(helps...)X
2157(but)X
2279(it's)X
2401(not)X
2523(always)X
2765(enough.)X
1 f
776 4888(Pro\256ling,)N
1101(\256rst)X
1251(with)X
2 f
1419(prof)X
1 f
1565(\(1\))X
1685(and)X
1827(later)X
1996(with)X
2164(4.2BSD's)X
2 f
2503(gprof)X
1 f
2689(\(1\),)X
2829(and)X
2971(rewriting)X
3291(of)X
3384(the)X
3508(bottlenecks)X
3899(thus)X
576 4984(discovered,)N
979(eventually)X
1348(brought)X
1632(the)X
1765(speed)X
1983(up)X
2098(to)X
2195(over)X
2373(19)X
2488(times)X
2696(the)X
2829(speed)X
3047(of)X
3149(B)X
2 f
3237(rnews)X
1 f
3441(.)X
3516(This)X
3693(required)X
3996(a)X
576 5080(number)N
842(of)X
930(write-pro\256le-study-rewrite)X
1807(cycles.)X
2069(There)X
2278(is)X
2352(undoubtedly)X
2773(still)X
2913(a)X
2970(lot)X
3075(of)X
3163(code)X
3337(which)X
3555(could)X
3755(be)X
3853(faster)X
576 5176(than)N
741(it)X
812(is,)X
912(but)X
1041(since)X
1233(pro\256ling)X
1535(shows)X
1762(that)X
1909(it)X
1980(doesn't)X
2243(have)X
2421(a)X
2483(signi\256cant)X
2842(impact)X
3086(on)X
3192(overall)X
3441(performance,)X
3894(who)X
576 5272(cares?)N
2 f
818(To)X
922(locate)X
1138(performance)X
1568(problems,)X
1906(look)X
2064(through)X
2337(the)X
2455(eyes)X
2614(of)X
2696(thy)X
2814(pro\256ler.)X
1 f
776 5396(Collyer)N
1042(\256rst)X
1192(experimented)X
1655(with)X
1823(using)X
2 f
2022(read)X
1 f
2208(and)X
2 f
2350(write)X
1 f
2553(system)X
2801(calls)X
2974(instead)X
3227(of)X
2 f
3320(fread)X
1 f
3528(and)X
2 f
3670(fwrite)X
1 f
3869(,)X
3916(and)X
576 5492(got)N
705(a)X
768(substantial)X
1137(saving.)X
1413(Though)X
1689(the)X
1814(usage)X
2024(of)X
2118(system)X
2367(calls)X
2541(in)X
2630(this)X
2772(experiment)X
3159(was)X
3310(unportable,)X
3699(the)X
3823(saving)X
8 s
10 f
576 5572(hhhhhhhhhhhhhhhhhh)N
1 f
576 5652(\262)N
624(Never)X
795(mind)X
943(the)X
1037(cost/bene\256t)X
1348(ratio.)X
576 5732(\263)N
624(40)X
704(hours,)X
878(Collyer)X
1086(didn't)X
1255(have)X
1391(to)X
1457(work)X
1604(hard.)X

3 p
%%Page: 3 3
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(3)X
2344(-)X
576 672(eventually)N
930(lead)X
1084(him)X
1228(to)X
1310(rewrite)X
2 f
1558(fread)X
1 f
1760(and)X
2 f
1896(fwrite)X
1 f
2115(from)X
2292(scratch)X
2541(to)X
2624(reduce)X
2860(the)X
2979(per-byte)X
3268(overheads.)X
3655(This)X
3818(helped)X
576 768(noticeably,)N
953(since)X
1141(pre-System-V)X
2 f
1614(fread)X
1 f
1819(and)X
2 f
1958(fwrite)X
1 f
2180(are)X
2302(really)X
2508(quite)X
2691(inef\256cient.)X
2 f
3079(If)X
3151(thy)X
3272(library)X
3517(function)X
3801(offends)X
576 864(thee,)N
750(pluck)X
944(it)X
1008(out)X
1130(and)X
1270(\256x)X
1366(it.)X
1 f
776 988(At)N
879(the)X
1000(time,)X
1185(C)X
2 f
1261(rnews)X
1 f
1488(was)X
1636(doing)X
1841(fairly)X
2038(\256ne-grain)X
2373(locking,)X
2656(essentially)X
3017(locking)X
3280(each)X
3452(\256le)X
3578(independently)X
576 1084(on)N
677(each)X
846(use.)X
1014(News)X
1218(doesn't)X
1475(need)X
1648(the)X
1767(resulting)X
2068(potential)X
2369(concurrency,)X
2808(especially)X
3150(when)X
2 f
3345(rnews)X
1 f
3570(runs)X
3729(relatively)X
576 1180(quickly,)N
859(and)X
998(the)X
1119(locking)X
1382(was)X
1530(clearly)X
1772(a)X
1831(substantial)X
2196(fraction)X
2469(of)X
2560(the)X
2682(execution)X
3018(time.)X
3224(C)X
2 f
3301(rnews)X
1 f
3529(was)X
3678(changed)X
3970(to)X
576 1276(use)N
709(B-news)X
980(compatible)X
1362(locking,)X
1648(with)X
1816(a)X
1878(single)X
2095(lock)X
2259(for)X
2379(the)X
2503(news)X
2694(system)X
2942(as)X
3035(a)X
3097(whole.)X
2 f
3359(Simplicity)X
3704(and)X
3849(speed)X
576 1372(often)N
756(go)X
856(together.)X
1 f
776 1496(When)N
993(sending)X
1267(articles)X
1524(to)X
1611(a)X
1672(site)X
1808(using)X
2006(batching,)X
2 f
2328(rnews)X
1 f
2558(just)X
2699(appends)X
2988(the)X
3112(\256lename)X
3414(of)X
3507(each)X
3681(article)X
3908(to)X
3996(a)X
2 f
576 1592(batch)N
778(\256le)X
1 f
900(for)X
1018(that)X
1162(site.)X
1337(The)X
1486(batch)X
1684(\256le)X
1810(is)X
1886(later)X
2052(processed)X
2392(by)X
2495(the)X
2616(batcher.)X
2916(In)X
3006(principle,)X
3334(batching)X
3633(is)X
3709(an)X
3808(option,)X
576 1688(and)N
716(different)X
1017(sites)X
1183(may)X
1345(get)X
1467(different)X
1768(sets)X
1912(of)X
2003(newsgroups.)X
2450(In)X
2541(practice,)X
2840(few)X
2985(articles)X
3241(are)X
3364(ever)X
3528(sent)X
3682(unbatched,)X
576 1784(and)N
713(most)X
889(articles)X
1142(go)X
1243(to)X
1326(all)X
1427(sites)X
1589(fed)X
1712(by)X
1812(a)X
1868(given)X
2066(system.)X
2348(This)X
2510(means)X
2735(that)X
2 f
2875(rnews)X
1 f
3099(is)X
3172(repeatedly)X
3527(appending)X
3881(lines)X
576 1880(to)N
660(the)X
780(same)X
967(set)X
1079(of)X
1169(batch)X
1366(\256les.)X
1562(Noticing)X
1865(this,)X
2023(Collyer)X
2286(changed)X
2577(C)X
2 f
2653(rnews)X
1 f
2880(to)X
2965(keep)X
3140(these)X
3328(\256les)X
3484(open,)X
3683(rather)X
3894(than)X
576 1976(re-opening)N
944(them)X
1124(for)X
1238(every)X
1437(article)X
8 s
1638(*)X
10 s
(.)S
2 f
1730(Once)X
1920(you've)X
2155(got)X
2277(it,)X
2361(hang)X
2541(onto)X
2703(it.)X
1 f
776 2100(These)N
989(two)X
1130(simple)X
1364 0.2500(changes\320coarser)AX
1957(locking)X
2219(and)X
2357(retaining)X
2664(open)X
2842(\256les\320cut)X
3175(system)X
3419(time)X
3583(by)X
3685(about)X
3885(20%)X
576 2196(and)N
712(real)X
853(time)X
1015(by)X
1115(still)X
1254(more.)X
776 2320(On)N
903(return)X
1124(from)X
1309(Christmas)X
1662(holidays,)X
1982(after)X
2159(considerable)X
2595(agonizing)X
2941(over)X
3114(performance)X
3551(issues,)X
3792(Collyer)X
576 2416(turned)N
809(some)X
1006(small,)X
1227(heavily-used)X
1665 0.1985(character-handling)AX
2296(functions)X
2622(into)X
2774(macros.)X
3073(This)X
3242(reduced)X
3524(user-mode)X
3890(time)X
576 2512(quite)N
756(a)X
812(bit.)X
2 f
956(A)X
1025(function)X
1307(call)X
1447(is)X
1520(an)X
1620(expensive)X
1953(way)X
2102(to)X
2184(perform)X
2462(a)X
2522(small,)X
2735(quick)X
2929(task.)X
776 2636(Rnews)N
1 f
1025(was)X
1177(always)X
1427(looking)X
1698(up)X
1805(\256les)X
1965(by)X
2072(full)X
2210(pathnames.)X
2620(Changing)X
2958(it)X
3029(to)X
2 f
3118(chdir)X
1 f
3327(to)X
3416(the)X
3541(right)X
3719(place)X
3916(and)X
576 2732(use)N
712(relative)X
982(names)X
1216(thereafter)X
1554(reduced)X
1838(system)X
2089(time)X
2260(substantially.)X
2 f
2733(Absolute)X
3042(pathnames)X
3418(are)X
3554(convenient)X
3930(but)X
576 2828(not)N
698(cheap.)X
1 f
776 2952(Studying)N
1090(the)X
1214(pro\256ling)X
1515(data)X
1675(revealed)X
1975(that)X
2 f
2122(rnews)X
1 f
2353(was)X
2505(spending)X
2821(a)X
2884(lot)X
2995(of)X
3089(time)X
3258 0.3250(re-re-re-reading)AX
3796(the)X
2 f
3921(sys)X
1 f
576 3048(and)N
2 f
729(active)X
1 f
970(\256les.)X
1179(These)X
1407(\256les)X
1576(are)X
1711(needed)X
1975(for)X
2105(processing)X
2484(every)X
2699(article,)X
2956(and)X
3108(they)X
3282(are)X
3417(not)X
3555(large.)X
3792(Collyer)X
576 3144(modi\256ed)N
2 f
888(rnews)X
1 f
1120(to)X
1210(simply)X
1455(read)X
1622(these)X
1815(\256les)X
1976(in)X
2066(once)X
2246(and)X
2390(keep)X
2570(them)X
2758(in)X
2848(core.)X
3055(This)X
3225(change)X
3481(alone)X
3683(cut)X
3810(system)X
576 3240(time)N
738(and)X
874(real)X
1015(time)X
1177(by)X
1277(roughly)X
1546(30%.)X
2 f
1753(Again,)X
1984(once)X
2156(you've)X
2391(got)X
2513(it,)X
2597(don't)X
2786(throw)X
2992(it)X
3056(away!)X
1 f
776 3364(There)N
986(is)X
1061(a)X
1119(more)X
1306(subtle)X
1519(point)X
1705(here,)X
1886(as)X
1975(well.)X
2175(When)X
2389(these)X
2576(\256les)X
2731(were)X
2910(re-read)X
3161(every)X
3363(time,)X
3548(they)X
3709(were)X
3889(gen-)X
576 3460(erally)N
791(processed)X
1139(a)X
1206(line)X
1357(at)X
1446(a)X
1513(time.)X
1726(The)X
1882(revised)X
2145(strategy)X
2430(was)X
2586(to)X
2 f
2679(stat)X
1 f
2825(the)X
2954(\256le)X
3087(to)X
3180(determine)X
3532(its)X
3638(size,)X
2 f
3814(malloc)X
1 f
576 3556(enough)N
837(space)X
1041(for)X
1160(the)X
1283(whole)X
1504(\256le,)X
1651(and)X
1792(bring)X
1986(it)X
2056(in)X
2144(with)X
2312(a)X
2374(single)X
2 f
2591(read)X
1 f
2738(.)X
2804(This)X
2972(is)X
3051(a)X
3113(vastly)X
3330(more)X
3521(ef\256cient)X
3810(way)X
3970(to)X
576 3652(read)N
735(a)X
791(\256le!)X
2 f
960(Tasks)X
1162(which)X
1373(can)X
1509(be)X
1605(done)X
1781(in)X
1863(one)X
1999(operation)X
2330(should)X
2563(be.)X
1 f
776 3776(At)N
879(this)X
1017(point)X
1204(\(mid-January)X
1655(1986\),)X
1885(C)X
2 f
1961(rnews)X
1 f
2188(was)X
2336(faster)X
2538(than)X
2700(B)X
2 f
2777(rnews)X
1 f
3005(by)X
3109(one)X
3249(order)X
3443(of)X
3534(magnitude,)X
3916(and)X
576 3872(there)N
757(was)X
902(much)X
1100(rejoicing.)X
776 3996(In)N
867(principle,)X
1197(the)X
1320(`Newsgroups:')X
1822(header)X
2062(line,)X
2227(determining)X
2639(what)X
2820(directories)X
3184(the)X
3307(article)X
3533(will)X
3682(be)X
3783(\256led)X
3950(in,)X
576 4092(can)N
719(be)X
825(arbitrarily)X
1176(far)X
1296(from)X
1482(the)X
1610(start)X
1778(of)X
1875(the)X
2003(article.)X
2274(In)X
2371(practice,)X
2676(it)X
2750(is)X
2833(almost)X
3076(always)X
3329(found)X
3546(within)X
3780(the)X
3908(\256rst)X
576 4188(thousand)N
891(bytes)X
1086(or)X
1179(so.)X
1316(By)X
1435(complicating)X
1879(rnews)X
2097(substantially,)X
2547(it)X
2617(became)X
2889(possible)X
3177(in)X
3265(most)X
3446(cases)X
3642(to)X
2 f
3730(creat)X
1 f
3934(the)X
576 4284(\256le)N
701(in)X
786(the)X
907(right)X
1081(place)X
1274(\(or)X
1391(the)X
1512(\256rst)X
1659(of)X
1749(the)X
1870(right)X
2044(places\))X
2295(in)X
2 f
2380(/usr/spool/news)X
1 f
2917(before)X
3146(writing)X
3400(any)X
3538(of)X
3627(the)X
3747(article)X
3970(to)X
576 4380(disk,)N
756(eliminating)X
1147(the)X
1272(need)X
1451(for)X
1572(temporary)X
1929(\256les)X
2089(or)X
2183(even)X
2362(temporary)X
2719(links.)X
2942(The)X
3095(improvement)X
3550(in)X
3640(system)X
3890(time)X
576 4476(was)N
726(noticeable,)X
1101(and)X
1242(the)X
1365(improvement)X
1817(in)X
1904(user)X
2063(time)X
2230(was)X
2380(even)X
2557(more)X
2747(noticeable.)X
2 f
3142(Prepare)X
3429(for)X
3546(the)X
3668(worst)X
3869(case,)X
576 4572(but)N
698(optimize)X
989(for)X
1102(the)X
1220(typical)X
1458(case.)X
1 f
776 4696(There)N
986(are)X
1108(certain)X
1350(circumstances,)X
1848(notably)X
2111(control-message)X
2660(articles,)X
2935(in)X
3020(which)X
3239(it)X
3306(is)X
3382(necessary)X
3718(to)X
3803(re-read)X
576 4792(the)N
697(article)X
921(after)X
1092(\256ling)X
1283(it.)X
2 f
1390(Rnews)X
1 f
1635(originally)X
1969(re-opened)X
2314(the)X
2435(article)X
2659(to)X
2744(permit)X
2975(this.)X
3152(Changing)X
3485(the)X
3605(invocation)X
3965(of)X
2 f
576 4888(fopen)N
1 f
787(to)X
869(use)X
996(the)X
3 f
1114(w+)X
1 f
1238(mode)X
1436(made)X
1630(it)X
1694(possible)X
1976(to)X
2058(just)X
2193(seek)X
2356(back)X
2528(to)X
2610(the)X
2728(beginning)X
3068(instead,)X
3335(which)X
3551(is)X
2 f
3625(much)X
1 f
3833(faster.)X
576 4984(This,)N
766(plus)X
927(some)X
1124(similar)X
1374(elimination)X
1766(of)X
1861(other)X
2054(redundant)X
2403(calls)X
2578(to)X
2 f
2668(open)X
1 f
2837(,)X
2885(reduced)X
3168(system)X
3418(time)X
3588(by)X
3695(over)X
3865(30%.)X
2 f
576 5080(Get)N
712(as)X
803(much)X
997(mileage)X
1271(as)X
1362(possible)X
1644(out)X
1766(of)X
1848(each)X
2020(call)X
2160(to)X
2242(the)X
2360(kernel.)X
1 f
776 5204(Both)N
952(scanning)X
1258(the)X
1377(in-core)X
2 f
1626(active)X
1 f
1852(and)X
2 f
1990(sys)X
1 f
2123(\256les)X
2278(and)X
2416(re-writing)X
2759(the)X
2 f
2879(active)X
1 f
3106(\256le)X
3230(are)X
3351(simpler)X
3613(if)X
3684(the)X
3804(in-core)X
576 5300(copies)N
805(are)X
928(kept)X
1090(exactly)X
1346(as)X
1437(on)X
1541(disk,)X
1717(but)X
1842(this)X
1980(implied)X
2247(frequent)X
2538(scans)X
2735(to)X
2820(locate)X
3035(the)X
3156(ends)X
3326(of)X
3416(lines.)X
3630(It)X
3702(turned)X
3930(out)X
576 5396(to)N
660(be)X
758(worthwhile)X
1145(to)X
1229(pre-scan)X
1524(the)X
2 f
1644(active)X
1 f
1872(\256le)X
1997(for)X
2114(line)X
2257(boundaries,)X
2652(and)X
2791(remember)X
3140(them.)X
2 f
3363(When)X
3569(storing)X
3818(\256les)X
3970(in)X
576 5492(an)N
678(unstructured)X
1109(way,)X
1280(a)X
1342(little)X
1510(remembered)X
1934(information)X
2333(about)X
2537(their)X
2710(structure)X
3021(goes)X
3189(a)X
3250(long)X
3413(way)X
3563(in)X
3646(speeding)X
3952(up)X
1 f
8 s
10 f
576 5572(hhhhhhhhhhhhhhhhhh)N
1 f
576 5652(*)N
627(The)X
745(price)X
891(for)X
984(this)X
1096(tactic)X
1253(is)X
1315(that)X
1430(the)X
1527(code)X
1667(has)X
1772(to)X
1842(be)X
1922(prepared)X
2164(for)X
2258(the)X
2356(possibility)X
2644(that)X
2760(the)X
2858(number)X
3073(of)X
3146(sites)X
3280(being)X
3442(fed)X
3543(exceeds)X
576 5732(the)N
670(supply)X
857(of)X
926(\256le)X
1024(descriptors.)X
1352(Fortunately,)X
1679(that)X
1791(is)X
1850(rare.)X

4 p
%%Page: 4 4
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(4)X
2344(-)X
2 f
576 672(access.)N
1 f
776 796(We)N
912(already)X
1173(had)X
1313(a)X
2 f
1373(STREQ)X
1 f
1650(macro,)X
1895(just)X
2034(a)X
2094(simple)X
2331(invocation)X
2693(of)X
2 f
2784(strcmp)X
1 f
3015(,)X
3059(as)X
3151(a)X
3212(convenience.)X
3679(As)X
3793(a)X
3854(result)X
576 892(of)N
666(some)X
858(other)X
1046(experience)X
1418(by)X
1521(Spencer,)X
1823(Collyer)X
2086(tried)X
2256(replacing)X
2578(some)X
2770(calls)X
2940(of)X
2 f
3030(strncmp)X
1 f
3323(by)X
3425(a)X
2 f
3483(STREQN)X
1 f
3811(macro,)X
576 988(which)N
808(compared)X
1161(the)X
1295(\256rst)X
1455(character)X
1787(of)X
1890(the)X
2024(two)X
2180(strings)X
2429(in-line)X
2674(before)X
2916(incurring)X
3246(the)X
3380(overhead)X
3711(of)X
3814(calling)X
2 f
576 1084(strncmp)N
1 f
847(.)X
917(This)X
1089(sped)X
1266(things)X
1491(up)X
1601(noticeably,)X
1985(and)X
2131(later)X
2304(got)X
2436(propagated)X
2823(through)X
3102(more)X
3297(and)X
3443(more)X
3637(of)X
3733(the)X
3860(code.)X
576 1180(String-equality)N
1076(tests)X
1238(usually)X
1489(fail)X
1616(on)X
1716(the)X
1834(very)X
1997(\256rst)X
2141(character.)X
2 f
2497(Test)X
2650(the)X
2768(water)X
2970(before)X
3195(taking)X
3415(the)X
3533(plunge.)X
1 f
776 1304(While)N
998(looking)X
1268(at)X
1352(string)X
1560(functions,)X
1905(Collyer)X
2172(noticed)X
2435(that)X
2 f
2582(strncmp)X
1 f
2853(s)X
2911(to)X
3000(determine)X
3348(whether)X
3634(a)X
3697(line)X
3844(was)X
3996(a)X
576 1400(particular)N
917(header)X
1165(line)X
1318(had)X
1467(the)X
1597(comparison)X
2003(length)X
2235(computed)X
2583(by)X
2695(applying)X
2 f
3007(strlen)X
1 f
3234(to)X
3328(the)X
3458(prototype)X
3797(header.)X
576 1496(With)N
762(a)X
824(little)X
996(bit)X
1106(of)X
1199(work,)X
1410(the)X
1534(prototypes)X
1898(were)X
2081(isolated)X
2356(as)X
2449(individual)X
2799(character)X
3121(arrays)X
3344(initialized)X
3690(at)X
3774(compile)X
576 1592(time.)N
785(This)X
954(permitted)X
1287(substituting)X
1685(the)X
1809(compile-time)X
2 f
2262(sizeof)X
1 f
2483(operation)X
2812(for)X
2932(the)X
3056(run-time)X
2 f
3358(strlen)X
1 f
3553(.)X
2 f
3619(Let)X
3747(the)X
3871(com-)X
576 1688(piler)N
747(do)X
847(the)X
965(work)X
1145(when)X
1334(possible.)X
1 f
776 1812(At)N
879(this)X
1017(point,)X
1224(pro\256ling)X
1522(was)X
1670(turned)X
1898(off)X
2015(temporarily)X
2412(for)X
2529(speed)X
2735(tests.)X
2940(Pro\256ling)X
3243(does)X
3414(impose)X
3669(some)X
3862(over-)X
576 1908(head.)N
788(The)X
933(speed)X
1136(trials)X
1316(showed)X
1581(that)X
1721(C)X
2 f
1794(rnews)X
1 f
2018(was)X
2163(now)X
2321(running)X
2590(at)X
2668(over)X
2831(15)X
2931(times)X
3124(the)X
3242(speed)X
3445(of)X
3532(B)X
2 f
3605(rnews)X
1 f
3809(.)X
776 2032(After)N
974(months)X
1237(of)X
1332(adding)X
1578(frills,)X
1777(bunting)X
2049(and)X
2193(B)X
2274(2.11)X
2442(compatibility)X
8 s
2868(*)X
10 s
(,)S
2948(Collyer)X
3217(again)X
3420(returned)X
3717(to)X
3808(perfor-)X
576 2128(mance)N
809(tuning)X
1036(in)X
1121(August)X
1375(1986.)X
1597(The)X
1744(4.2BSD)X
2021(kernel)X
2244(on)X
3 f
2346(utcs)X
1 f
2506(now)X
2666(included)X
2964(the)X
3084(4.3BSD)X
2 f
3361(namei)X
1 f
3579(caches,)X
3836(which)X
576 2224(improve)N
868(\256lename-lookup)X
1418(performance)X
1850(considerably.)X
2325(Unfortunately,)X
2821(considerations)X
3310(of)X
3403(crash)X
3599(recovery)X
3907(dic-)X
576 2320(tated)N
753(some)X
943(loss)X
1088(in)X
1171(performance:)X
1621(it)X
1686(seemed)X
1948(desirable)X
2259(to)X
2342(put)X
2465(batch-\256le)X
2789(additions)X
3103(out)X
3226(by)X
3327(the)X
3446(line)X
3586(rather)X
3794(than)X
3952(by)X
576 2416(the)N
694(block.)X
2 f
932(Performance)X
1371(is)X
1444(not)X
1566(everything.)X
776 2540(Gprof)N
1 f
1007(revealed)X
1307(that)X
1454(newsgroup)X
1833(name)X
2034(matching)X
2359(was)X
2512(an)X
2616(unexpected)X
3010(bottleneck,)X
3392(so)X
3491(that)X
3639(module)X
3907(was)X
576 2636(extensively)N
962(tweaked)X
1251(by)X
1352(adding)X
3 f
1591(register)X
1 f
1876(declarations,)X
2305(turning)X
2556(functions)X
2874(into)X
3018(macros,)X
3290(applying)X
2 f
3590(STREQN)X
1 f
3916(and)X
576 2732(such)N
754(more)X
950(widely,)X
1219(and)X
1366(generally)X
1696(tuning)X
1931(the)X
2060(details)X
2300(of)X
2398(string)X
2611(operations.)X
3016(The)X
3172(code)X
3355(that)X
3506(handled)X
2 f
3792(sys)X
1 f
3903(-\256le)X
576 2828(lines)N
756(got)X
886(similar)X
1136(treatment)X
1467(next.)X
1673(The)X
1826(combination)X
2254(cut)X
2380(40%)X
2555(off)X
2677(user-mode)X
3044(time.)X
2 f
3254(Persistent)X
3602(tuning)X
3834(of)X
3924(key)X
576 2924(modules)N
863(can)X
999(yield)X
1175(large)X
1364(bene\256ts.)X
1 f
776 3048(Newsgroup)N
1173(matching)X
1498(remained)X
1824(moderately)X
2212(costly,)X
2450(and)X
2593(an)X
2696(investigation)X
3136(of)X
3230(where)X
3454(it)X
3526(was)X
3679(being)X
3885(used)X
576 3144(revealed)N
874(two)X
1019(separate)X
1308(tests)X
1475(for)X
1594(a)X
1655(particular)X
1988(special)X
2236(form)X
2416(of)X
2507(name.)X
2745(It)X
2818(proved)X
3065(awkward)X
3384(to)X
3470(combine)X
3770(the)X
3892(two,)X
576 3240(so)N
669(the)X
790(testing)X
1026(routine)X
1276(was)X
1424(changed)X
1715(to)X
1800(remember)X
2149(having)X
2390(done)X
2569(that)X
2712(particular)X
3043(test)X
3177(already.)X
2 f
3477(If)X
3549(the)X
3670(same)X
3858(ques-)X
576 3336(tion)N
720(is)X
793(asked)X
996(repeatedly,)X
1375(memorize)X
1707(the)X
1825(answer.)X
1 f
776 3460(By)N
890(this)X
1026(time,)X
1209(the)X
1328(number)X
1594(of)X
1682(system)X
1925(calls)X
2093(needed)X
2342(to)X
2425(process)X
2688(a)X
2746(single)X
2959(article)X
3182(could)X
3382(be)X
3480(counted)X
3756(on)X
3858(one's)X
576 3556(\256ngers,)N
841(and)X
984(their)X
1158(individual)X
1509(contributions)X
1958(could)X
2163(be)X
2266(assessed.)X
2605(At)X
2712(one)X
2855(point)X
3046(it)X
3117(was)X
3268(desirable)X
3584(for)X
3704(a)X
2 f
3766(creat)X
1 f
3970(to)X
576 3652(fail)N
707(if)X
780(the)X
902(\256le)X
1028(already)X
1289(existed,)X
1560(so)X
1655(this)X
1794(was)X
1943(being)X
2145(checked)X
2433(with)X
2599(a)X
2659(call)X
2800(to)X
2 f
2887(access)X
1 f
3135(\256rst.)X
3324(John)X
3500(Gilmore)X
3792(pointed)X
576 3748(out)N
707(that)X
856(on)X
965(systems)X
1247(with)X
1418(a)X
1483(3-argument)X
2 f
1882(open)X
1 f
2080(\(4.2BSD,)X
2410(System)X
2673(V\),)X
2806(this)X
2949(test)X
3088(can)X
3228(be)X
3332(folded)X
3565(into)X
3717(the)X
2 f
3843(open)X
1 f
4012(.)X
576 3844(The)N
729(elimination)X
1121(of)X
1216(the)X
1342(extra)X
1531(name)X
9 f
1705 MX
(->)174 987 oc
1 f
1784(\256le)X
1914(\()X
2 f
1941(namei)X
1 f
2137(\))X
2192(mapping)X
2500(cut)X
2626(both)X
2796(system)X
3046(time)X
3216(and)X
3361(real)X
3511(time)X
3682(by)X
3791(another)X
576 3940(15%.)N
783(\(Note)X
986(that)X
1126(this)X
1261(system)X
2 f
1503(does)X
1 f
1670(have)X
2 f
1842(namei)X
1 f
2058(cacheing!\))X
2 f
2438(File)X
2587(name)X
2781(lookups)X
3050(are)X
3177(expensive;)X
3537(minimize)X
3846(them.)X
1 f
776 4064(The)N
926(development)X
1365(system)X
1612(\()X
3 f
1639(utcs)X
1 f
1777(,)X
1822(a)X
1883(750\))X
2055(is)X
2134(now)X
2298(\256ling)X
2492(2-3)X
2625(articles)X
2883(per)X
3012(second)X
3261(on)X
3367(average;)X
3 f
3666(utfraser)X
1 f
3969(\(a)X
576 4160(Sun)N
721(3/160)X
924(with)X
1087(an)X
1184(Eagle)X
1388(disk\))X
1569(is)X
1643(typically)X
1944(\256ling)X
2133(6-7)X
2260(articles)X
2512(per)X
2635(second.)X
2918(C)X
2 f
2991(rnews)X
1 f
3215(runs)X
3373(over)X
3536(19)X
3636(times)X
3829(as)X
3916(fast)X
576 4256(in)N
660(real)X
803(time)X
967(as)X
1056(B)X
2 f
1131(rnews)X
1 f
1335(,)X
1377(over)X
1542(25)X
1644(times)X
1839(as)X
1929(fast)X
2068(in)X
2153(system-mode)X
2603(CPU)X
2781(time,)X
2966(roughly)X
3238(3.6)X
3361(times)X
3557(as)X
3647(fast)X
3786(in)X
3871(user-)X
576 4352(mode)N
774(CPU)X
949(time,)X
1131(and)X
1267(over)X
1430(10)X
1530(times)X
1723(as)X
1810(fast)X
1946(in)X
2028(combined)X
2364(CPU)X
2539(times.)X
776 4476(With)N
961(one)X
1102(exception)X
1439(\(see)X
2 f
1594(Future)X
1837(Directions)X
1 f
2175(\),)X
2247(it)X
2316(now)X
2479(appears)X
2750(that)X
2895(very)X
3063(little)X
3234(can)X
3371(be)X
3473(done)X
3655(to)X
3743(speed)X
3952(up)X
2 f
576 4572(rnews)N
1 f
808(without)X
1080(changing)X
1402(the)X
1527(speci\256cations.)X
2030(It)X
2106(seems)X
2329(to)X
2418(be)X
2521(executing)X
2860(nearly)X
3088(the)X
3213(bare)X
3379(minimum)X
3716(of)X
3810(system)X
576 4668(calls,)N
763(and)X
899(the)X
1017(user-level)X
1354(code)X
1526(has)X
1653(been)X
1825(hand-optimised)X
2343(fairly)X
2537(heavily.)X
3 f
576 4860(3.)N
6 f
680(Expire)X
945(Performance)X
1 f
776 4984(The)N
925(rewrite)X
1177(of)X
2 f
1268(expire)X
1 f
1506(that)X
1650(started)X
1888(this)X
2027(whole)X
2247(effort)X
2450(was)X
2599(only)X
2765(partly)X
2976(motivated)X
3321(by)X
3426(performance)X
3858(prob-)X
576 5080(lems.)N
795(Performance)X
1234(was)X
1387(de\256nitely)X
1717(bad)X
1861(enough)X
2125(to)X
2215(require)X
2470(attention,)X
2797(but)X
2926(the)X
3051(B)X
2 f
3131(expire)X
1 f
3372(of)X
3466(the)X
3591(time)X
3760(also)X
3916(had)X
576 5176(some)N
771(serious)X
1024(bugs.)X
1241(Worse,)X
1497(the)X
1621(code)X
1799(was)X
1950(a)X
2012(terrible)X
2270(mess)X
2457(and)X
2600(was)X
2752(almost)X
2992(impossible)X
3365(to)X
3454(understand,)X
3853(never)X
576 5272(mind)N
761(\256x.)X
906(Early)X
1101(efforts)X
1332(were)X
1510(directed)X
1789(mainly)X
2031(at)X
2109(producing)X
2454(a)X
2510(version)X
2766(that)X
2906(would)X
2 f
3126(work)X
1 f
(;)S
3328(rewriting)X
2 f
3642(expire)X
1 f
3876(from)X
576 5368(scratch)N
836(simply)X
1085(looked)X
1336(like)X
1489(the)X
1620(easiest)X
1867(route.)X
2105(Decisions)X
2454(made)X
2661(along)X
2872(the)X
3003(way,)X
3190(largely)X
3446(for)X
3573(other)X
3771(reasons,)X
576 5464(nevertheless)N
993(produced)X
1312(major)X
1519(speedups.)X
8 s
10 f
576 5584(hhhhhhhhhhhhhhhhhh)N
1 f
576 5664(*)N
624(And)X
750(supposed)X
1004(B)X
1063(2.11)X
1191(compatibility,)X
1565(as)X
1634(those)X
1785(who)X
1911(remember)X
2185(the)X
2279(short-lived)X
2572(cross-posting)X
2929(restrictions)X
3229(will)X
3345(recall.)X

5 p
%%Page: 5 5
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(5)X
2344(-)X
776 672(The)N
935(\256rst)X
1093(of)X
1194(these)X
1393(decisions)X
1725(was)X
1884(a)X
1954(reduction)X
2291(in)X
2387(the)X
2519(scope)X
2736(of)X
2837(the)X
2969(program.)X
3316(B)X
2 f
3404(expire)X
1 f
3653(had)X
3804(several)X
576 768(options)N
833(for)X
949(doing)X
1153(quite)X
1335(unrelated)X
1656(tasks,)X
1858(such)X
2026(as)X
2114(rebuilding)X
2464(news's)X
2708(history)X
2951(\256le.)X
3114(The)X
3260(code)X
3433(for)X
3548(these)X
3734(functions)X
576 864(was)N
723(substantial)X
1087(and)X
1225(was)X
1372(somewhat)X
1719(interwoven)X
2103(with)X
2268(the)X
2389(rest.)X
2568(C)X
2 f
2644(expire)X
1 f
2881(adheres)X
3150(closely)X
3400(to)X
3485(a)X
3544(central)X
3786(tenet)X
3965(of)X
576 960(the)N
696(`Unix)X
905(Philosophy':)X
2 f
1335(a)X
1397(program)X
1699(should)X
1934(do)X
2036(one)X
2174(task,)X
2345(and)X
2487(do)X
2588(it)X
2653(well)X
1 f
2786(.)X
2847(This)X
3010(may)X
3169(appear)X
3405(unrelated)X
3725(to)X
3808(perfor-)X
576 1056(mance,)N
831(but)X
958(better-focussed)X
1474(programs)X
1802(are)X
1926(generally)X
2250(simpler)X
2515(and)X
2656(smaller,)X
2937(reducing)X
3244(their)X
3417(resource)X
3716(consump-)X
576 1152(tion)N
726(and)X
868(making)X
1134(performance)X
1566(tuning)X
1795(easier)X
2008(\(and)X
2176(hence)X
2389(more)X
2579(likely\).)X
2853(In)X
2945(addition,)X
3252(a)X
3313(multipurpose)X
3760(program)X
576 1248(almost)N
809(always)X
1052(pays)X
1219(some)X
1408(performance)X
1835(penalty)X
2091(for)X
2205(its)X
2300(generality.)X
776 1372(The)N
922(second)X
1166(signi\256cant)X
1520(decision)X
1808(had)X
1945(the)X
2064(biggest)X
2316(effect)X
2521(on)X
2622(performance,)X
3070(despite)X
3318(being)X
3517(made)X
3712(for)X
3828(totally)X
576 1468(unrelated)N
900(reasons.)X
1206(For)X
1342(each)X
1515(news)X
1705(article,)X
1951(the)X
2074(B)X
2152(news)X
2342(history)X
2589(\256le)X
2716(contained)X
3053(the)X
3176(arrival)X
3411(date)X
3569(and)X
3709(an)X
3809(indica-)X
576 1564(tion)N
720(of)X
807(what)X
983(newsgroups)X
1386(it)X
1450(was)X
1596(in.)X
1719(This)X
1882(is)X
2 f
1956(almost)X
1 f
2190(all)X
2291(the)X
2410(information)X
2809(that)X
2 f
2950(expire)X
1 f
3172(needs)X
3376(to)X
3459(decide)X
3690(whether)X
3970(to)X
576 1660(expire)N
799(an)X
897(article)X
1120(or)X
1209(not.)X
1373(The)X
1520(missing)X
8 s
1768(*)X
10 s
1822(data)X
1978(is)X
2053(whether)X
2334(the)X
2454(article)X
2677(contains)X
2966(an)X
3064(explicit)X
3326(expiry)X
3553(date,)X
3730(and)X
3869(if)X
3941(so,)X
576 1756(what)N
766(it)X
844(is.)X
971(B)X
2 f
1058(expire)X
1 f
1306(had)X
1456(to)X
1552(discover)X
1858(this)X
2007(for)X
2135(itself,)X
2349(which)X
2579(required)X
2881(opening)X
3173(the)X
3305(article)X
3539(and)X
3688(parsing)X
3957(its)X
576 1852(headers.)N
882(A)X
960(site)X
1091(which)X
1307(retains)X
1541(news)X
1726(for)X
1840(two)X
1980(weeks)X
2202(will)X
2347(have)X
2520(upwards)X
2813(of)X
2901(5,000)X
3102(articles)X
3355(on)X
3456(\256le.)X
3619(A)X
3698(few)X
3840(dozen)X
576 1948(of)N
666(them)X
849(will)X
996(have)X
1171(explicit)X
1434(expiry)X
1662(dates.)X
2 f
1890(But)X
2024(B)X
2096(expire)X
2320(opened)X
2575(and)X
2718(scanned)X
3004(all)X
3111(5,000+)X
3368(articles)X
3631(every)X
3828(time)X
3988(it)X
576 2044(ran!)N
1 f
754(This)X
916(was)X
1061(a)X
1117(performance)X
1544(disaster.)X
776 2168(We)N
913(actually)X
1192(did)X
1319(not)X
1446(want)X
1627(to)X
1714(parse)X
1909(headers)X
2180(in)X
2 f
2267(expire)X
1 f
2493(at)X
2576(all,)X
2701(because)X
2982(the)X
3106(B)X
3185(news)X
3376(header-parsing)X
3880(code)X
576 2264(was)N
728(\(and)X
898(is\))X
1005(complex)X
1308(and)X
1451(was)X
1603(known)X
1848(to)X
1937(contain)X
2200(major)X
2414(bugs.)X
2632(The)X
2784(performance)X
3218(implications)X
3640(of)X
3734(this)X
3875(were)X
576 2360(obvious,)N
874(although)X
1179(secondary)X
1530(at)X
1613(the)X
1736(time.)X
1944(Header)X
2203(parsing)X
2465(is)X
2544(itself)X
2730(a)X
2792(non-trivial)X
3156(task,)X
3331(and)X
3473(accessing)X
3807(5,000+)X
576 2456(\256les)N
729(simply)X
966(cannot)X
1200(be)X
1296(made)X
1490(cheap.)X
2 f
1738(Information)X
2140(needed)X
2388(centrally)X
2693(should)X
2926(be)X
3022(kept)X
3176(centrally.)X
1 f
776 2580(The)N
926(C)X
1004(news)X
1194(history)X
1441(\256le)X
1568(has)X
1700(the)X
1823(same)X
2013(format)X
2252(as)X
2345(that)X
2491(of)X
2584(B)X
2663(news,)X
2874(with)X
3042(one)X
3184(addition:)X
3494(a)X
3556(\256eld)X
3724(recording)X
576 2676(the)N
698(explicit)X
962(expiry)X
1191(date,)X
1369(if)X
1442(any,)X
1602(of)X
1693(each)X
1865(article.)X
2130(If)X
2208(no)X
2312(expiry)X
2541(date)X
2698(is)X
2774(present)X
3029(in)X
3114(the)X
3235(article,)X
3479(the)X
3600(\256eld)X
3765(contains)X
576 2772(`)N
9 f
603(-)X
1 f
647(')X
694(as)X
781(a)X
838(placemarker)X
8 s
1236 2750(\262)N
10 s
2772(.)Y
1329(In)X
1417(this)X
1553(way,)X
1728(the)X
1847(header)X
2083(parsing)X
2340(is)X
2414(done)X
2 f
2591(once)X
1 f
2764(per)X
2888(article,)X
3130(on)X
3231(arrival.)X
3502(In)X
3590(fact,)X
3752(the)X
3871(extra)X
576 2868(effort)N
776(involved)X
1077(is)X
1151(essentially)X
1510(nil,)X
1635(since)X
2 f
1821(rnews)X
1 f
2033(does)X
2201(full)X
2333(header)X
2569(parsing)X
2825(at)X
2903(arrival)X
3133(time)X
3295(anyway.)X
2 f
3605(Rnews)X
1 f
3834(had)X
3970(to)X
576 2964(be)N
683(changed)X
982(to)X
1075(write)X
1271(out)X
1404(the)X
1533(expiry)X
1769(date,)X
1955(and)X
2103(code)X
2287(which)X
2515(knew)X
2721(the)X
2851(format)X
3097(of)X
3196(the)X
3326(history)X
3580(\256le)X
3714(had)X
3862(to)X
3956(be)X
576 3060(changed)N
864(to)X
946(know)X
1144(about)X
1342(the)X
1460(extra)X
1641(\256eld.)X
1843(Perhaps)X
2117(a)X
2173(dozen)X
2385(lines)X
2556(of)X
2643(code)X
2815(outside)X
2 f
3066(expire)X
1 f
3287(were)X
3464(involved.)X
776 3184(A)N
865(crude)X
1075(\256rst)X
1230(version)X
1497(of)X
1595(C)X
2 f
1679(expire)X
1 f
1893(,)X
1944(incorporating)X
2407(these)X
2603(decisions)X
2932(in)X
3025(the)X
3154(most)X
3340(minimal)X
3637(way,)X
3822(ran)X
3956(an)X
576 3280(order)N
771(of)X
863(magnitude)X
1226(faster)X
1430(than)X
1593(B)X
2 f
1671(expire)X
1 f
1885(.)X
1950(Precise)X
2207(timing)X
2440(comparisons)X
2869(were)X
3050(not)X
3176(practical)X
3477(at)X
3559(the)X
3681(time,)X
3867(since)X
576 3376(the)N
694(original)X
963(motive)X
1205(for)X
1320(C)X
2 f
1394(expire)X
1 f
1629(was)X
1775(that)X
1916(B)X
2 f
1990(expire)X
1 f
2225(had)X
2362(stopped)X
2632(working)X
2920(completely,)X
3317(crippled)X
3601(by)X
3702(bugs)X
3874(in)X
3957(its)X
576 3472(header)N
814(parsing.)X
1113(Later)X
1306(versions)X
1596(of)X
1686(B)X
2 f
1762(expire)X
1 f
1999(did)X
2124(cure)X
2286(this)X
2424(problem,)X
2734(but)X
2859(we)X
2976(were)X
3156(no)X
3258(longer)X
3485(interested)X
3819(in)X
3903(put-)X
576 3568(ting)N
720(up)X
820(slow,)X
1011(buggy)X
1231(software)X
1528(just)X
1663(to)X
1745(make)X
1939(an)X
2035(accurate)X
2324(comparison.)X
776 3692(Further)N
1037(work)X
1227(on)X
1332(C)X
2 f
1411(expire)X
1 f
1651(mostly)X
1894(concentrated)X
2331(on)X
2437(cleaning)X
2735(up)X
2841(the)X
2965(hasty)X
3160(\256rst)X
3310(version,)X
3592(and)X
3734(on)X
3840(incor-)X
576 3788(porating)N
871(desired)X
1131(features)X
1414(such)X
1589(as)X
1684(selective)X
1993(expiry)X
2226(by)X
2334(newsgroup.)X
2754(Selective)X
3076(expiry)X
3309(caused)X
3556(a)X
3619(small)X
3819(loss)X
3970(in)X
576 3884(performance)N
1011(by)X
1119(requiring)X
2 f
1441(expire)X
1 f
1670(to)X
1760(check)X
1976(the)X
2102(newsgroup\(s\))X
2567(of)X
2662(each)X
2838(article)X
3067(against)X
3322(an)X
3427(expiry-control)X
3915(list.)X
576 3980(Here,)N
2 f
775(expire)X
1 f
998(bene\256tted)X
1336(from)X
1514(the)X
1634(work)X
1820(done)X
1997(to)X
2080(speed)X
2284(up)X
2385(the)X
2504(newsgroup-matching)X
3202(primitives)X
3547(of)X
2 f
3635(rnews)X
1 f
3826(,)X
3867(since)X
2 f
576 4076(expire)N
1 f
801(uses)X
963(the)X
1085(same)X
1274(routines.)X
2 f
1596(If)X
1669(you)X
1809(re-invent)X
2123(the)X
2245(square)X
2487(wheel,)X
2718(you)X
2858(will)X
3001(not)X
3128(bene\256t)X
3367(when)X
3561(somebody)X
3907(else)X
576 4172(rounds)N
818(off)X
922(the)X
1040(corners)X
1 f
8 s
1285 4150(\263)N
2 f
10 s
4172(.)Y
1 f
776 4296(One)N
931(improvement)X
1379(that)X
1520(was)X
1666(made)X
1861(late)X
1998(in)X
2081(development)X
2516(was)X
2662(in)X
2745(the)X
2864(format)X
3099(of)X
3187(the)X
3306(dates)X
3492(stored)X
3709(in)X
3792(the)X
3912(his-)X
576 4392(tory)N
730(\256le.)X
897(B)X
2 f
975(rnews)X
1 f
1204(stored)X
1425(the)X
1548(arrival)X
1783(date)X
1942(in)X
2029(human-readable)X
2572(form,)X
2773(and)X
2 f
2914(expire)X
1 f
3140(converted)X
3482(this)X
3621(into)X
3769(numeric)X
576 4488(form)N
753(for)X
868(comparisons)X
1294(of)X
1382(dates.)X
1608(Date)X
1781(conversion)X
2154(is)X
2228(a)X
2286(complex)X
2584(operation,)X
2929(and)X
3067(the)X
3187(widely-distributed)X
2 f
3796(getdate)X
1 f
576 4584(function)N
866(used)X
1036(by)X
1139(news)X
1327(is)X
1403(not)X
1527(fast.)X
1705(Inspection)X
2061(of)X
2150(the)X
2270(code)X
2444(established)X
2822(that)X
2 f
2964(expire)X
1 f
3187(was)X
3334(the)X
3454(only)X
3618(program)X
3912(that)X
576 4680(ever)N
740(looked)X
983(at)X
1066(the)X
1189(dates)X
1379(in)X
1466(the)X
1590(history)X
1838(\256le.)X
2006(There)X
2220(is)X
2299(some)X
2494(potential)X
2800(use)X
2933(of)X
3026(the)X
3150(information)X
3554(for)X
3674(debugging,)X
576 4776(but)N
708(this)X
853(is)X
936(infrequent,)X
1315(and)X
1460(a)X
1525(small)X
1727(program)X
2028(that)X
2177(converts)X
2478(decimal)X
2761(numeric)X
3053(dates)X
3247(to)X
3338(human-readable)X
3885(ones)X
576 4872(addresses)N
916(the)X
1046(issue.)X
1278(Both)X
1465(C)X
2 f
1550(rnews)X
1 f
1786(and)X
1934(C)X
2 f
2020(expire)X
1 f
2267(now)X
2438(store)X
2627(the)X
2758(dates)X
2956(in)X
3051(decimal)X
3338(numeric)X
3634(form.)X
2 f
3863(Store)X
576 4968(repeatedly-used)N
1109(information)X
1506(in)X
1588(a)X
1648(form)X
1819(that)X
1963(avoids)X
2192(expensive)X
2525(conversions.)X
1 f
8 s
10 f
576 5104(hhhhhhhhhhhhhhhhhh)N
1 f
576 5184(*)N
625(Recent)X
819(versions)X
1049(of)X
1119(B)X
1179(news)X
1327(have)X
1464(made)X
1619(some)X
1771(attempt)X
1980(to)X
2047(redress)X
2244(this)X
2355(lack,)X
2495(but)X
2595(haven't)X
2804(gone)X
2946(as)X
3017(far)X
3105(as)X
3176(C)X
3237(expire.)X
3446(The)X
3563(discus-)X
576 5264(sion)N
699(here)X
824(applies)X
1021(to)X
1087(the)X
1181(B)X
1240(expire)X
1415(that)X
1527(was)X
1642(current)X
1838(at)X
1900(the)X
1994(time)X
2124(C)X
2183(expire)X
2358(was)X
2473(written.)X
576 5344(\262)N
624(It)X
679(would)X
855(be)X
932(possible)X
1159(to)X
1226(simply)X
1418(compute)X
1655(a)X
1700(de\256nitive)X
1959(expiry)X
2139(date)X
2262(for)X
2353(an)X
2430(article)X
2606(when)X
2761(it)X
2814(arrives,)X
3020(and)X
3129(record)X
3308(that.)X
3453(This)X
3584(would)X
576 5424(eliminate)N
834(the)X
932(decision-making)X
1377(overhead)X
1629(in)X
2 f
1698(expire)X
1 f
1857(,)X
1892(but)X
1993(would)X
2172(greatly)X
2368(slow)X
2508(the)X
2605(response)X
2847(to)X
2916(changes)X
3140(in)X
3209(expiry)X
3391(policy.)X
3602(Since)X
576 5504(one)N
686(reason)X
870(to)X
938(change)X
1136(policy)X
1314(is)X
1375(time-critical)X
1705(problems)X
1961(like)X
2075(a)X
2121(shortage)X
2355(of)X
2426(disk)X
2551(space,)X
2726(this)X
2837(loss)X
2955(of)X
3026(\257exibility)X
3294(was)X
3411(judged)X
3603(unac-)X
576 5584(ceptable.)N
836(It)X
891(is)X
950(better)X
1111(to)X
1177(leave)X
1327(the)X
1421(expiry)X
1600(decision)X
1829(to)X
2 f
1895(expire)X
1 f
2070(and)X
2178(concentrate)X
2487(on)X
2567(making)X
2 f
2775(expire)X
1 f
2950(do)X
3030(it)X
3082(quickly.)X
576 5664(\263)N
624(A)X
686(corollary)X
932(of)X
1001(this)X
1110(is:)X
2 f
1203(know)X
1354(thy)X
1448(libraries,)X
1701(and)X
1813(use)X
1914(them)X
1 f
2038(.)X

6 p
%%Page: 6 6
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(6)X
2344(-)X
776 672(Actually,)N
1103(C)X
2 f
1187(expire)X
1 f
1432(bows)X
1632(to)X
1725(compatibility)X
2182(by)X
2293(accepting)X
2632(either)X
2846(form)X
3033(on)X
3144(input,)X
3359(but)X
3493(outputs)X
3760(only)X
3934(the)X
576 768(decimal)N
859(form)X
1044(as)X
1140(it)X
1213(regenerates)X
1609(the)X
1736(history)X
1987(\256le.)X
2158(Thus,)X
2367(in)X
2458(the)X
2585(worst)X
2792(case,)X
2 f
2980(expire)X
1 f
3209(does)X
3384(the)X
3510(conversion)X
3890(only)X
576 864(once)N
748(for)X
862(each)X
1030(history)X
1272(line,)X
1432(rather)X
1640(than)X
1798(once)X
1970(per)X
2093(line)X
2233(per)X
2356(run.)X
2 f
2523(``If)X
2646(they)X
2800(hand)X
2980(you)X
3116(a)X
3176(lemon,)X
3412(make)X
3602(lemonade''.)X
1 f
776 988(If)N
2 f
862(expire)X
1 f
1095(is)X
1180(archiving)X
1515(expired)X
1788(articles,)X
2072(it)X
2148(may)X
2318(need)X
2502(to)X
2596(create)X
2821(directories)X
3192(to)X
3287(hold)X
3462(them.)X
3695(This)X
3870(is)X
3956(an)X
576 1084(inherently)N
931(expensive)X
1282(operation,)X
1635(but)X
1767(it)X
1841(is)X
1923(infrequently)X
2344(needed.)X
2641(However,)X
2985(checking)X
3304(to)X
3395(see)X
3527(whether)X
3815(it)X
2 f
3888(is)X
1 f
3970(in)X
576 1180(fact)N
717(needed)X
965(is)X
1038(also)X
1187(somewhat)X
1532(expensive...)X
1933(and)X
2069(the)X
2187(answer)X
2435(is)X
2508(almost)X
2741(always)X
2984(`no'.)X
3178(The)X
3323(same)X
3509(is)X
3583(true)X
3729(of)X
3817(check-)X
576 1276(ing)N
703(to)X
790(see)X
917(whether)X
1200(the)X
1322(original)X
1595(article)X
1820(really)X
2027(still)X
2170(exists:)X
2418(it)X
2486(almost)X
2723(always)X
2970(does.)X
3181(\(This)X
3374(cannot)X
3612(be)X
3712(subsumed)X
576 1372(under)N
786(generic)X
1050(`archiving)X
1407(failed')X
1644(error)X
1828(handling)X
2135(because)X
2418(a)X
2482(missing)X
2758(original)X
3035(is)X
3116(just)X
3259(an)X
3363(article)X
3592(that)X
3740(was)X
3893(can-)X
576 1468(celled,)N
810(and)X
948(does)X
1117(not)X
1240(call)X
1377(for)X
1492(a)X
1549(trouble)X
1797(report.\))X
2077(Accordingly,)X
2519(C)X
2 f
2593(expire)X
1 f
2828(just)X
2964(charges)X
3231(ahead)X
3440(and)X
3577(attempts)X
3869(to)X
3952(do)X
576 1564(the)N
697(copying.)X
1018(Only)X
1201(if)X
1273(this)X
1411(fails)X
1572(does)X
2 f
1742(expire)X
1 f
1966(analyze)X
2235(the)X
2356(situation)X
2654(in)X
2739(detail.)X
2 f
2980(Carrying)X
3296(a)X
3359(net)X
3480(in)X
3565(front)X
3744(of)X
3830(you)X
3970(in)X
576 1660(case)N
739(you)X
875(trip)X
1010(is)X
1083(usually)X
1334(wasted)X
1576(effort.)X
1 f
776 1784(Archiving)N
1123(expired)X
1386(articles)X
1640(often)X
1827(requires)X
2108(copying)X
2388(across)X
2611(\256lesystem)X
2957(boundaries,)X
3351(since)X
3538(it's)X
3662(not)X
3787(uncom-)X
576 1880(mon)N
746(to)X
836(give)X
1001(current)X
1256(news)X
1448(and)X
1591(archived)X
1895(news)X
2087(rather)X
2302(different)X
2606(treatment)X
2936(for)X
3057(space)X
3263(allocation)X
3606(and)X
3749(backups.)X
576 1976(Copying)N
875(from)X
1056(one)X
1197(\256lesystem)X
1546(to)X
1633(another)X
1899(can)X
2036(involve)X
2301(major)X
2513(disk)X
2671(head)X
2848(movement)X
3211(if)X
3285(the)X
3408(two)X
3553(\256lesystems)X
3933(are)X
576 2072(on)N
691(the)X
823(same)X
1022(spindle.)X
1327(Since)X
1539(head)X
1725(movement)X
2097(is)X
2184(expensive,)X
2559(maximizing)X
2975(performance)X
3416(requires)X
3709(getting)X
3965(as)X
576 2168(much)N
776(use)X
905(as)X
994(possible)X
1278(out)X
1402(of)X
1491(each)X
1661(movement)X
8 s
1999(*)X
10 s
(.)S
2 f
2093(Expire)X
1 f
2329(is)X
2405(not)X
2530(a)X
2589(large)X
2773(program,)X
3088(and)X
3227(even)X
3402(on)X
3505(a)X
3564(small)X
3760(machine)X
576 2264(it)N
648(can)X
788(spare)X
986(the)X
1112(space)X
1319(for)X
1441(a)X
1505(large)X
1694(copying)X
1980(buffer.)X
2245(So)X
2357(it)X
2428(does)X
2602(its)X
2704(archiving)X
3034(copy)X
3217(operations)X
3578(using)X
3778(an)X
3881(8KB)X
576 2360(buffer.)N
2 f
834(Buying)X
1082(in)X
1165(bulk)X
1324(is)X
1398(often)X
1579(cheaper.)X
1 f
1900(Since)X
2100(8KB)X
2273(accommodates)X
2772(most)X
2949(news)X
3136(articles)X
3390(in)X
3474(one)X
3612(gulp,)X
3796(there)X
3979(is)X
576 2456(little)N
742(point)X
926(in)X
1008(enlarging)X
1331(it)X
1395(further.)X
2 f
1674(The)X
1814(law)X
1949(of)X
2031(diminishing)X
2428(returns)X
2679(does)X
2846(apply)X
3044(to)X
3126(buying)X
3364(in)X
3446(bulk.)X
1 f
776 2580(Since)N
2 f
976(expire)X
1 f
1212(is)X
1287(operating)X
1612(on)X
1715(the)X
1836(history)X
2081(\256le)X
2206(at)X
2287(\(potentially\))X
2706(the)X
2827(same)X
3015(time)X
3180(that)X
2 f
3323(rnews)X
1 f
3550(is)X
3626(adding)X
3867(more)X
576 2676(articles)N
832(to)X
917(it,)X
1004(some)X
1196(form)X
1375(of)X
1465(locking)X
1728(is)X
1804(necessary.)X
2180(Given)X
2399(that)X
2 f
2542(expire)X
1 f
2779(has)X
2909(to)X
2994(look)X
3159(over)X
3325(the)X
3446(whole)X
3665(database)X
3965(of)X
576 2772(news,)N
789(and)X
933(typically)X
1241(has)X
1376(to)X
1466(expire)X
1695(a)X
1759(modest)X
2018(fraction)X
2296(of)X
2391(the)X
2517(articles,)X
2797(it)X
2869(is)X
2950(a)X
3014(relatively)X
3345(long-running)X
3791(process)X
576 2868(compared)N
914(to)X
2 f
997(rnews)X
1 f
1201(.)X
1262(Contention)X
1638(for)X
1753(the)X
1872(history-\256le)X
2244(lock)X
2403(can)X
2536(be)X
2633(minimized)X
2996(by)X
3097(noting)X
3322(that)X
2 f
3462(rnews)X
1 f
3686(never)X
3885(does)X
576 2964(anything)N
876(other)X
1061(than)X
1219(append)X
1471(to)X
1553(the)X
1671(\256le.)X
1833(So)X
2 f
1938(expire)X
1 f
2173(can)X
2306(leave)X
2497(the)X
2616(\256le)X
2739(unlocked)X
3054(while)X
3253(scanning)X
3559(it;)X
3646(the)X
3765(contents)X
576 3060(will)N
728(not)X
858(change.)X
1154(When)X
1374(\(and)X
1545(only)X
1715(when\))X
2 f
1943(expire)X
1 f
2184(reaches)X
2453(end-of-\256le,)X
2839(it)X
2910(locks)X
3106(the)X
3231(news)X
3423(system,)X
3692(checks)X
3938(for)X
576 3156(and)N
715(handles)X
983(any)X
1122(further)X
1364(entries)X
1601(arriving)X
1878(on)X
1981(the)X
2102(end)X
2241(of)X
2332(the)X
2454(history)X
2700(\256le)X
2826(meanwhile,)X
3222(and)X
3362(\256nishes)X
3630(up.)X
2 f
3774(Locking)X
576 3252(data)N
738(that)X
882(won't)X
1084(change)X
1336(is)X
1409(wasteful.)X
1 f
776 3376(After)N
966(careful)X
1210(application)X
1586(of)X
1673(these)X
1858(various)X
2114(improvements,)X
2612(C)X
2 f
2685(expire)X
1 f
2920(is)X
2994(fast)X
3131(enough)X
3388(that)X
3529(further)X
3769(speedup)X
576 3472(is)N
650(not)X
772(worth)X
979(much)X
1177(effort.)X
1416(However,)X
1751(an)X
1847(analysis)X
2125(of)X
2212(where)X
2429(it)X
2493(spends)X
2731(its)X
2826(time)X
2988(does)X
3155(suggest)X
3415(one)X
3551(area)X
3706(that)X
3846(might)X
576 3568(merit)N
768(attention)X
1071(in)X
1156(the)X
1277(future.)X
2 f
1532(Expire)X
1 f
1769(rebuilds)X
2050(the)X
2171(history)X
2416(\256le)X
2541(to)X
2626(re\257ect)X
2850(the)X
2971(removal)X
3257(of)X
3347(expired)X
3611(articles.)X
3907(The)X
576 3664(history)N
822(\256le)X
948(is)X
1025(large.)X
2 f
1250(Expire)X
1 f
1488(must)X
1667(also)X
1820(rebuild)X
2071(the)X
2 f
2193(dbm)X
1 f
2355(indexing)X
2659(data)X
2817(base,)X
3004(since)X
3193(it)X
3260(contains)X
3550(offsets)X
3787(into)X
3934(the)X
576 3760(history)N
821(\256le.)X
986(This)X
1151(data)X
1308(base)X
1474(is)X
1550(comparable)X
1948(in)X
2033(size)X
2181(to)X
2266(the)X
2387(history)X
2632(\256le)X
2757(itself,)X
2960(and)X
3099(is)X
3175(generated)X
3511(in)X
3596(a)X
3656(less)X
3800(orderly)X
576 3856(manner)N
837(that)X
977(requires)X
1256(more)X
1441(disk)X
1594(accesses.)X
776 3980(Much)N
985(of)X
1074(the)X
1194(time)X
1358(needed)X
1608(for)X
1724(these)X
1911(operations)X
2267(could)X
2467(be)X
2565(eliminated)X
2925(if)X
2 f
2996(expire)X
1 f
3219(could)X
3420(mark)X
3608(a)X
3667(history)X
3912(line)X
576 4076(as)N
671(`expired')X
994(without)X
1266(changing)X
1588(its)X
1691(size.)X
1884(This)X
2054(could)X
2260(be)X
2364(done)X
2548(by)X
2656(writing)X
2915(into)X
3067(the)X
3193(history)X
3443(\256le)X
3572(rather)X
3787(than)X
3952(by)X
576 4172(rebuilding)N
935(the)X
1063(whole)X
1290(\256le,)X
1443(and)X
1590(the)X
1719(indexing)X
2030(database)X
2338(would)X
2569(not)X
2702(need)X
2885(alteration.)X
3259(This)X
3432(would)X
3663(also)X
3823(permit)X
576 4268(retaining)N
883(information)X
1283(about)X
1483(an)X
1581(article)X
1804(after)X
1974(the)X
2094(article)X
2317(itself)X
2499(expires,)X
2773(which)X
2990(would)X
3211(simplify)X
3498(rejecting)X
3800(articles)X
576 4364(that)N
721(arrive)X
935(again)X
1135(\(due)X
1304(to)X
1392(loops)X
1591(in)X
1679(the)X
1803(network,)X
2112(etc.\))X
2279(after)X
2453(the)X
2577(original)X
2852(has)X
2985(expired.)X
3292(The)X
3443(history)X
3691(\256le)X
3819(should)X
576 4460(still)N
722(be)X
825(cleaned)X
1098(out,)X
1247(and)X
1390(the)X
1515(indexing)X
1822(database)X
2126(rebuilt,)X
2382(occasionally.)X
2850(C)X
2 f
2930(expire)X
1 f
3170(contains)X
3463(some)X
3658(preliminary)X
576 4556(`hooks')N
843(for)X
960(this)X
1098(approach,)X
1436(but)X
1561(to)X
1646(date)X
1803(full)X
1937(implementation)X
2462(does)X
2632(not)X
2757(seem)X
2945(justi\256ed:)X
3267(C)X
2 f
3343(expire)X
1 f
3580(is)X
3656(already)X
3916(fast)X
576 4652(enough.)N
2 f
872(Know)X
1078(when)X
1267(you)X
1403(are)X
1530(\256nished.)X
3 f
576 4844(4.)N
6 f
680(Batcher)X
999(Performance)X
1 f
776 4968(The)N
922(C)X
996(batcher)X
1254(is)X
1328(descended)X
1684(from)X
1861(a)X
1918(very)X
2082(old)X
2205(version)X
2462(written)X
2710(to)X
2793(add)X
2930(some)X
3121(minor)X
3334(functionality)X
3765(that)X
3907(was)X
576 5064(not)N
709(present)X
972(in)X
1065(the)X
1194(B)X
1278(batcher)X
1546(of)X
1644(the)X
1772(time.)X
1984(It)X
2063(is)X
2146(small)X
2349(and)X
2495(straightforward,)X
3040(and)X
3186(contains)X
3483(only)X
3655(a)X
3721(couple)X
3965(of)X
576 5160(noteworthy)N
961(performance)X
1388(hacks.)X
776 5284(The)N
926(batcher)X
1188(works)X
1409(from)X
1590(a)X
1651(list)X
1773(of)X
1865(\256led)X
2032(articles,)X
2309(to)X
2396(be)X
2498(composed)X
2849(into)X
2999(batches.)X
3306(The)X
3457(list)X
3580(is)X
3659(by)X
3765(absolute)X
576 5380(pathname.)N
956(All)X
1086(of)X
1181(these)X
1373(\256les)X
1533(reside)X
1752(in)X
1841(the)X
1966(same)X
2158(area)X
2320(of)X
2414(the)X
2539(system's)X
2846(directory)X
3163(tree,)X
3331(and)X
3474(referring)X
3783(to)X
3872(them)X
576 5476(with)N
749(absolute)X
1048(pathnames)X
1423(every)X
1634(time)X
1808(implies)X
2075(repeatedly)X
2442(traversing)X
2795(the)X
2925(same)X
3122(initial)X
3340(pathname)X
3684(pre\256x.)X
3943(To)X
8 s
10 f
576 5556(hhhhhhhhhhhhhhhhhh)N
1 f
576 5636(*)N
629(As)X
721(witness)X
934(the)X
1033(progressive)X
1348(increase)X
1577(in)X
1648(\256lesystem)X
1929(block)X
2092(size)X
2212(that)X
2329(produced)X
2587(major)X
2757(performance)X
3099(improvements)X
3486(in)X
3557(succes-)X
576 5716(sive)N
695(versions)X
924(of)X
993(4BSD.)X

7 p
%%Page: 7 7
8 s 0 xH 0 xS 1 f
10 s
2237 384(-)N
2284(7)X
2344(-)X
576 672(avoid)N
777(this,)X
935(the)X
1056(batcher)X
1316(initially)X
2 f
1587(chdir)X
1 f
1756(s)X
1810(to)X
1895(a)X
1954(likely-looking)X
2430(place)X
2623(such)X
2793(as)X
2 f
2883(/usr/spool/news)X
1 f
3384(.)X
3447(Thereafter,)X
3826(before)X
576 768(using)N
771(an)X
869(absolute)X
1158(pathname)X
1492(to)X
1576(open)X
1754(an)X
1852(article,)X
2095(it)X
2161(checks)X
2402(whether)X
2682(the)X
2801(beginning)X
3142(of)X
3230(the)X
3349(pathname)X
3682(is)X
3756(identical)X
576 864(to)N
662(the)X
784(directory)X
1098(where)X
1319(it)X
1387(already)X
1648(resides.)X
1935(If)X
2013(so,)X
2129(it)X
2198(strips)X
2396(this)X
2536(pre\256x)X
2748(off)X
2867(the)X
2990(name)X
3189(before)X
3420(proceeding.)X
2 f
3842(If)X
3916(you)X
576 960(walk)N
747(the)X
865(same)X
1050(road)X
1221(repeatedly,)X
1600(consider)X
1896(moving)X
2152(to)X
2234(the)X
2352(other)X
2541(end.)X
1 f
776 1084(The)N
922(batcher's)X
1239(input)X
1425(is)X
1500(usually)X
1753(in)X
1837(fairly)X
2033(random)X
2300(order,)X
2512(with)X
2676(little)X
2844(tendency)X
3156(for)X
3272(successive)X
3633(\256les)X
3788(to)X
3872(be)X
3970(in)X
576 1180(the)N
706(same)X
903(directory.)X
1265(If)X
1351(this)X
1498(were)X
1687(not)X
1821(the)X
1951(case,)X
2142(it)X
2218(would)X
2450(be)X
2558(worthwhile)X
2954(for)X
3079(the)X
3208(batcher)X
3476(to)X
3569(actually)X
3854(move)X
576 1276(around)N
819(in)X
901(the)X
1019(directory)X
1329(tree)X
1470(to)X
1552(be)X
1648(closer)X
1860(to)X
1942(the)X
2060(next)X
2218(\256le.)X
776 1400(The)N
934(batcher)X
1204(used)X
1384(to)X
1479(copy)X
1669(data)X
1837(using)X
2 f
2044(putc\(getc\(\)\))X
1 f
2471(loops.)X
2718(This)X
2894(has)X
3035(been)X
3221(replaced)X
3528(by)X
2 f
3642(fread/fwrite)X
1 f
576 1496(which)N
797(is)X
875(signi\256cantly)X
1295(faster,)X
1519(especially)X
1865(if)X
1939(using)X
2137(the)X
2260(souped-up)X
2 f
2619(fread/fwrite)X
1 f
3034(mentioned)X
3397(earlier.)X
2 f
3667(If)X
3740(you)X
3880(need)X
576 1592(to)N
658(move)X
848(a)X
908(mountain,)X
1250(use)X
1377(a)X
1437(bulldozer,)X
1779(not)X
1901(a)X
1961(teaspoon.)X
3 f
576 1784(5.)N
6 f
680(Future)X
951(Directions)X
1 f
776 1908(The)N
933(one)X
1082(improvement)X
1542(we)X
1669(are)X
1801(still)X
1953(considering)X
2360(for)X
2 f
2487(rnews)X
1 f
2724(is)X
2810(a)X
2879(radical)X
3131(revision)X
3422(of)X
3522(the)X
3653(newsgroup-)X
576 2004(matching)N
897(strategy.)X
1214(Newsgroup)X
1607(matching)X
1928(still)X
2070(consumes)X
2409(about)X
2610(18%)X
2780(of)X
2870(user-mode)X
3232(processor)X
3563(time.)X
3768(The)X
3916(key)X
576 2100(observation)N
971(is)X
1045(that)X
1186(the)X
1305(information)X
1704(that)X
1845(determines)X
2218(which)X
2436(newsgroups)X
2841(go)X
2943(to)X
3027(which)X
3245(sites)X
3409(seldom)X
3662(changes.)X
3983(It)X
576 2196(would)N
800(probably)X
1109(be)X
1209(worth)X
1420(precompiling)X
1871(a)X
1930(bit)X
2037(array)X
2226(indexed)X
2503(by)X
2606(newsgroup)X
2981(and)X
3120(site,)X
3274(and)X
3413(recompiling)X
3823(it)X
3890(only)X
576 2292(when)N
779(the)X
2 f
906(active)X
1 f
1140(\256le)X
1271(or)X
1367(the)X
2 f
1494(sys)X
1 f
1634(\256le)X
1765(changes)X
2053(in)X
2144(a)X
2209(relevant)X
2497(way.)X
2700(This)X
2871(would)X
3100(cut)X
3227(the)X
3355(newsgroup-matching)X
576 2388(time)N
738(to)X
820(essentially)X
1178(zero.)X
2 f
776 2512(Rnews)N
1 f
1026(would)X
1254(be)X
1358(faster)X
1565(\(and)X
1736(simpler\))X
2031(if)X
2108(`Newsgroups:')X
2613(and)X
2757(`Control:')X
3105(were)X
3290(required)X
3586(to)X
3676(be)X
3781(the)X
3908(\256rst)X
576 2608(two)N
717(headers)X
984(\(if)X
1081(present\))X
1361(of)X
1449(each)X
1618(article.)X
1880(At)X
1981(present)X
2 f
2234(rnews)X
1 f
2459(tries)X
2618(to)X
2701(\256nd)X
2846(them)X
3027(before)X
3253(starting)X
3513(to)X
3595(write)X
3780(the)X
3898(arti-)X
576 2704(cle)N
695(out,)X
842(so)X
938(that)X
1083(it)X
1152(can)X
1289(put)X
1416(the)X
1539(article)X
1765(in)X
1852(the)X
1975(right)X
2151(place)X
2346(from)X
2527(the)X
2650(start,)X
2833(but)X
2961(it)X
3031(has)X
3164(to)X
3252(allow)X
3456(for)X
3576(the)X
3700(possibility)X
576 2800(that)N
716(vast)X
865(volumes)X
1156(of)X
1243(other)X
1428(headers)X
1694(may)X
1852(precede)X
2123(them.)X
776 2924(Hashing)N
2 f
1071(active)X
1 f
1276(-\256le)X
1433(lookups)X
1714(in)X
2 f
1804(rnews)X
1 f
2036(would)X
2264(be)X
2368(fun,)X
2523(but)X
2653(pro\256ling)X
2956(suggests)X
3256(that)X
3405(it's)X
3536(not)X
3667(worthwhile)X
576 3020(unless)N
796(the)X
914(number)X
1179(of)X
1266(newsgroups)X
1669(is)X
1742(in)X
1824(the)X
1942(thousands.)X
776 3144(When)N
8 s
991(PDP-11)X
10 s
1194('s)X
1279(are)X
1406(truly)X
1585(dead)X
1765(on)X
1873(Usenet,)X
2144(the)X
2270(use)X
2405(of)X
2500(large)X
2689(per-process)X
3088(memories)X
2 f
3432(may)X
1 f
3607(allow)X
3813(further)X
576 3240(speedups)N
891(to)X
2 f
974(rnews)X
1 f
1199(by)X
1300(reading)X
1562(the)X
1681(entire)X
1885(batch)X
2080(into)X
2225(memory)X
2512(at)X
2590(once)X
2762(and)X
2898(writing)X
3149(each)X
3317(article)X
3538(to)X
3620(disk)X
3773(in)X
3855(a)X
3911(few)X
2 f
576 3336(writes)N
1 f
804(\(it)X
895(can't)X
1076(easily)X
1283(be)X
1379(reduced)X
1654(to)X
1736(a)X
1792(single)X
2 f
2003(write)X
1 f
2200(because)X
2475(headers)X
2741(must)X
2916(be)X
3012(modi\256ed)X
3316(before)X
3542(\256ling\).)X
776 3460(One)N
934(optimization)X
1362(we)X
1481(have)X
2 f
1658(not)X
1 f
1785(considered)X
2158(is)X
2236(re-coding)X
2569(key)X
2710(parts)X
2891(in)X
2978(assembler.)X
3364(C)X
3442(news)X
3632(already)X
3894(runs)X
576 3556(on)N
687(\256ve)X
838(different)X
1146(types)X
1346(of)X
1443(machine.)X
1785(Use)X
1940(of)X
2037(assembler)X
2388(would)X
2618(be)X
2724(a)X
2790(maintenance)X
3226(nightmare,)X
3601(and)X
3747(probably)X
576 3652(would)N
796(not)X
918(yield)X
1098(bene\256ts)X
1367(comparable)X
1762(to)X
1844(those)X
2033(of)X
2120(the)X
2238(more)X
2423(high-level)X
2768(changes.)X
3 f
576 3844(6.)N
6 f
680(Acknowledgements)X
1 f
776 3968(Ian)N
923(Darwin)X
1209(ran)X
1357(the)X
1500(very)X
1688(earliest)X
1965(alpha)X
2184(versions)X
2496(of)X
2 f
2608(rnews)X
1 f
2857(and)X
3018(gave)X
3215(helpful)X
3487(feedback.)X
3863(Mike)X
576 4064(Ghesquiere,)N
988(Dennis)X
1241(Ferguson)X
1565(and)X
1707(others)X
1929(have)X
2107(run)X
2240(later)X
2409(versions)X
2702(and)X
2844(prodded)X
3133(Collyer)X
3399(to)X
3487(\256x)X
3597(or)X
3690(implement)X
576 4160(assorted)N
859(things.)X
1114(John)X
1285(Gilmore)X
1572(and)X
1708(Laura)X
1916(Creighton)X
2256(read)X
2415(and)X
2551(criticized)X
2870(an)X
2966(early)X
3147(alpha)X
3341(version)X
3597(of)X
2 f
3684(rnews)X
1 f
3888(.)X
3 f
576 4352(7.)N
6 f
680(Appendix:)X
1115(rnews)X
1367(Times)X
1 f
776 4476(Measurements)N
1270(have)X
1448(been)X
1626(taken)X
1826(on)X
1933(a)X
1996(VAX)X
2197(750)X
2344(running)X
2620(4.2BSD)X
2902(under)X
3112(generally)X
3438(light)X
3611(load,)X
3796(using)X
3996(a)X
576 4572(batch)N
776(of)X
869(297,054)X
1155(bytes)X
1350(of)X
1443(net.unix-wizards)X
2006(containing)X
2370(171)X
2515(articles)X
2772(and)X
2913(\304104)X
3085(cross-postings.)X
3608(All)X
3735(times)X
3933(are)X
576 4668(in)N
658(seconds)X
932(per)X
1055(article.)X
775 4840(time)N
1195(real)X
1429(user)X
1685(sys)X
2719(comments)X
10 f
576 4856 -0.0488(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)AN
1 f
590 4952(85)N
690(Dec)X
860(6)X
920(00:54)X
1166(4.68)X
1406(0.3)X
1646(1.29)X
3 f
1876(B)X
1949(news)X
1 f
2138(rejecting)X
2439(all.)X
2579(\(b.1.rej\))X
590 5048(85)N
690(Dec)X
860(6)X
920(00:54)X
1166(3.184)X
1406(0.69)X
1646(0.67)X
1876(\256rst)X
2020(timing)X
2248(trial;)X
2 f
2419(pro\256ling)X
2714(on)X
1 f
2814(\(c.1\))X
590 5144(85)N
690(Dec)X
860(6)X
920(00:54)X
1166(0.66)X
1406(0.175)X
1646(0.199)X
1876(rejecting)X
2177(all)X
2277(\(c.2.rej\))X
590 5240(85)N
690(Dec)X
860(6)X
920(03:25)X
1166(0.58)X
1406(0.175)X
1646(0.175)X
1876(still)X
2015(rejecting)X
2316(all)X
2416(\(c.3.rej\))X
590 5336(85)N
690(Dec)X
860(6)X
920(23:46)X
1166(9.058)X
1406(0.631)X
1646(2.251)X
3 f
1876(B)X
1957(news)X
1 f
2154(using)X
2355(private)X
2606(directories,)X
2993(rejected)X
3277(53)X
3386(of)X
3482(the)X
3609(171)X
3758(arti-)X
1876 5432(cles)N
2021(as)X
2108("too)X
2263(old")X
2418(\(b.2\))X
590 5528(85)N
690(Dec)X
860(7)X
920(00:24)X
1482(-)X
1722(-)X
1156(2.0)X
1156 5624(\(est\))N
1876 5528(on)N
1982(a)X
2044(10)X
2150(MHz)X
2341(68000)X
2567(with)X
2735(slow)X
2912(memory)X
3205(and)X
3348(slow)X
3526(disk)X
3686(\(crude)X
1876 5624(timings\))N
2162(\(c.darwin.1\))X

8 p
%%Page: 8 8
10 s 0 xH 0 xS 1 f
2237 384(-)N
2284(8)X
2344(-)X
590 672(85)N
690(Dec)X
860(7)X
920(00:40)X
1166(7.576)X
1406(0.684)X
1646(2.403)X
3 f
1876(B)X
1957(news)X
1 f
2154(without)X
2426(the)X
2552("too)X
2715(old")X
2878(reject)X
3086(code)X
3267(and)X
3412(having)X
3659(cleared)X
1876 768(out)N
1998(history)X
2240(\(b.3\))X
590 864(85)N
690(Dec)X
860(7)X
920(04:43)X
1166(1.99)X
1406(0.49)X
1646(0.53)X
1876(accepting)X
2220(the)X
2354(articles,)X
2642(using)X
2851(read)X
3026(and)X
3178(write)X
3379(for)X
3509(bulk)X
3687(copies)X
1876 960(\(c.4\))N
590 1056(85)N
690(Dec)X
860(7)X
920(06:10)X
1406(0.497)X
1646(0.449)X
1156(2.261)X
1156 1152(\(!\))N
1876 1056(optimized)N
2216(by)X
2316(less)X
2456(locking)X
2716(&)X
2798(keeping)X
3072(batch)X
3266(\256les)X
3419(open)X
3595(\(c.5\))X
590 1248(85)N
690(Dec)X
860(7)X
920(07:32)X
1166(1.383)X
1406(0.491)X
1646(0.414)X
1876(same)X
2071(as)X
2168(the)X
2296(last)X
2437(one,)X
2604(but)X
2737(with)X
2910(a)X
2977(lower)X
3191(load)X
3360(average)X
3642(\(around)X
1876 1344(1.5\))N
2023(\(c.6\))X
580 1440(85)N
680(Dec)X
830(16)X
930(03:43)X
1166(1.380)X
1406(0.447)X
1646(0.374)X
1876(for)X
1990(calibration)X
2353(after)X
2521(misc.)X
2712(cleanup)X
2982(\(c.7,)X
3145(c.8\))X
591 1536(86)N
691(Jan)X
818(13)X
918(00:23)X
1166(1.232)X
1406(0.349)X
1646(0.301)X
1876(turned)X
2101(hostchar\(\))X
2447(into)X
2591(a)X
2647(macro)X
2868(\(c.9\))X
591 1632(86)N
691(Jan)X
818(13)X
918(04:26)X
1166(1.36)X
1406(0.333)X
1636(0.242)X
1636 1728(\(!\))N
1876 1632(using)N
2069(in-core)X
2317(active)X
2529(\256le,)X
2671(under)X
2874(heavy)X
3086(load)X
3244(\(c.10\))X
591 1824(86)N
691(Jan)X
818(13)X
918(08:24)X
1166(1.94)X
1406(0.349)X
1646(0.253)X
1876(using)X
2073(in-core)X
2325(sys)X
2451(\256le)X
2577(too,)X
2723(under)X
2930(heavy)X
3146(load.)X
3348(Re-run)X
3596(this)X
3736(trial!)X
1876 1920(\(c.11\))N
591 2016(86)N
691(Jan)X
818(13)X
918(08:42)X
1406(0.332)X
1646(0.245)X
1156(0.892)X
1156 2112(\(!\))N
1876 2016(re-run)N
2102(at)X
2189(better)X
2401(nice.)X
2584(Not)X
2733(striking,)X
3026(except)X
3265(for)X
3388(real)X
3538(time.)X
3749(Was)X
1876 2112(run)N
2003(in)X
2085(a)X
2141(large)X
2322(directory;)X
2654(ignore.)X
2919(\(c.12\))X
591 2208(86)N
691(Jan)X
818(13)X
918(08:59)X
1406(0.333)X
1156(0.861)X
1156 2304(\(!\))N
1636 2208(0.212)N
1636 2304(\(!\))N
1876 2208(re-run)N
2106(at)X
2197(good)X
2390(nice)X
2558(&)X
2654(in)X
2750(a)X
2820(small)X
3027(directory.)X
3391(Have)X
3595(beaten)X
3839(B)X
1876 2304(news)N
2067(by)X
2 f
2172(one)X
2313(order)X
2516(of)X
2603(magnitude)X
1 f
2966(on)X
3071(real)X
3217(&)X
3304(sys)X
3431(times!)X
3676(Beat)X
3848(it)X
1876 2400(by)N
1976(more)X
2161(than)X
2319(twice)X
2513(on)X
2613(user)X
2767(time.)X
2969(\(c.13\))X
591 2496(86)N
691(Jan)X
818(21)X
918(19:15)X
1166(1.208)X
1406(0.349)X
1646(0.245)X
1876(creat)X
2075(1st)X
2211(link)X
2378(under)X
2604(\256nal)X
2789(name,)X
3026(only)X
3211(link)X
3378(to)X
3483(make)X
3700(cross-)X
1876 2592(postings;)N
2184(with)X
2346(HDRMEMSIZ)X
2846(too)X
2968(small)X
3161(\(c.14\))X
591 2688(86)N
691(Jan)X
818(21)X
918(19:57)X
1166(0.728)X
1406(0.318)X
1646(0.193)X
1876(previous)X
2172(mod,)X
2354(with)X
2516(HDRMEMSIZ)X
3016(of)X
3103(4096)X
3283(\(c.15\))X
591 2784(86)N
691(Jan)X
818(22)X
918(01:20)X
1166(0.719)X
1406(0.315)X
1646(0.166)X
1876(fewer)X
2080(opens)X
2288(\(just)X
2451(rewind)X
2695(the)X
2814(spool)X
3008(\256le\),)X
3178(but)X
3301(Xref\(s\):)X
3577(not)X
3700(work-)X
1876 2880(ing)N
1998(\(c.16\))X
591 2976(86)N
691(Jan)X
818(22)X
918(01:53)X
1406(0.314)X
1156(0.637)X
1156 3072(\(!\))N
1636 2976(0.154)N
1636 3072(\(!\))N
1876 2976(fewer)N
2080(opens)X
2287(\256xed)X
2467(to)X
2549(spell)X
2720(Xref:)X
2910(right;)X
3103(Xref:)X
3293(not)X
3415(working)X
3702(\(c.17\))X
591 3168(86)N
691(Jan)X
818(22)X
918(04:00)X
1166(0.874)X
1406(0.325)X
1646(0.174)X
1876(fewer)X
2082(opens)X
2291(with)X
2455(Xref:)X
2647(\256xed)X
2829(\(times)X
3051(may)X
3211(be)X
3309(high)X
3473(due)X
3611(to)X
3695(calen-)X
1876 3264(dar\))N
2026(\(c.18\))X
591 3360(86)N
691(Jan)X
818(22)X
918(05:45)X
1166(0.694)X
1406(0.309)X
1646(0.159)X
1876(under)X
2079(lighter)X
2308(load,)X
2486(times)X
2679(are)X
2798(better)X
3001(\(c.19\))X
591 3456(86)N
691(Jan)X
818(24)X
918(04:29)X
1166(0.715)X
1406(0.317)X
1636(0.129)X
1636 3552(\(!\))N
1876 3456(turn)N
2039(creat)X
2230(&)X
2326(open)X
2516(into)X
2674(just)X
2823(creat,)X
3035(under)X
3253(slightly)X
3527(heavy)X
3754(load)X
1876 3552(\(c.20\))N
591 3648(86)N
691(Jan)X
818(24)X
918(06:06)X
1156(0.628)X
1156 3744(\(!\))N
1396 3648(0.288)N
1396 3744(\(!\))N
1636 3648(0.129)N
1636 3744(\(!\))N
1876 3648(reduce)N
2120(number)X
2394(of)X
2491(calls)X
2668(on)X
2778(index)X
2986(\(by)X
3123(noting)X
3357(line)X
3507(starts)X
3706(at)X
3794(the)X
1876 3744(start\))N
2091(and)X
2256(strncmp)X
2563(\(via)X
2737(macro\))X
3014(in)X
3125(active.mem.c,)X
3622(but)X
3773(still)X
1876 3840(pro\256ling)N
2171(and)X
2307(writing)X
2558(stdout)X
2773(and)X
2909(stderr)X
3112(to)X
3194(the)X
3312(tty)X
3416(\(c.21\))X
591 3936(86)N
691(Jan)X
818(24)X
918(07:22)X
1166(0.653)X
1396(0.209)X
1396 4032(\(!\))N
1636 3936(0.123)N
1636 4032(\(!\))N
1876 3936(fewer)N
2096(strlen)X
2310(calls)X
2493(\(by)X
2636(using)X
3 f
2845(sizeof)X
1 f
3074(s)X
3142(-)X
3206(1\),)X
3330(writing)X
3598(stdout)X
3830(to)X
1876 4032(/dev/null)N
2190(and)X
2335(with)X
2 f
2506(pro\256ling)X
2810(off)X
1 f
2894(,)X
2943(but)X
3074(under)X
3286(moderate)X
3614(load;)X
3803(try)X
1876 4128(again)N
2070(\(c.23\))X
591 4224(86)N
691(Jan)X
818(24)X
918(07:35)X
1156(0.574)X
1156 4320(\(!\))N
1396 4224(0.216)N
1396 4320(\(!\))N
1636 4224(0.123)N
1636 4320(\(!\))N
1876 4224(as)N
1968(last)X
2104(time,)X
2291(but)X
2418(stdout)X
2638(to)X
2725(tty\(!\))X
2915(and)X
3056(under)X
3264(light)X
3435(load.)X
2 f
3639(running)X
1876 4320(15.67)N
2076(times)X
2265(as)X
2356(fast)X
2491(as)X
2582(B)X
2651(rnews)X
1 f
2862(\(c.24\))X
586 4416(86)N
686(Aug)X
864(8)X
924(04:23)X
1166(0.839)X
1406(0.51)X
1646(0.124)X
1876(performance)X
2332(hit:)X
2487(f\257ush)X
2718(after)X
2915(each)X
3112(history)X
3383(line)X
3552(for)X
3695(crash-)X
1876 4512(resilience;)N
2229(run)X
2359(for)X
2 f
2476(gprof)X
1 f
2672(output)X
2899(and)X
3038(calibration)X
3404(with)X
3569(later)X
3734(runs.)X
1876 4608(running)N
2148(under)X
2354(4.2.1BSD)X
2692(\(has)X
2850(4.3)X
2974(namei)X
3194(cache\))X
3429(now.)X
3631(real)X
3776(and)X
1876 4704(user)N
2030(times)X
2223(are)X
2342(way)X
2496(up;)X
2618(due)X
2754(to)X
2836(gprof)X
3030(pro\256ling?)X
3381(\(c.25\))X
586 4800(86)N
686(Aug)X
864(8)X
924(04:24)X
1166(0.962)X
1646(0.131)X
1396(0.438)X
1396 4896(\(!\))N
1876 4800(run)N
2011(with)X
2181(faster)X
2388(ngmatch,)X
2712(with)X
3 f
2882(register)X
1 f
3174(decl.s)X
3387(and)X
3531(wordmatch)X
1876 4896(and)N
2026(STREQN)X
2371(macros;)X
2659(saved)X
2876(15%)X
3056(user.)X
3263(User)X
3448(time)X
3623(is)X
3709(better)X
1876 4992(than)N
2034(c.25,)X
2210(but)X
2332(still)X
2471(up)X
2571(from)X
2747(c.24.)X
2943(\(c.26\))X
576 5088(86)N
676(Aug)X
834(10)X
934(07:35)X
1166(0.805)X
1646(0.135)X
1396(0.345)X
1396 5184(\(!\))N
1876 5088(further)N
2129(speedups:)X
2480(ngmatch)X
2791(has)X
2933(more)X
3 f
3133(register)X
1 f
3432(decl.s)X
3652(and)X
3803(in-)X
1876 5184(line)N
2032(index;)X
2268(more)X
2469(use)X
2612(of)X
2715(STREQ\(N\))X
3116(macro)X
3353(for)X
3483(str\(n\)cmp)X
3830(in)X
1876 5280(hdrmatch,)N
2252(ngmatch.c)X
2637(and)X
2807(transmit.c;)X
3201(faster)X
3434(ishdr)X
3648(without)X
1876 5376(index.)N
2127(real)X
2281(&)X
2376(user)X
2543(times)X
2749(are)X
2881(better)X
3096(than)X
3266(both)X
3440(c.26)X
3608(and)X
3756(c.25)X
1876 5472(\(c.27\))N

9 p
%%Page: 9 9
10 s 0 xH 0 xS 1 f
2237 384(-)N
2284(9)X
2344(-)X
576 672(86)N
676(Aug)X
834(11)X
934(04:19)X
1166(1.012)X
1646(0.146)X
1396(0.303)X
1396 768(\(!\))N
1876 672(rewrote)N
2202(sys.c,)X
2460(used)X
2687(INDEX)X
3017(and)X
3214(STREQ\(N\))X
3660(macros)X
1876 768(throughout)N
2253(rnews.)X
2511(real)X
2658(and)X
2800(sys)X
2928(times)X
3127(are)X
3252(up,)X
3378(but)X
3506(user)X
3665(contin-)X
1876 864(ues)N
2003(to)X
2085(decline.)X
2377(\(c.28\))X
576 960(86)N
676(Aug)X
834(12)X
934(03:51)X
1166(1.315)X
1406(0.315)X
1646(0.154)X
1876(minor)X
2087(tweaks:)X
2352(all.all.ctl)X
2652(caching,)X
2942(etc.)X
3076(\(c.29\))X
576 1056(86)N
676(Aug)X
834(30)X
934(17:56)X
1166(0.564)X
1396(0.189)X
1396 1152(\(!\))N
1636 1056(0.112)N
1636 1152(\(!\))N
1876 1056(light)N
2057(load,)X
2250(thought)X
2529(we)X
2658(had)X
2809(3-arg)X
3014(open)X
3205(in)X
3302(\256leart,)X
3544(but)X
3681(didn't.)X
1876 1152(Odd.)N
2 f
2074(Stopped)X
2352(using)X
2545(gprof)X
1 f
2718(.)X
2778(\(c.30\))X
576 1248(86)N
676(Aug)X
834(30)X
934(17:57)X
1406(0.191)X
1156(0.475)X
1156 1344(\(!\))N
1636 1248(0.095)N
1636 1344(\(!\))N
1876 1248(Really)N
2110(and)X
2251(truly)X
2427(use)X
2559(the)X
2682(3-arg)X
2877(open.)X
2 f
3098(19)X
3203(times)X
3397(B)X
3472(rnews)X
3689(speed.)X
1 f
1876 1344(\(c.31\))N

9 p
%%Trailer
xt

xs

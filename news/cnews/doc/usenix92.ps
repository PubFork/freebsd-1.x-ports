%!
%%Creator: troff->tpscript
%%CreationDate: Tue Apr 21 21:54:15 1992
%%EndComments
/inch { 480 mul } bind def
/rotateit { /pgtop 11 inch def /pgwid 8.5 inch def  newpath } bind def
/scaleit { 72 480 div dup scale rotateit 1 setlinecap} def
/unscaleit { 480 72 div dup scale} def
/RBKFontDict 9 dict def /NEWDict 10 dict def
RBKFontDict begin
/FontType 3 def
/FontName (RBK specials) cvn def
/FontMatrix [ 0.001 0 0 0.001 0 0] def
/FontBBox [ -50 -250 1000 1000 ] def
/Encoding 256 array def 0 1 255 { Encoding exch /.notdef put } for
Encoding
dup 2 /Csq put
dup 3 /Cci put
dup 4 /Cbx put
dup 5 /CSu put
dup 15 /Cbu put
pop
/CharProcs 24 dict dup begin
  /setC { 0 -50 -250 1000 1000 setcachedevice} def
/Cbu { 0 0 moveto
600 setC
300 300 moveto 300 300 250 0 360 arc closepath fill } def
/Csq { 0 0 moveto
600 setC
50 50 moveto
500 0 rlineto 0 500 rlineto -500 0 rlineto closepath fill } def
/Cbx { 0 0 moveto
600 setC
70 setlinewidth
50 50 moveto 500 0 rlineto 0 500 rlineto -500 0 rlineto closepath stroke } def
/Cci { 0 0 moveto 600 setC
70 setlinewidth
550 300 moveto 300 300 250 0 360 arc closepath stroke } def
/CSu {
0 0 moveto
715 setC
700 700 scale
%% Kolstad & Horton/Polk 12/1989; Font:  kolstad 6/24/90
/divsq2 { 1.4142136 div } bind def /mulsq2 { 1.4142136 mul } bind def
/TW 0.62 def  %% top width
/MG 0.12 def  %% MidGap
/US TW 4 mul MG 6 mul add def  %% Uside
/UL US TW sub MG sub def  %% U length
/OR MG TW add def  %% outradius
/T2 TW divsq2 def
/U2 UL divsq2 def
/M2 MG divsq2 def
/SU {  %% sunU
    currentpoint
	T2 dup neg rlineto
	U2 neg dup rlineto
	currentpoint exch M2 add exch M2 sub MG 135 315 arc
	U2 dup rlineto
	T2 dup neg rlineto
	U2 neg dup rlineto
	currentpoint exch OR divsq2 sub exch OR divsq2 add OR 315 135 arcn
	closepath
    moveto
} def
/SU2 { SU currentpoint 0 US neg mulsq2 rmoveto 180 rotate SU -180 rotate
      moveto } def
   1 US mulsq2 2 mul div dup scale 
   US divsq2 US mulsq2 US divsq2 add rmoveto
   4 { M2 2 mul M2 2 mul rmoveto US mulsq2 0 rmoveto 270 rotate SU2 } repeat
%% 0 setlinewidth stroke
   fill
} def
end def

/BuildChar
{
	NEWDict begin
	/charcode exch def /fontdict exch def
	fontdict /CharProcs get begin
	fontdict /Encoding get
	charcode get load
	gsave 0 setlinecap 0 setgray newpath exec grestore
	end end
} def
end
/RBKFont RBKFontDict definefont pop
%%%%%%%%%%%%%%% End special Font
scaleit 0 0 moveto
/pagebot { showpage restore } def
/pagetop { save } def
/lastpage {} def
/pt { 6.666667 mul } bind def
/y { neg 0 exch rmoveto } bind def
/X { U moveto } bind def
/Y { pgtop exch sub currentpoint pop exch dup /U exch def moveto } bind def
/s { show } bind def
/S { dup gsave show grestore
	gsave true charpath 0 setgray stroke grestore } bind def
/l { neg rlineto currentpoint stroke dup /U exch def moveto } bind def
/c {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
newpath x0 rad add y0 rad 0 360 arc stroke
x0 rad add rad add y0 dup /U exch def moveto
 } def
/a {
/y2 exch neg def /x2 exch def /y1 exch neg def /x1 exch def
x1 y1 rmoveto currentpoint
currentpoint
x2 x2 mul y2 y2 mul add sqrt
y1 neg x1 neg atan
y2 x2 atan
newpath arc stroke moveto x2 y2 rmoveto currentpoint /U exch def pop
} def
/e {
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
gsave x0 xrad add y0 translate xrad yrad scale
LS xrad yrad gt {xrad} {yrad} ifelse div setlinewidth
newpath 0 0 1 0 360 arc stroke grestore
x0 xrad add xrad add y0 dup /U exch def moveto
} def
/spln {
rcurveto currentpoint stroke dup /U exch def moveto
} def

% stolen from greenbook page 115-116
/F { findfont exch scalefont setfont } bind def
/RE {   % re-encode
  findfont begin
   currentdict dup length dict begin
    { 1 index /FID ne {def} {pop pop} ifelse } forall
    /FontName exch def dup length 0 ne { % if
	   /Encoding Encoding 256 array copy def
      0 exch
	   {  % forall
	     dup type /nametype eq  % if?
	     { Encoding 2 index 2 index put pop 1 add }
	     { exch pop }
	     ifelse
	   } forall
    } if
    pop currentdict dup
   end
  end
  /FontName get exch definefont pop
} bind def

% use make.remap to make new stdencodings:
/stdencoding [ 1 /multiply /ntilde /eth /otilde /oacute /idieresis
/Ocircumflex /ograve /onequarter /scaron /uacute /odieresis
/Ucircumflex /ugrave /yacute /Thorn /zcaron /udieresis /threequarters
/threesuperior /ydieresis /aring /Ccedilla /twosuperior /acircumflex
/Atilde /Aacute /Agrave /ecircumflex /Eacute /copyright 127 /Adieresis
/Egrave /icircumflex /Iacute /onehalf /Edieresis /Igrave /Ntilde /Eth
/ocircumflex /Otilde /Oacute /Idieresis /mu /Ograve /Scaron
/ucircumflex /Uacute /Odieresis /Ugrave /Yacute /thorn /degree
/logicalnot /minus /Zcaron /Udieresis /registered /plusminus /ccedilla
/Ydieresis /Aring /atilde /aacute 176 /Acircumflex 181 /divide 190
/brokenbar 192 /agrave 201 /eacute 204 /Ecircumflex 209 /adieresis
/egrave /onesuperior /trademark /iacute /Icircumflex /edieresis /igrave
] def
/specdwidth 0 def /LS 0 def
/setwidth {/specdwidth 1 def dup /LS exch def setlinewidth} def
/ft { /fonttype exch def /xsiz exch def /ysiz exch def /sl exch def
 fonttype [ xsiz pt 0 sl sin sl cos div ysiz pt mul ysiz pt 0 0 ]
 makefont setfont
 specdwidth 0 eq {xsiz 4 div dup /LS exch def setlinewidth} if
 setgray } def
/Z { specdwidth 0 eq {dup 4 div dup /LS exch def setlinewidth} if
 pt scalefont setfont } bind def
/M { pgtop exch sub moveto } bind def
/L { pgtop exch sub lineto } bind def
/cbox { gsave 100 div setgray
currentpoint /nowy exch def /nowx exch def
/radius exch def /boxdown exch def /boxover exch def
currentpoint newpath moveto radius 0 rmoveto
nowx boxover add nowy nowx boxover add nowy boxdown sub radius arcto 
pop pop pop pop
nowx boxover add nowy boxdown sub nowx nowy boxdown sub radius arcto
pop pop pop pop
nowx nowy boxdown sub nowx nowy radius arcto pop pop pop pop
nowx nowy nowx boxover add nowy radius arcto pop pop pop pop
currentgray 1.0 ne { gsave fill grestore } if 0 setgray stroke
grestore } bind def
/f.Y /RBKFont findfont def

0 Y
save
%%EndProlog

0 Y
%%Page: 1 1
pagetop
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
0.00 0.0 10 10 f.R ft
903 X
521 Y
1191 X
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 22 Z(#ifdef)s
1597 X(Considered)s
2360 X(Harmful,)s
2990 X(or)s
903 X
667 Y
998 X(Portability)s
1721 X(Experience)s
2468 X(With)s
2834 X(C)s
2988 X(News)s
600 X
835 Y
1036 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 12 Z(Henry)s
1263 X(Spencer)s
1548 X(\261)s
1614 X
f.R 12 Z(Zoology)s
1911 X(Computer)s
2257 X(Systems,)s
2569 X(University)s
2933 X(of)s
3026 X(Toronto)s
600 X
915 Y
1543 X
f.I 12 Z(Geoff)s
1747 X(Collyer)s
2013 X(\261)s
2079 X
f.R 12 Z(Software)s
2395 X(Tool)s
2572 X(&)s
2660 X(Die)s
840 X
1091 Y
1912 X
f.B 12 Z(ABSTRACT)s
840 X
1225 Y
984 X
f.R 10 Z(We)s
1103 X(believe)s
1323 X(that)s
1450 X(a)s
1506 X(C)s
1576 X(programmer's)s
1979 X(impulse)s
2217 X(to)s
2295 X(use)s
2410 X
f.B 10 Z(#ifdef)s
2599 X
f.R 10 Z(in)s
2677 X(an)s
2766 X(attempt)s
2994 X(at)s
3069 X(portability)s
3375 X(is)s
840 X
1298 Y(usually)s
1061 X(a)s
1119 X(mistake)s
1328 X(.)s
1395 X(Portability)s
1706 X(is)s
1779 X(generally)s
2055 X(the)s
2164 X(result)s
2340 X(of)s
2422 X(advance)s
2668 X(planning)s
2928 X(rather)s
3111 X(than)s
3253 X(trench)s
840 X
1371 Y(warfare)s
1079 X(involving)s
1369 X
f.B 10 Z(#ifdef)s
1532 X
f.R 10 Z(.)s
1606 X(In)s
1696 X(the)s
1813 X(course)s
2022 X(of)s
2112 X(developing)s
2443 X(C)s
2522 X(News)s
2709 X(on)s
2811 X(different)s
3077 X(systems,)s
3342 X(we)s
840 X
1444 Y(evolved)s
1089 X(various)s
1323 X(tactics)s
1534 X(for)s
1649 X(dealing)s
1884 X(with)s
2041 X(differences)s
2376 X(among)s
2594 X(systems)s
2843 X(without)s
3084 X(producing)s
3390 X(a)s
840 X
1517 Y(welter)s
1043 X(of)s
1133 X
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
1357 X(at)s
1442 X(points)s
1641 X(of)s
1732 X(difference)s
2003 X(.)s
2078 X(We)s
2207 X(discuss)s
2436 X(the)s
2554 X(alternatives)s
2900 X(to,)s
3005 X(and)s
3137 X(occasional)s
840 X
1590 Y(proper)s
1035 X(use)s
1146 X(of,)s
1240 X
f.B 10 Z(#ifdef)s
1403 X
f.R 10 Z(.)s
600 X
1736 Y
1150 X
f.B 10 Z(Introduction)s
600 X
1845 Y
744 X
f.R 10 Z(With)s
905 X
f.R 8 Z(UNIX)s
1068 X
f.R 10 Z(running)s
1305 X(on)s
1402 X(many)s
1581 X(different)s
1842 X(comput-)s
600 X
1918 Y(ers,)s
719 X(vaguely)s
950 X
f.R 8 Z(UNIX)s
1082 X
f.R 10 Z(-like)s
1229 X(systems)s
1465 X(running)s
1695 X(on)s
1785 X(still)s
1910 X(more,)s
600 X
1991 Y(and)s
724 X(C)s
796 X(running)s
1030 X(on)s
1125 X(practically)s
1438 X(everything,)s
1769 X(many)s
1946 X(peo-)s
600 X
2064 Y(ple)s
729 X(are)s
858 X(suddenly)s
1145 X(\256nding)s
1379 X(it)s
1463 X(necessary)s
1769 X(to)s
1867 X(port)s
2020 X(C)s
600 X
2137 Y(software)s
853 X(from)s
1005 X(one)s
1124 X(machine)s
1374 X(to)s
1449 X(another)s
1649 X(.)s
1711 X(When)s
1894 X(differ-)s
600 X
2210 Y(ences)s
784 X(among)s
1000 X(systems)s
1246 X(cause)s
1429 X(trouble,)s
1669 X(the)s
1785 X(usual)s
1960 X(\256rst)s
600 X
2283 Y(impulse)s
853 X(is)s
939 X(to)s
1032 X(write)s
1211 X(two)s
1352 X(different)s
1623 X(versions)s
1886 X(of)s
1982 X(the)s
600 X
2356 Y(code\320one)s
914 X(per)s
1024 X(system\320and)s
1397 X(use)s
1510 X
f.B 10 Z(#ifdef)s
1697 X
f.R 10 Z(to)s
1773 X(choose)s
1982 X(the)s
600 X
2429 Y(appropriate)s
926 X(one)s
1022 X(.)s
1083 X(This)s
1224 X(is)s
1291 X(usually)s
1506 X(a)s
1558 X(mistake)s
1767 X(.)s
600 X
2523 Y
744 X(Simple)s
977 X(use)s
1109 X(of)s
1207 X
f.B 10 Z(#ifdef)s
1413 X
f.R 10 Z(works)s
1618 X(acceptably)s
1948 X(well)s
600 X
2596 Y(when)s
768 X(differences)s
1088 X(are)s
1193 X(localized)s
1459 X(and)s
1578 X(only)s
1719 X(two)s
1842 X(versions)s
600 X
2669 Y(are)s
720 X(present)s
913 X(.)s
990 X(Unfortunately,)s
1420 X(as)s
1515 X(software)s
1784 X(using)s
1967 X(this)s
600 X
2742 Y(approach)s
878 X(is)s
957 X(ported)s
1161 X(to)s
1247 X(more)s
1418 X(and)s
1548 X(more)s
1719 X(systems,)s
1982 X(the)s
600 X
2815 Y
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
840 X(proliferate,)s
1187 X(nest,)s
1364 X(and)s
1512 X(interlock)s
1750 X(.)s
1841 X(After)s
2034 X(a)s
600 X
2888 Y(while,)s
800 X(the)s
916 X(result)s
1099 X(is)s
1177 X(usually)s
1403 X(an)s
1499 X(unreadable,)s
1842 X(unmain-)s
600 X
2961 Y(tainable)s
862 X(mess)s
996 X(.)s
1085 X(Portability)s
1418 X(without)s
1672 X(tears)s
1849 X(requires)s
600 X
3034 Y(better)s
775 X(advance)s
1016 X(planning)s
1249 X(.)s
600 X
3128 Y
744 X(When)s
940 X(we)s
1055 X(wrote)s
1244 X(C)s
1325 X(News)s
1488 X([Coll87a],)s
1797 X(we)s
1912 X(put)s
2034 X(a)s
600 X
3201 Y(high)s
743 X(priority)s
968 X(on)s
1059 X(portability,)s
1380 X(since)s
1543 X(we)s
1645 X(ran)s
1754 X(several)s
1968 X(dif-)s
600 X
3274 Y(ferent)s
807 X(systems)s
1070 X(ourselves,)s
1391 X(and)s
1539 X(expected)s
1829 X(that)s
1982 X(the)s
600 X
3347 Y(software)s
864 X(would)s
1064 X(eventually)s
1377 X(be)s
1474 X(used)s
1630 X(on)s
1729 X(many)s
1910 X(more)s
2047 X(.)s
600 X
3420 Y(Planning)s
861 X(for)s
962 X(future)s
1145 X(adaptations)s
1475 X(saved)s
1652 X(us)s
1736 X(\(and)s
1879 X(others\))s
600 X
3493 Y(from)s
762 X(trying)s
954 X(to)s
1039 X(force)s
1208 X(changes)s
1455 X(into)s
1591 X(an)s
1686 X(uncooperative)s
600 X
3566 Y(structure)s
871 X(when)s
1052 X(we)s
1167 X(later)s
1324 X(encountered)s
1687 X(new)s
1835 X(systems)s
2047 X(.)s
600 X
3639 Y(Porting)s
836 X(C)s
919 X(News)s
1110 X(generally)s
1398 X(involves)s
1663 X(writing)s
1895 X(a)s
1964 X(few)s
600 X
3712 Y(small)s
775 X(primitives)s
1047 X(.)s
1115 X(There)s
1301 X(have)s
1457 X(been)s
1613 X(surprises,)s
1897 X(but)s
2012 X(in)s
600 X
3785 Y(the)s
718 X(course)s
928 X(of)s
1019 X(maintaining)s
1375 X(and)s
1507 X(improving)s
1820 X(the)s
1938 X(code)s
600 X
3858 Y(and)s
740 X(its)s
848 X(portability,)s
1188 X(we)s
1311 X(insisted)s
1561 X(that)s
1707 X(the)s
1834 X(software)s
600 X
3931 Y(remain)s
833 X(readable)s
1107 X(and)s
1250 X(\256xable)s
1432 X(.)s
1518 X(And)s
1679 X(we)s
1803 X(were)s
1979 X(not)s
600 X
4004 Y(prepared)s
871 X(to)s
961 X(sacri\256ce)s
1223 X(performance,)s
1615 X(since)s
1791 X(one)s
1926 X(of)s
2020 X(C)s
600 X
4077 Y(News's)s
823 X(major)s
1002 X(virtues)s
1206 X(is)s
1273 X(that)s
1396 X(it)s
1456 X(is)s
1523 X(far)s
1619 X(faster)s
1790 X(than)s
1927 X(older)s
600 X
4150 Y(news)s
785 X(software)s
1015 X(.)s
1102 X(We)s
1243 X(evolved)s
1502 X(several)s
1741 X(tactics)s
1963 X(that)s
600 X
4223 Y(should)s
799 X(be)s
884 X(widely)s
1088 X(applicable)s
1364 X(.)s
600 X
4350 Y
937 X
f.B 10 Z(The)s
1070 X(Nature)s
1292 X(of)s
1369 X(the)s
1480 X(Problem)s
600 X
4459 Y
744 X
f.R 10 Z(Consider)s
1027 X(what)s
1200 X(happens)s
1461 X(when)s
1648 X
f.B 10 Z(#ifdef)s
1854 X
f.R 10 Z(is)s
1942 X(used)s
600 X
4532 Y(carelessly)s
865 X(.)s
939 X(The)s
1078 X
f.I 10 Z(\256rst)s
1217 X
f.B 10 Z(#ifdef)s
1415 X
f.R 10 Z(probably)s
1685 X(doesn't)s
1915 X(cause)s
600 X
4605 Y(much)s
788 X(trouble)s
977 X(.)s
1057 X(Unfortunately,)s
1489 X(they)s
1645 X(breed)s
1793 X(.)s
1873 X(Worse,)s
600 X
4678 Y(they)s
749 X(nest,)s
908 X(and)s
1038 X(tend)s
1186 X(to)s
1271 X(become)s
1512 X(more)s
1682 X(deeply)s
1893 X(nested)s
600 X
4751 Y(with)s
774 X(time)s
894 X(.)s
988 X
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
1232 X(pile)s
1389 X(on)s
1511 X(top)s
1652 X(of)s
1763 X
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
2008 X(as)s
2256 X
1736 Y(portability)s
2574 X(problems)s
2861 X(are)s
2982 X(repeatedly)s
3299 X(worked)s
3536 X(around)s
2256 X
1809 Y(rather)s
2436 X(than)s
2575 X(solved)s
2749 X(.)s
2812 X(The)s
2941 X(result)s
3115 X(is)s
3185 X(a)s
3240 X(tangled)s
3462 X(and)s
3583 X(often)s
2256 X
1882 Y(impenetrable)s
2652 X(web)s
2763 X(.)s
2847 X(Here's)s
3070 X(a)s
3145 X(noteworthy)s
3493 X(example)s
2256 X
1955 Y(from)s
2412 X(a)s
2469 X(popular)s
2699 X(newsreader)s
3003 X(.)s
1934 Y
f.I 8 Z(1)s
1955 Y
3074 X
f.R 10 Z(See)s
3198 X(Figure)s
3399 X(1)s
3432 X(.)s
3498 X(Observe)s
2256 X
2028 Y(that,)s
2414 X(not)s
2539 X(content)s
2776 X(with)s
2935 X(merely)s
3161 X(nesting)s
3393 X
f.B 10 Z(#ifdef)s
f.R 10 Z(s,)s
3638 X(the)s
2256 X
2101 Y(author)s
2448 X(has)s
2559 X
f.B 10 Z(#ifdef)s
2744 X
f.R 10 Z(and)s
2863 X(ordinary)s
3111 X
f.B 10 Z(if)s
3175 X
f.R 10 Z(statements)s
3482 X(\(plus)s
3638 X(the)s
2256 X
2174 Y(mysterious)s
2592 X
f.B 10 Z(IF)s
2701 X
f.R 10 Z(macros\))s
2958 X
f.I 10 Z(interweaving)s
3307 X
f.R 10 Z(.)s
3388 X(This)s
3549 X(makes)s
2256 X
2247 Y(the)s
2379 X(structure)s
2654 X(almost)s
2874 X(impossible)s
3206 X(to)s
3300 X(follow)s
3516 X(without)s
2256 X
2320 Y(going)s
2429 X(over)s
2569 X(it)s
2629 X(repeatedly,)s
2947 X(one)s
3065 X(case)s
3203 X(at)s
3274 X(a)s
3326 X(time)s
3446 X(.)s
2256 X
2414 Y
2400 X(Furthermore,)s
2782 X(given)s
2962 X(worst)s
3142 X(case)s
3290 X(elaboration)s
3624 X(and)s
2256 X
2487 Y(nesting)s
2483 X(\(each)s
2661 X
f.B 10 Z(#ifdef)s
2857 X
f.R 10 Z(always)s
3076 X(has)s
3198 X(a)s
3261 X(matching)s
3543 X
f.B 10 Z(#else)s
f.R 10 Z(\),)s
2256 X
2560 Y(the)s
2373 X(number)s
2611 X(of)s
2701 X(alternative)s
3020 X(code)s
3181 X(paths)s
3358 X(doubles)s
3601 X(with)s
2256 X
2633 Y(each)s
2414 X(extra)s
2583 X(level)s
2749 X(of)s
2839 X
f.B 10 Z(#ifdef)s
3002 X
f.R 10 Z(.)s
3075 X(By)s
3186 X(the)s
3302 X(time)s
3456 X(the)s
3572 X(depth)s
2256 X
2706 Y(reaches)s
2498 X(5)s
2572 X(\(not)s
2720 X(at)s
2810 X(all)s
2919 X(rare)s
3064 X(in)s
3158 X(the)s
3282 X(work)s
3460 X(of)s
3557 X
f.B 10 Z(#ifdef)s
2256 X
2779 Y
f.R 10 Z(enthusiasts\),)s
2623 X(there)s
2791 X(are)s
2907 X(potentially)s
3228 X(32)s
3328 X(alternate)s
3594 X(code)s
2256 X
2852 Y(paths)s
2430 X(to)s
2515 X(consider)s
2741 X(.)s
2813 X(How)s
2975 X(many)s
3156 X(of)s
3244 X(those)s
3419 X(paths)s
3594 X(have)s
2256 X
2925 Y(been)s
2411 X
f.I 10 Z(tested?)s
2652 X
f.R 10 Z(Probably)s
2920 X(two)s
3048 X(or)s
3131 X(three)s
3265 X(.)s
3332 X(How)s
3489 X(many)s
3665 X(of)s
2256 X
2998 Y(the)s
2368 X(possible)s
2617 X(combinations)s
3007 X(even)s
3164 X(make)s
3340 X(sense?)s
3568 X(Often)s
2256 X
3071 Y(not)s
2364 X(very)s
2505 X(many)s
2653 X(.)s
2715 X(Figure)s
2912 X(2)s
2968 X(is)s
3036 X(another)s
3258 X(wonderful)s
3553 X(exam-)s
2256 X
3144 Y(ple,)s
2392 X(the)s
2512 X(Leaning)s
2769 X(Tower)s
2981 X(Of)s
3089 X(Hostnames)s
3386 X(.)s
3463 X(It's)s
3590 X(most)s
2256 X
3217 Y(unlikely)s
2498 X(that)s
2622 X
f.I 10 Z(anyone)s
2837 X
f.R 10 Z(understands)s
3178 X(this)s
3298 X(code)s
3447 X(any)s
3566 X(more)s
3703 X(.)s
2256 X
3290 Y(In)s
2339 X(such)s
2489 X(situations,)s
2791 X(maintenance)s
3158 X(is)s
3231 X(reduced)s
3470 X(to)s
3550 X(hit)s
3621 X(-or)s
3698 X(-)s
2256 X
3363 Y(miss)s
2405 X(patching)s
2635 X(.)s
2700 X(If)s
2769 X(you)s
2893 X(\256nd)s
3021 X(and)s
3142 X(\256x)s
3237 X(a)s
3292 X(bug,)s
3433 X(how)s
3572 X(many)s
2256 X
3436 Y(other)s
2422 X(branches)s
2688 X(does)s
2839 X(it)s
2906 X(need)s
3061 X(to)s
3143 X(be)s
3236 X(\256xed)s
3399 X(on?)s
3547 X(If)s
3621 X(you)s
2256 X
3509 Y(discover)s
2517 X(a)s
2582 X(performance)s
2954 X(bottleneck)s
3268 X(and)s
3399 X(work)s
3570 X(out)s
3690 X(a)s
2256 X
3582 Y(way)s
2416 X(to)s
2517 X(\256x)s
2636 X(it,)s
2740 X(will)s
2894 X(you)s
3042 X(have)s
3218 X(to)s
3320 X(apply)s
3518 X(the)s
3650 X(\256x)s
2256 X
3655 Y(separately)s
2554 X(to)s
2632 X(each)s
2781 X(branch?)s
3040 X(Now)s
3195 X(envision)s
3447 X(what)s
3602 X(hap-)s
2256 X
3728 Y(pens)s
2425 X(when)s
2616 X(hurried)s
2855 X(or)s
2958 X(careless)s
3219 X(maintainers)s
3580 X
f.I 10 Z(don't)s
2256 X
3801 Y
f.R 10 Z(apply)s
2442 X(their)s
2603 X(\256xes)s
2767 X(in)s
2857 X(all)s
2962 X(the)s
3081 X(places)s
3286 X(where)s
3486 X(they)s
3638 X(are)s
2256 X
3874 Y(relevant)s
2472 X(.)s
2256 X
4001 Y
2676 X
f.B 10 Z(Philosophical)s
3081 X(Aspects)s
2256 X
4110 Y
2400 X
f.R 10 Z(The)s
2543 X(key)s
2678 X(step)s
2826 X(in)s
2918 X(avoiding)s
3191 X(such)s
3353 X(messes)s
3583 X(is)s
3668 X(to)s
2256 X
4183 Y(realize)s
2470 X(that)s
2605 X
f.I 10 Z(portability)s
2922 X(requires)s
3178 X(planning)s
3414 X
f.R 10 Z(.)s
3486 X(There)s
3675 X(is)s
2256 X
4256 Y(an)s
2342 X(abundance)s
2650 X(of)s
2728 X(bad)s
2848 X(examples)s
3125 X(to)s
3201 X(show)s
3365 X(that)s
3490 X(portabil-)s
2256 X
4329 Y(ity)s
2355 X(cannot)s
2561 X(be)s
2652 X(added)s
2839 X(onto)s
2985 X(or)s
3068 X(patched)s
3304 X(into)s
3435 X(unportable)s
2256 X
4402 Y(software)s
2486 X(.)s
2561 X(Many)s
2752 X(of)s
2844 X(the)s
2963 X(problems)s
3248 X(we)s
3363 X(discuss)s
3593 X(stem)s
2256 X
4475 Y(from)s
2411 X(the)s
2519 X(``never)s
2737 X(mind)s
2900 X(good,)s
3074 X(we)s
3177 X(want)s
3332 X(it)s
3395 X(next)s
3535 X(week'')s
2256 X
4593 Y
f.R 16 Z
720 0 l
2256 X
4639 Y
2300 X
f.I 8 Z(1)s
4660 Y
f.R 9 Z(To)s
2432 X(quote)s
2604 X(from)s
2759 X(the)s
2871 X(old)s
2981 X
f.R 7 Z(UNIX)s
3137 X
f.R 9 Z(kernel:)s
3363 X(``you)s
3531 X(are)s
3643 X(not)s
2256 X
4727 Y(expected)s
2491 X(to)s
2558 X(understand)s
2842 X(this'')s
2969 X(.)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(185)s
5280 Y
pagebot

%%Page: 186 2
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(approach)s
626 X(to)s
700 X(software)s
930 X(.)s
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
360 X
2309 Y
3120 0 l
360 X
2364 Y
408 X
f.CW 5 Z(void)s
360 X
2411 Y
408 X(cleanup_rc\(\))s
360 X
2458 Y
408 X({)s
360 X
2505 Y
488 X(register)s
668 X(NG_NUM)s
808 X(ngx;)s
360 X
2552 Y
488 X(register)s
668 X(NG_NUM)s
808 X(bogosity)s
988 X(=)s
1028 X(0;)s
360 X
2622 Y
408 X(#ifdef)s
548 X(VERBOSE)s
360 X
2669 Y
488 X(IF\(verbose\))s
360 X
2716 Y
568 X(fputs\("Checkin)s
848 X(g)s
888 X(out)s
968 X(your)s
1068 X(.newsrc)s
1208 X(-)s
1228 X(-hang)s
1348 X(on)s
1408 X(a)s
1448 X(second)s
1568 X(.)s
1588 X(.)s
1608 X(.\\n",stdout\))s
360 X
2763 Y
608 X(FLUSH;)s
360 X
2810 Y
488 X(ELSE)s
360 X
2857 Y
408 X(#endif)s
360 X
2904 Y
408 X(#ifdef)s
548 X(TERSE)s
360 X
2951 Y
568 X(fputs\("Checkin)s
848 X(g)s
888 X(.newsrc)s
1028 X(-)s
1048 X(-hang)s
1168 X(on)s
1208 X(.)s
1228 X(.)s
1248 X(.\\n",stdout\))s
1508 X(FLUSH;)s
360 X
2998 Y
408 X(#endif)s
360 X
3045 Y
488 X(for)s
568 X(\(ngx)s
668 X(=)s
708 X(0;)s
768 X(ngx)s
848 X(<)s
888 X(nextrcline;)s
1128 X(ngx++\))s
1268 X({)s
360 X
3092 Y
568 X(if)s
628 X(\(toread[ngx])s
888 X(>=)s
948 X(TR_UNSUB\))s
1148 X({)s
360 X
3139 Y
648 X(set_toread\(ngx)s
928 X(\);)s
1208 X(/*)s
1268 X(this)s
1368 X(may)s
1448 X(reset)s
1568 X(newsgroup)s
1768 X(*/)s
360 X
3186 Y
1208 X(/*)s
1268 X(or)s
1328 X(declare)s
1488 X(it)s
1548 X(bogus)s
1668 X(*/)s
360 X
3233 Y
568 X(})s
360 X
3280 Y
568 X(if)s
628 X(\(toread[ngx])s
888 X(==)s
948 X(TR_BOGUS\))s
360 X
3327 Y
648 X(bogosity++;)s
360 X
3374 Y
488 X(})s
360 X
3421 Y
488 X(for)s
568 X(\(ngx)s
668 X(=)s
708 X(nextrcline)s
908 X(-1;)s
988 X(ngx)s
1068 X(>=)s
1128 X(0)s
1168 X(&&)s
1228 X(toread[ngx])s
1468 X(==)s
1528 X(TR_BOGUS;)s
1728 X(ngx)s
1788 X(-)s
1808 X(-\))s
360 X
3468 Y
568 X(bogosity)s
728 X(-)s
748 X(-;)s
1208 X(/*)s
1268 X(discount)s
1448 X(already)s
1608 X(moved)s
1728 X(ones)s
1828 X(*/)s
360 X
3515 Y
488 X(if)s
548 X(\(nextrcline)s
788 X(>)s
828 X(5)s
868 X(&&)s
928 X(bogosity)s
1108 X(>)s
1148 X(nextrcline)s
1368 X(/)s
1408 X(2\))s
1468 X({)s
360 X
3562 Y
568 X(fputs\()s
360 X
3609 Y
408 X("It)s
488 X(looks)s
608 X(like)s
708 X(the)s
788 X(active)s
928 X(file)s
1028 X(is)s
1088 X(messed)s
1228 X(up)s
1268 X(.)s
1328 X(Contact)s
1488 X(your)s
1588 X(news)s
1688 X(administrator,\\)s
1988 X(n\\)s
360 X
3656 Y
408 X(",stdout\);)s
360 X
3703 Y
568 X(fputs\()s
360 X
3750 Y
408 X("leave)s
548 X(the)s
628 X(\\"bogus\\")s
828 X(groups)s
968 X(alone,)s
1108 X(and)s
1188 X(they)s
1288 X(may)s
1368 X(come)s
1468 X(back)s
1568 X(to)s
1628 X(normal)s
1748 X(.)s
1808 X(Maybe)s
1908 X(.\\n\\)s
360 X
3797 Y
408 X(",stdout\))s
608 X(FLUSH;)s
360 X
3844 Y
488 X(})s
360 X
3891 Y
408 X(#ifdef)s
548 X(RELOCATE)s
360 X
3938 Y
488 X(else)s
588 X(if)s
648 X(\(bogosity\))s
868 X({)s
360 X
3985 Y
408 X(#ifdef)s
548 X(VERBOSE)s
360 X
4032 Y
568 X(IF\(verbose\))s
360 X
4079 Y
648 X(fputs\("Moving)s
928 X(bogus)s
1048 X(newsgroups)s
1268 X(to)s
1328 X(the)s
1408 X(end)s
1488 X(of)s
1548 X(your)s
1648 X(.newsrc)s
1788 X(.\\n",)s
360 X
4126 Y
728 X(stdout\))s
888 X(FLUSH;)s
360 X
4173 Y
568 X(ELSE)s
360 X
4220 Y
408 X(#endif)s
360 X
4267 Y
408 X(#ifdef)s
548 X(TERSE)s
360 X
4314 Y
648 X(fputs\("Moving)s
928 X(boguses)s
1088 X(to)s
1148 X(the)s
1228 X(end)s
1288 X(.\\n",stdout\))s
1548 X(FLUSH;)s
360 X
4361 Y
408 X(#endif)s
360 X
4408 Y
568 X(for)s
648 X(\(;)s
708 X(ngx)s
788 X(>=)s
848 X(0;)s
908 X(ngx)s
968 X(-)s
988 X(-\))s
1048 X({)s
360 X
4455 Y
648 X(if)s
708 X(\(toread[ngx])s
968 X(==)s
1028 X(TR_BOGUS\))s
360 X
4502 Y
728 X(relocate_newsg)s
1008 X(roup\(ngx,nextrc)s
1308 X(line)s
1388 X(-1\);)s
360 X
4549 Y
568 X(})s
1944 X
2364 Y
1992 X(#ifdef)s
2132 X(DELBOGUS)s
1944 X
2411 Y
1992 X(reask_bogus:)s
1944 X
2458 Y
2152 X(in_char\("Delet)s
2432 X(e)s
2472 X(bogus)s
2592 X(newsgroups?)s
2832 X([ny])s
2932 X(",)s
2992 X('D'\);)s
1944 X
2505 Y
2152 X(setdef\(buf,"n")s
2432 X(\);)s
1944 X
2552 Y
1992 X(#ifdef)s
2132 X(VERIFY)s
1944 X
2599 Y
2152 X(printcmd\(\);)s
1944 X
2646 Y
1992 X(#endif)s
1944 X
2693 Y
2152 X(putchar\('\\n'\))s
2432 X(FLUSH;)s
1944 X
2740 Y
2152 X(if)s
2212 X(\(*buf)s
2332 X(==)s
2392 X('h'\))s
2492 X({)s
1944 X
2787 Y
1992 X(#ifdef)s
2132 X(VERBOSE)s
1944 X
2834 Y
2232 X(IF\(verbose\))s
1944 X
2881 Y
2312 X(fputs\("\\)s
1944 X
2928 Y
1992 X(Type)s
2092 X(y)s
2132 X(to)s
2192 X(delete)s
2332 X(bogus)s
2452 X(newsgroups)s
2652 X(.\\n\\)s
1944 X
2975 Y
1992 X(Type)s
2092 X(n)s
2132 X(or)s
2192 X(SP)s
2252 X(to)s
2312 X(leave)s
2432 X(them)s
2532 X(at)s
2592 X(the)s
2672 X(end)s
2752 X(in)s
2812 X(case)s
2912 X(they)s
3012 X(return)s
3132 X(.\\n\\)s
1944 X
3022 Y
1992 X(",stdout\))s
2192 X(FLUSH;)s
1944 X
3069 Y
2232 X(ELSE)s
1944 X
3116 Y
1992 X(#endif)s
1944 X
3163 Y
1992 X(#ifdef)s
2132 X(TERSE)s
1944 X
3210 Y
2312 X(fputs\("y)s
2492 X(to)s
2552 X(delete,)s
2712 X(n)s
2752 X(to)s
2812 X(keep\\n",stdout\))s
3132 X(FLUSH;)s
1944 X
3257 Y
1992 X(#endif)s
1944 X
3304 Y
2232 X(goto)s
2332 X(reask_bogus;)s
1944 X
3351 Y
2152 X(})s
1944 X
3398 Y
2152 X(else)s
2252 X(if)s
2312 X(\(*buf)s
2432 X(==)s
2492 X('n')s
2572 X(||)s
2632 X(*buf)s
2732 X(==)s
2792 X('q'\))s
1944 X
3445 Y
2232 X(;)s
1944 X
3492 Y
2152 X(else)s
2252 X(if)s
2312 X(\(*buf)s
2432 X(==)s
2492 X('y'\))s
2592 X({)s
1944 X
3539 Y
2232 X(while)s
2352 X(\(toread[nextrcl)s
2652 X(ine)s
2712 X(-1])s
2792 X(==)s
2852 X(TR_BOGUS)s
3032 X(&&)s
3092 X(nextrcline)s
3312 X(>)s
3352 X(0\))s
1944 X
3586 Y
2312 X
2312 X(-)s
2332 X(-nextrcline;)s
2792 X(/*)s
2852 X(real)s
2952 X(tough,)s
3092 X(huh?)s
3192 X(*/)s
1944 X
3633 Y
2152 X(})s
1944 X
3680 Y
2152 X(else)s
2252 X({)s
1944 X
3727 Y
2232 X(fputs\(hforhelp)s
2512 X(,stdout\))s
2692 X(FLUSH;)s
1944 X
3774 Y
2232 X(settle_down\(\);)s
1944 X
3821 Y
2232 X(goto)s
2332 X(reask_bogus;)s
1944 X
3868 Y
2152 X(})s
1944 X
3915 Y
1992 X(#endif)s
1944 X
3962 Y
2072 X(})s
1944 X
4009 Y
1992 X(#else)s
1944 X
4056 Y
1992 X(#ifdef)s
2132 X(VERBOSE)s
1944 X
4103 Y
2072 X(IF\(verbose\))s
1944 X
4150 Y
2152 X(fputs\("You)s
2372 X(should)s
2512 X(edit)s
2612 X(bogus)s
2732 X(newsgroups)s
2952 X(out)s
3032 X(of)s
3092 X(your)s
3192 X(.newsrc)s
3332 X(.\\n",)s
1944 X
4197 Y
2232 X(stdout\))s
2392 X(FLUSH;)s
1944 X
4244 Y
2072 X(ELSE)s
1944 X
4291 Y
1992 X(#endif)s
1944 X
4338 Y
1992 X(#ifdef)s
2132 X(TERSE)s
1944 X
4385 Y
2152 X(fputs\("Edit)s
2392 X(boguses)s
2552 X(from)s
2652 X(.newsrc)s
2792 X(.\\n",stdout\))s
3052 X(FLUSH;)s
1944 X
4432 Y
1992 X(#endif)s
1944 X
4479 Y
1992 X(#endif)s
1944 X
4526 Y
2072 X(paranoid)s
2252 X(=)s
2292 X(FALSE;)s
1944 X
4573 Y
1992 X(})s
360 X
4685 Y
1365 X
f.B 10 Z(Figure)s
1577 X(1)s
f.R 10 Z(:)s
1673 X(Example)s
1933 X(of)s
2010 X(overuse)s
2239 X(of)s
2316 X(#ifdef)s
360 X
542 Y
504 X(Even)s
683 X(the)s
807 X(best)s
957 X(planning)s
1232 X(cannot)s
1452 X(anticipate)s
1756 X(all)s
360 X
615 Y(problems,)s
655 X(but)s
770 X(it)s
838 X(is)s
912 X(important)s
1201 X(to)s
1282 X(retain)s
1464 X(the)s
1575 X(emphasis)s
360 X
688 Y(on)s
456 X(planning)s
719 X(even)s
875 X(into)s
1009 X(ongoing)s
1256 X(maintenance)s
1595 X(.)s
1665 X(When)s
360 X
761 Y(a)s
414 X(new)s
549 X(portability)s
852 X(problem)s
1098 X(surfaces,)s
1358 X(it)s
1420 X(is)s
1489 X(important)s
1772 X(to)s
360 X
834 Y(step)s
496 X(back)s
650 X(and)s
774 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(think)s
936 X
f.R 10 Z(about)s
1112 X(the)s
1222 X(problem)s
1473 X(and)s
1598 X(its)s
1691 X(solu-)s
360 X
907 Y(tion)s
464 X(.)s
528 X(Is)s
601 X(this)s
723 X(a)s
778 X(unique)s
984 X(problem,)s
1248 X(or)s
1328 X(the)s
1435 X(harbinger)s
1715 X(of)s
1794 X(a)s
360 X
980 Y(whole)s
558 X(new)s
704 X(class)s
871 X(of)s
962 X(them?)s
1184 X(Usually)s
1428 X(it's)s
1550 X(the)s
1668 X(latter,)s
360 X
1053 Y(which)s
546 X(makes)s
740 X(planning)s
996 X(all)s
1086 X(the)s
1190 X(more)s
1349 X(crucial:)s
1595 X(how)s
1731 X(can)s
360 X
1126 Y(the)s
486 X(solution)s
745 X(deal)s
901 X(with)s
1064 X(all)s
1176 X(of)s
1275 X(them,)s
1470 X(not)s
1600 X(just)s
1742 X(the)s
360 X
1199 Y(current)s
588 X(one?)s
775 X(Failure)s
1004 X(to)s
1095 X(think)s
1271 X(leads)s
1447 X(to)s
1537 X(the)s
1657 X(patch)s
1802 X(-)s
360 X
1272 Y(upon)s
492 X(-patch)s
682 X(approach)s
949 X(to)s
1024 X(portability,)s
1343 X(rapidly)s
1555 X(producing)s
360 X
1345 Y(unreadable)s
675 X(and)s
793 X(unmaintainable)s
1228 X(code)s
1354 X(.)s
360 X
1439 Y
504 X(Once)s
677 X(the)s
791 X(problem)s
1045 X(\(class\))s
1252 X(and)s
1380 X(the)s
1494 X(solution)s
1742 X(are)s
360 X
1512 Y(understood,)s
710 X(then)s
863 X(and)s
997 X(only)s
1153 X(then)s
1305 X(it)s
1380 X(is)s
1462 X(time)s
1619 X(to)s
1708 X(start)s
360 X
1585 Y(work)s
538 X(on)s
646 X(the)s
770 X(code)s
896 X(.)s
977 X(Typically)s
1276 X(this)s
1415 X(will)s
1562 X(mean)s
1750 X(re)s
1802 X(-)s
360 X
1658 Y(implementing)s
758 X(parts)s
913 X(of)s
993 X(it,)s
1073 X(not)s
1183 X(just)s
1305 X(hacking)s
1541 X(up)s
1632 X(the)s
1739 X(old)s
360 X
1731 Y(code)s
531 X(to)s
628 X(work)s
809 X(somehow)s
1064 X(.)s
1148 X(This)s
1312 X(highlights)s
1624 X(another)s
360 X
1804 Y(issue:)s
566 X(to)s
649 X(revise)s
839 X(the)s
951 X(code,)s
1124 X(you)s
1253 X(must)s
1413 X(understand)s
1735 X(it)s
1773 X(.)s
1790 X(.)s
1807 X(.)s
360 X
1877 Y(and)s
501 X(that)s
647 X(means)s
863 X(not)s
994 X(making)s
1240 X(an)s
1349 X(incomprehensibl)s
1794 X(e)s
360 X
1950 Y(mess)s
532 X(this)s
667 X(time)s
824 X(to)s
913 X(interfere)s
1177 X(with)s
1333 X(maintenance)s
1709 X(next)s
360 X
2023 Y(time)s
480 X(.)s
360 X
2117 Y
504 X(All)s
629 X(of)s
723 X(this)s
859 X(is)s
944 X(typically)s
1219 X(more)s
1396 X(work)s
1572 X(than)s
1727 X(just)s
360 X
2190 Y(hacking)s
600 X(in)s
680 X(a)s
738 X(quick)s
914 X(\256x)s
984 X(.)s
1051 X(Sometimes)s
1377 X(a)s
1435 X(quick)s
1611 X(\256x)s
1709 X(may)s
360 X
2263 Y(be)s
463 X(necessary,)s
781 X(or)s
877 X(later)s
1038 X(thought)s
1282 X(may)s
1438 X(show)s
1619 X(that)s
1761 X(an)s
2016 X
448 Y(earlier)s
2218 X(``solution'')s
2551 X(was)s
2685 X(really)s
2868 X(a)s
2927 X(quick)s
3104 X(\256x)s
3203 X(and)s
3328 X(needs)s
2016 X
521 Y(generalizing)s
2347 X(.)s
2423 X(In)s
2515 X(such)s
2674 X(cases,)s
2870 X(it)s
2945 X(is)s
3027 X(important)s
3324 X(to)s
3414 X
f.I 10 Z(go)s
2016 X
594 Y(back)s
2168 X(and)s
2293 X(\256x)s
2382 X(the)s
2490 X(kludges)s
2694 X
f.R 10 Z(.)s
2758 X(The)s
2887 X(time)s
3032 X(is)s
3102 X(not)s
3212 X(wasted;)s
3442 X(it)s
2016 X
667 Y(is)s
2083 X(an)s
2168 X(investment)s
2484 X(in)s
2558 X(the)s
2662 X(future)s
2821 X(.)s
2016 X
761 Y
2160 X(More)s
2344 X(generally,)s
2650 X(portability)s
2969 X(requires)s
3224 X(time)s
3384 X(and)s
2016 X
834 Y(thought)s
2219 X(.)s
2282 X(Nobody)s
2519 X(gets)s
2651 X(everything)s
2960 X(right)s
3109 X(the)s
3214 X(\256rst)s
3341 X(time;)s
2016 X
907 Y(getting)s
2225 X(the)s
2331 X(code)s
2481 X(right)s
2631 X(means)s
2826 X(taking)s
3017 X(the)s
3123 X(time)s
3267 X(to)s
3343 X(think)s
2016 X
980 Y(about)s
2200 X(what)s
2366 X(went)s
2532 X(wrong,)s
2753 X(decide)s
2963 X(what)s
3128 X(the)s
3245 X(mistakes)s
2016 X
1053 Y(were,)s
2185 X(and)s
2303 X(go)s
2391 X(back)s
2539 X(and)s
2657 X(\256x)s
2749 X(them)s
2883 X(.)s
2016 X
1147 Y
2160 X(The)s
2291 X(alert)s
2438 X(reader)s
2632 X(may)s
2774 X(notice)s
2966 X(that)s
3095 X(almost)s
3302 X(all)s
3398 X(the)s
2016 X
1220 Y(remarks)s
2274 X(in)s
2369 X(this)s
2509 X(section)s
2742 X(could)s
2933 X(also)s
3084 X(be)s
3189 X(applied)s
3428 X(to)s
2016 X
1293 Y(achieving)s
2320 X(high)s
2482 X(performance,)s
2880 X(high)s
3043 X(reliability,)s
3367 X(etc)s
3446 X(.,)s
2016 X
1366 Y(and)s
2142 X(that)s
2273 X(no)s
2369 X(speci\256c)s
2604 X(boundary)s
2883 X(between)s
3135 X(development)s
2016 X
1439 Y(and)s
2140 X(maintenance)s
2508 X(was)s
2641 X(mentioned)s
2923 X(.)s
2991 X(We've)s
3198 X(really)s
3380 X(dis-)s
2016 X
1512 Y(cussed)s
2220 X(how)s
2360 X(to)s
2437 X(achieve)s
2667 X(high)s
2785 X(-quality)s
3018 X(software)s
3248 X(.)s
3312 X(In)s
3392 X(our)s
2016 X
1585 Y(experience,)s
2357 X(this)s
2488 X(approach)s
2766 X(works;)s
2982 X(we)s
3095 X(can't)s
3264 X(imagine)s
2016 X
1658 Y(any)s
2134 X(other)s
2293 X(that)s
2416 X(would)s
2582 X(.)s
2016 X
1785 Y
2471 X
f.B 10 Z(Portable)s
2738 X(Interfaces)s
2016 X
1894 Y
2160 X
f.R 10 Z(Systems)s
2428 X(do,)s
2556 X(unfortunately,)s
2977 X(differ)s
3125 X(.)s
3209 X(It's)s
3343 X(often)s
2016 X
1967 Y(possible)s
2297 X(to)s
2411 X(avoid)s
2621 X(system)s
2807 X(-dependent)s
3165 X(areas)s
3364 X(well)s
2016 X
2040 Y(enough)s
2240 X(that)s
2370 X(the)s
2481 X(same)s
2648 X(code)s
2803 X(will)s
2937 X(run)s
3055 X(on)s
3151 X(all)s
3249 X(systems;)s
2016 X
2113 Y(we'll)s
2199 X(discuss)s
2437 X(that)s
2582 X(later)s
2702 X(.)s
2785 X(But)s
2925 X(sometimes)s
3256 X(multiple)s
2016 X
2186 Y(variants)s
2250 X(are)s
2354 X(inevitable)s
2619 X(.)s
2680 X(Even)s
2839 X(within)s
3032 X(the)s
3133 X
f.R 8 Z(UNIX)s
3288 X
f.R 10 Z(family,)s
2016 X
2259 Y(there)s
2201 X(are)s
2334 X(signi\256cant)s
2664 X(variations)s
2978 X(between)s
3251 X(systems)s
3463 X(.)s
360 X
4967 Y
f.B 10 Z(186)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 187 3
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y(#ifdef)s
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(,)s
812 X(or)s
899 X(something)s
1209 X(similar,)s
1445 X(ultimately)s
1750 X(is)s
1828 X(unavoid-)s
600 X
521 Y(able)s
712 X(.)s
795 X(It)s
880 X(can)s
1017 X(be)s
1123 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(managed)s
f.R 10 Z(,)s
1426 X(however,)s
1715 X(to)s
1810 X(minimize)s
600 X
594 Y(problems)s
848 X(.)s
600 X
688 Y
744 X(Among)s
979 X(the)s
1097 X(basic)s
1272 X(principles)s
1573 X(of)s
1665 X(good)s
1834 X(software)s
600 X
761 Y(engineering)s
940 X(are)s
1047 X(clean)s
1213 X(interfaces)s
1498 X(and)s
1618 X(information)s
1957 X(hid-)s
600 X
834 Y(ing:)s
752 X(when)s
922 X(faced)s
1094 X(with)s
1240 X(a)s
1297 X(decision)s
1547 X(that)s
1675 X(might)s
1858 X(change,)s
600 X
907 Y(hide)s
746 X(it)s
815 X(in)s
898 X(one)s
1025 X(module,)s
1273 X(with)s
1423 X(a)s
1484 X(simple)s
1694 X(outside)s
1887 X(-world)s
600 X
980 Y(interface)s
870 X(de\256ned)s
1101 X(independently)s
1514 X(of)s
1604 X(exactly)s
1833 X(how)s
1982 X(the)s
600 X
1053 Y(decision)s
848 X(is)s
918 X(made)s
1088 X(inside)s
1248 X(.)s
1312 X(One)s
1448 X(would)s
1639 X(think)s
1801 X(that)s
1926 X(well)s
2042 X(-)s
600 X
1126 Y(educated)s
863 X(modern)s
1091 X(programmers)s
1471 X(would)s
1662 X(not)s
1772 X(need)s
1923 X(to)s
2001 X(be)s
600 X
1199 Y(taught)s
799 X(the)s
913 X(virtues)s
1127 X(of)s
1214 X(this)s
1343 X(technique)s
1603 X(.)s
1673 X(Unfortunately,)s
600 X
1272 Y
f.B 10 Z(#ifdef)s
804 X
f.R 10 Z(doesn't)s
1041 X(hide)s
1197 X(anything,)s
1488 X(and)s
1625 X(the)s
1749 X(interface)s
2026 X(it)s
600 X
1345 Y(creates)s
810 X(is)s
878 X(arbitrarily)s
1169 X(complex)s
1422 X(and)s
1541 X(almost)s
1743 X(never)s
1913 X(docu-)s
600 X
1418 Y(mented)s
797 X(.)s
600 X
2645 Y
3120 0 l
600 X
2733 Y
648 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(/*)s
768 X(name)s
968 X(of)s
1088 X(this)s
1288 X(site)s
1488 X(*/)s
600 X
2813 Y
648 X(#ifdef)s
928 X(GETHOSTNAME)s
600 X
2893 Y
888 X(char)s
1088 X(*hostname;)s
600 X
2973 Y
648 X(#)s
888 X(undef)s
1128 X(SITENAME)s
600 X
3053 Y
648 X(#)s
888 X(define)s
1168 X(SITENAME)s
1528 X(hostname)s
600 X
3133 Y
648 X(#else)s
888 X(/*)s
1008 X(!GETHOSTNAME)s
1528 X(*/)s
600 X
3213 Y
648 X(#)s
888 X(ifdef)s
1128 X(DOUNAME)s
600 X
3293 Y
648 X(#)s
1128 X(include)s
1448 X(<sys/utsname)s
1928 X(.h>)s
600 X
3373 Y
1128 X(struct)s
1408 X(utsname)s
1728 X(utsn;)s
600 X
3453 Y
648 X(#)s
1128 X(undef)s
1368 X(SITENAME)s
600 X
3533 Y
648 X(#)s
1128 X(define)s
1408 X(SITENAME)s
1768 X(utsn)s
1928 X(.nodename)s
600 X
3613 Y
648 X(#)s
888 X(else)s
1088 X(/*)s
1208 X(!DOUNAME)s
1568 X(*/)s
600 X
3693 Y
648 X(#)s
1128 X(ifdef)s
1368 X(PHOSTNAME)s
600 X
3773 Y
1368 X(char)s
1568 X(*hostname;)s
600 X
3853 Y
648 X(#)s
1368 X(undef)s
1608 X(SITENAME)s
600 X
3933 Y
648 X(#)s
1368 X(define)s
1648 X(SITENAME)s
2008 X(hostname)s
600 X
4013 Y
648 X(#)s
1128 X(else)s
1328 X(/*)s
1448 X(!PHOSTNAME)s
1888 X(*/)s
600 X
4093 Y
648 X(#)s
1368 X(ifdef)s
1608 X(WHOAMI)s
600 X
4173 Y
648 X(#)s
1608 X(undef)s
1848 X(SITENAME)s
600 X
4253 Y
648 X(#)s
1608 X(define)s
1888 X(SITENAME)s
2248 X(sysname)s
600 X
4333 Y
648 X(#)s
1368 X(endif)s
1608 X(/*)s
1728 X(WHOAMI)s
2008 X(*/)s
600 X
4413 Y
648 X(#)s
1128 X(endif)s
1368 X(/*)s
1488 X(PHOSTNAME)s
1888 X(*/)s
600 X
4493 Y
648 X(#)s
888 X(endif)s
1128 X(/*)s
1248 X(DOUNAME)s
1568 X(*/)s
600 X
4573 Y
648 X(#endif)s
928 X(/*)s
1048 X(GETHOSTNAME)s
1528 X(*/)s
600 X
4685 Y
1537 X
f.B 10 Z(Figure)s
1749 X(2)s
f.R 10 Z(:)s
1845 X(The)s
1971 X(Leaning)s
2212 X(Tower)s
2408 X(of)s
2485 X(Hostnames)s
600 X
1512 Y
744 X(The)s
883 X(best)s
1026 X(method)s
1261 X(of)s
1352 X(managing)s
1651 X(system)s
1837 X(-speci\256c)s
600 X
1585 Y(variants)s
853 X(is)s
938 X(to)s
1030 X(follow)s
1244 X(those)s
1425 X(same)s
1603 X(basic)s
1781 X(principles:)s
600 X
1658 Y(de\256ne)s
792 X(a)s
852 X(portable)s
1101 X(interface)s
1366 X(to)s
1448 X(suitably)s
1660 X(-chosen)s
1897 X(primi-)s
600 X
1731 Y(tives,)s
779 X(and)s
910 X(then)s
1060 X(implement)s
1382 X(different)s
1647 X(variants)s
1893 X(of)s
1982 X(the)s
600 X
1804 Y(primitives)s
911 X(for)s
1027 X(different)s
1296 X(systems)s
1508 X(.)s
1586 X(The)s
1730 X(well)s
1846 X(-de\256ned)s
600 X
1877 Y(interface)s
880 X(is)s
970 X(the)s
1097 X(important)s
1402 X(part:)s
1592 X(the)s
1719 X(bulk)s
1882 X(of)s
1982 X(the)s
600 X
1950 Y(software,)s
879 X(including)s
1163 X(most)s
1325 X(of)s
1412 X(the)s
1526 X(complexity,)s
1876 X(can)s
2001 X(be)s
600 X
2023 Y(written)s
820 X(as)s
906 X(a)s
966 X
f.I 10 Z(single)s
1156 X
f.R 10 Z(version)s
1382 X(using)s
1556 X(that)s
1687 X(interface,)s
1968 X(and)s
600 X
2096 Y(can)s
721 X(be)s
812 X(read)s
955 X(and)s
1079 X(understood)s
1403 X(in)s
1484 X(portable)s
1732 X(terms)s
1881 X(.)s
1949 X(It)s
2019 X(is)s
600 X
2169 Y(common)s
865 X(wisdom)s
2148 Y
f.I 8 Z(2)s
2169 Y
1136 X
f.R 10 Z(that)s
1270 X(localizing)s
1568 X(system)s
1787 X(dependen-)s
600 X
2242 Y(cies)s
742 X(in)s
831 X(this)s
964 X(way)s
1111 X(eases)s
1289 X(porting)s
1517 X(in)s
1605 X(cases)s
1783 X(where)s
1982 X(the)s
600 X
2315 Y(code)s
751 X(must)s
906 X(actually)s
1144 X(be)s
1232 X(rewritten)s
1474 X(.)s
1538 X(Our)s
1666 X(point)s
1828 X(is)s
1899 X(that)s
2026 X(it)s
600 X
2437 Y
f.R 16 Z
720 0 l
600 X
2483 Y
644 X
f.I 8 Z(2)s
2504 Y
f.R 9 Z(Common)s
921 X(wisdom,)s
1153 X(n:)s
1247 X(something)s
1525 X(that)s
1643 X(is)s
1710 X(widely)s
1901 X(known)s
600 X
2571 Y(but)s
697 X(usually)s
891 X(ignored)s
1075 X(.)s
1130 X(\()s
f.R 7 Z(UNIX)s
1288 X
f.R 9 Z(programmer's)s
1649 X(de\256nition)s
1880 X(.\))s
2256 X
448 Y
f.R 10 Z(makes)s
2454 X(the)s
2563 X(code)s
2716 X(simpler,)s
2962 X(cleaner,)s
3201 X(and)s
3325 X(more)s
3490 X(manage-)s
2256 X
521 Y(able)s
2390 X(even)s
2538 X(when)s
2704 X(no)s
2792 X(rewrite)s
3004 X(is)s
3071 X(expected)s
3309 X(.)s
2256 X
615 Y
2400 X(As)s
2498 X(a)s
2553 X(small)s
2724 X(case)s
2865 X(in)s
2942 X(point,)s
3121 X(when)s
3290 X(part)s
3419 X(of)s
3499 X(C)s
3568 X(News)s
2256 X
688 Y(wishes)s
2477 X(to)s
2568 X(arrange)s
2807 X(that)s
2947 X(a)s
3015 X(\256le)s
3139 X(descriptor)s
3444 X(associated)s
2256 X
761 Y(with)s
2401 X(a)s
2457 X
f.I 10 Z(stdio)s
2613 X
f.R 10 Z(stream)s
2818 X(be)s
2908 X(closed)s
3106 X(at)s
3182 X
f.I 10 Z(exec)s
3329 X
f.R 10 Z(time,)s
3493 X(to)s
3572 X(avoid)s
2256 X
834 Y(passing)s
2478 X(it)s
2538 X(to)s
2612 X(unprepared)s
2933 X(children,)s
3191 X(this)s
3310 X(is)s
3377 X(done)s
3528 X(by)s
2256 X
936 Y
2304 X
f.CW 10 Z(fclsexec\(fp\);)s
2256 X
1038 Y
f.R 10 Z(\(where)s
2472 X
f.I 10 Z(fp)s
2555 X
f.R 10 Z(is)s
2632 X(the)s
2746 X
f.I 10 Z(stdio)s
2908 X
f.R 10 Z(structure)s
3174 X(pointer\))s
3417 X(rather)s
3605 X(than)s
2256 X
1111 Y(by)s
2356 X(some)s
2531 X(complex)s
2795 X(invocation)s
3111 X(of)s
3200 X
f.I 10 Z(ioctl)s
3354 X
f.R 10 Z(or)s
3442 X(something)s
2256 X
1184 Y(similar)s
2443 X(.)s
2513 X(Only)s
2677 X(the)s
2790 X
f.I 10 Z(implementation)s
3237 X
f.R 10 Z(of)s
3323 X
f.I 10 Z(fclsexec)s
3568 X
f.R 10 Z(needs)s
2256 X
1257 Y(to)s
2348 X(be)s
2450 X(cluttered)s
2724 X(with)s
2882 X(the)s
3003 X(details)s
3179 X(.)s
3257 X(\(As)s
3392 X(others)s
3594 X(have)s
2256 X
1330 Y(noted)s
2436 X(in)s
2520 X(the)s
2634 X(past)s
2753 X([ODel87a,)s
3065 X(Spen88a])s
3348 X(in)s
3432 X(other)s
3602 X(con-)s
2256 X
1403 Y(texts,)s
2441 X(one)s
2578 X(paradoxical)s
2931 X
f.I 10 Z(problem)s
3194 X
f.R 10 Z(of)s
3286 X
f.R 8 Z(UNIX)s
f.R 10 Z('s)s
3506 X(not)s
3591 X(-too)s
3698 X(-)s
2256 X
1476 Y(complex)s
2528 X(system)s
2756 X(interfaces)s
3060 X(is)s
3148 X(that)s
3292 X(that)s
3436 X(they)s
3594 X(have)s
2256 X
1549 Y(discouraged)s
2643 X(the)s
2789 X(development)s
3198 X(of)s
3317 X(libraries)s
3601 X(with)s
2256 X
1622 Y(cleaner,)s
2489 X(higher)s
2659 X(-level)s
2834 X(interfaces)s
3095 X(.\))s
2256 X
1716 Y
2400 X(This)s
2546 X(con\256nes)s
2795 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
3002 X(but)s
3114 X(at)s
3190 X(\256rst)s
3321 X(glance)s
3524 X(doesn't)s
2256 X
1789 Y(seem)s
2436 X(to)s
2530 X(eliminate)s
2823 X(it)s
2861 X(.)s
2942 X(Sometimes)s
3281 X(several)s
3512 X(system)s
3698 X(-)s
2256 X
1862 Y(speci\256c)s
2492 X(primitives)s
2795 X(will)s
2931 X(be)s
3026 X(compiled)s
3307 X(from)s
3468 X(the)s
3582 X(same)s
2256 X
1935 Y(source,)s
2479 X(with)s
2630 X(portions)s
2880 X(selected)s
3128 X(by)s
3225 X
f.B 10 Z(#ifdef)s
3388 X
f.R 10 Z(.)s
3458 X(Note)s
3619 X(that)s
2256 X
2008 Y(even)s
2422 X(limiting)s
2675 X(the)s
2797 X(damage)s
3046 X(can)s
3180 X(be)s
3284 X(very)s
3443 X(important)s
3703 X(.)s
2256 X
2081 Y(However,)s
2552 X(in)s
2639 X(our)s
2762 X(experience,)s
3104 X(it's)s
3225 X(much)s
3408 X(more)s
3579 X(usual)s
2256 X
2154 Y(for)s
2364 X(the)s
2477 X(different)s
2738 X(variants)s
2981 X(to)s
3065 X(be)s
3160 X(completely)s
3490 X(different)s
2256 X
2227 Y(code,)s
2461 X(compiled)s
2772 X(from)s
2963 X(different)s
3254 X(source)s
3489 X(\256les\320in)s
2256 X
2300 Y(essence,)s
2505 X(the)s
2614 X(parts)s
2771 X
f.I 10 Z(outside)s
2992 X
f.R 10 Z(the)s
3102 X
f.B 10 Z(#ifdef)s
3293 X
f.R 10 Z(disappear)s
3549 X(.)s
3616 X(The)s
2256 X
2373 Y(individual)s
2583 X(source)s
2813 X(\256les)s
2981 X(are)s
3119 X(generally)s
3423 X(small)s
3624 X(and)s
2256 X
2446 Y(comprehensible)s
2679 X(,)s
2719 X(since)s
2880 X(they)s
3018 X(implement)s
3328 X
f.I 10 Z(only)s
3466 X
f.R 10 Z(the)s
3572 X(prim-)s
2256 X
2519 Y(itives)s
2437 X(and)s
2568 X(are)s
2684 X(uncluttered)s
3019 X(with)s
3172 X(the)s
3288 X(complexities)s
3665 X(of)s
2256 X
2592 Y(the)s
2360 X(main)s
2494 X(-line)s
2639 X(logic)s
2773 X(.)s
2834 X(Out)s
2957 X(of)s
3035 X(50)s
3124 X(such)s
3269 X(source)s
3466 X(\256les)s
3601 X(in)s
3676 X(C)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(187)s
5280 Y
pagebot

%%Page: 188 4
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(News,)s
553 X(half)s
681 X(are)s
787 X(less)s
912 X(than)s
1051 X(25)s
1141 X(lines,)s
1309 X(most)s
1462 X(are)s
1567 X(under)s
1741 X(50,)s
360 X
521 Y(and)s
478 X(only)s
618 X(a)s
670 X(few)s
793 X(are)s
898 X(over)s
1039 X(100)s
1138 X(.)s
1200 X(As)s
1297 X(an)s
1383 X(example,)s
1650 X(Figure)s
360 X
594 Y(3)s
420 X(and)s
543 X(Figure)s
744 X(4)s
804 X(are)s
913 X(two)s
1039 X(implementations)s
1512 X(of)s
1593 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(fclsexec)s
1807 X
f.R 10 Z(.)s
360 X
667 Y(There)s
548 X(is)s
625 X(hardly)s
827 X(anything)s
1092 X(to)s
1176 X(be)s
1271 X(gained)s
1481 X(by)s
1580 X(trying)s
1772 X(to)s
360 X
740 Y(combine)s
627 X(these)s
802 X(two)s
938 X(\256les)s
1086 X(into)s
1226 X(one)s
1358 X(\256le)s
1480 X(with)s
1635 X
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
360 X
813 Y(every)s
530 X(second)s
737 X(line)s
838 X(.)s
360 X
1541 Y
3120 0 l
360 X
1629 Y
408 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(/*)s
360 X
1709 Y
448 X(*)s
528 X(set)s
688 X(close)s
928 X(on)s
1048 X(exec)s
1248 X(\(on)s
1408 X(UNIX\))s
360 X
1789 Y
448 X(*/)s
360 X
1909 Y
408 X(#include)s
768 X(<stdio)s
1008 X(.h>)s
360 X
1989 Y
408 X(#include)s
768 X(<sgtty)s
1008 X(.h>)s
360 X
2109 Y
408 X(void)s
360 X
2189 Y
408 X(fclsexec\(fp\))s
360 X
2269 Y
408 X(FILE)s
608 X(*fp;)s
360 X
2349 Y
408 X({)s
360 X
2429 Y
568 X(\(void\))s
848 X(ioctl\(fileno\(fp)s
1448 X(\),)s
1568 X(FIOCLEX,)s
1928 X(\(struct)s
2248 X(sgttyb)s
2528 X(*\)NULL\);)s
360 X
2509 Y
408 X(})s
360 X
2621 Y
1332 X
f.B 10 Z(Figure)s
1544 X(3)s
f.R 10 Z(:)s
1640 X(One)s
1773 X(implementation)s
2216 X(of)s
2293 X
f.I 10 Z(fclsexec)s
360 X
2669 Y
f.R 10 Z
3120 0 l
360 X
2781 Y
408 X
f.CW 10 Z(/*)s
360 X
2861 Y
448 X(*)s
528 X(set)s
688 X(close)s
928 X(on)s
1048 X(exec)s
1248 X(\(on)s
1408 X(System)s
1688 X(V\))s
360 X
2941 Y
448 X(*/)s
360 X
3061 Y
408 X(#include)s
768 X(<stdio)s
1008 X(.h>)s
360 X
3141 Y
408 X(#include)s
768 X(<fcntl)s
1008 X(.h>)s
360 X
3261 Y
408 X(void)s
360 X
3341 Y
408 X(fclsexec\(fp\))s
360 X
3421 Y
408 X(FILE)s
608 X(*fp;)s
360 X
3501 Y
408 X({)s
360 X
3581 Y
568 X(\(void\))s
848 X(fcntl\(fileno\(fp)s
1448 X(\),)s
1568 X(F_SETFD,)s
1928 X(1\);)s
360 X
3661 Y
408 X(})s
360 X
3773 Y
1279 X
f.B 10 Z(Figure)s
1491 X(4)s
f.R 10 Z(:)s
1587 X(Another)s
1827 X(implementation)s
2270 X(of)s
2347 X
f.I 10 Z(fclsexec)s
360 X
3821 Y
f.R 10 Z
3120 0 l
360 X
3933 Y
408 X
f.CW 10 Z(#ifdef)s
688 X(FASTSTRCHR)s
360 X
4013 Y
408 X(#define)s
728 X(STRCHR\(src,)s
1208 X(chr,)s
1408 X(dest\))s
1648 X(\(dest\))s
1928 X(=)s
2008 X(strchr\(src,)s
2488 X(chr\))s
360 X
4093 Y
408 X(#else)s
360 X
4173 Y
408 X(#define)s
728 X(STRCHR\(src,)s
1208 X(chr,)s
1408 X(dest\))s
1648 X(\\)s
360 X
4253 Y
568 X(for)s
728 X(\(\(dest\))s
1048 X(=)s
1128 X(\(src\);)s
1408 X(*\(dest\))s
1728 X(!=)s
1848 X('\\0')s
2048 X(&&)s
2168 X(*\(dest\))s
2488 X(!=)s
2608 X(\(chr\);)s
2888 X(++\(dest\)\))s
3288 X(\\)s
360 X
4333 Y
648 X(;)s
728 X(\\)s
360 X
4413 Y
568 X(if)s
688 X(\(*\(dest\))s
1048 X(==)s
1168 X('\\0'\))s
1408 X(\\)s
360 X
4493 Y
888 X(\(dest\))s
1168 X(=)s
1248 X(NULL)s
1848 X(/*)s
1968 X(N)s
2008 X(.B)s
2088 X(.:)s
2208 X(missing)s
2528 X(semi)s
2688 X(-colon)s
2968 X(*/)s
360 X
4573 Y
408 X(#endif)s
360 X
4685 Y
1425 X
f.B 10 Z(Figure)s
1637 X(5)s
f.R 10 Z(:)s
1733 X(To)s
1829 X(inline)s
2004 X(or)s
2081 X(not)s
2188 X(to)s
2262 X(inline)s
360 X
907 Y
504 X(There)s
697 X(are,)s
833 X(of)s
925 X(course,)s
1153 X(things)s
1353 X(that)s
1491 X(cannot)s
1706 X(con-)s
360 X
980 Y(veniently)s
644 X(be)s
742 X(encapsulated)s
1123 X(as)s
1214 X(functions,)s
1513 X(for)s
1624 X(reasons)s
360 X
1053 Y(of)s
444 X(either)s
626 X(interface)s
890 X(or)s
974 X(ef\256ciency)s
1238 X(.)s
1306 X(But)s
1431 X(a)s
1490 X(``primitive'')s
360 X
1126 Y(is)s
447 X(not)s
574 X(necessarily)s
914 X(a)s
986 X(function)s
1208 X(.)s
1289 X(Types)s
1494 X(and)s
1631 X(macros)s
360 X
1199 Y(de\256ned)s
583 X(in)s
662 X(a)s
719 X(header)s
924 X(\256le)s
1037 X(are)s
1146 X(also)s
1281 X(useful)s
1471 X(ways)s
1635 X(of)s
1717 X(hid-)s
360 X
1272 Y(ing)s
484 X(system)s
670 X(-speci\256c)s
936 X(detail)s
1086 X(.)s
1163 X(Programmers)s
1560 X(often)s
1735 X(use)s
360 X
1345 Y(such)s
508 X(facilities)s
768 X(on)s
861 X(a)s
918 X(small)s
1091 X(scale,)s
1270 X(e)s
1300 X(.g)s
1350 X(.)s
1394 X(the)s
1503 X(use)s
1619 X(of)s
1701 X
f.I 10 Z(off_t)s
360 X
1418 Y
f.R 10 Z(as)s
442 X(the)s
549 X(system)s
735 X(-supplied)s
1008 X(type)s
1148 X(for)s
1250 X(a)s
1305 X(size)s
1435 X(of)s
1515 X(a)s
1570 X(\256le)s
1681 X(or)s
1761 X(an)s
360 X
1491 Y(offset)s
550 X(within)s
759 X(it,)s
852 X(but)s
975 X(they)s
1129 X(don't)s
1308 X
f.I 10 Z(write)s
1485 X
f.R 10 Z(such)s
1646 X(header)s
2016 X
448 Y(\256les)s
2150 X(nearly)s
2339 X(as)s
2417 X(often)s
2576 X(as)s
2654 X(they)s
2791 X(should)s
2968 X(.)s
2016 X
542 Y
2160 X(Although)s
2448 X(C's)s
2577 X(limited)s
2805 X(macro)s
3009 X(facilities)s
3280 X(hamper)s
2016 X
615 Y(large)s
2150 X(-scale)s
2352 X(use)s
2485 X(of)s
2584 X(header)s
2762 X(-\256le)s
2914 X(encapsulation,)s
3343 X(more)s
2016 X
688 Y(ambitious)s
2317 X(applications)s
2678 X(can)s
2808 X(be)s
2908 X(useful)s
3108 X(despite)s
3335 X(occa-)s
2016 X
761 Y(sional)s
2222 X(clumsiness)s
2516 X(.)s
2601 X(As)s
2721 X(an)s
2830 X(example,)s
3120 X(consider)s
3392 X(our)s
2016 X
834 Y(STRCHR)s
2319 X(primitive,)s
2627 X(which)s
2835 X(generates)s
3133 X(in)s
3185 X(-line)s
3354 X(code)s
2016 X
907 Y(except)s
2217 X(on)s
2308 X(machines)s
2586 X(with)s
2730 X(compilers)s
3019 X(clever)s
3208 X(enough)s
3428 X(to)s
2016 X
980 Y(do)s
2118 X(so)s
2214 X(automatically)s
2617 X(\(see)s
2762 X(Figure)s
2973 X(5\))s
3028 X(.)s
3104 X(This)s
3260 X(is)s
3342 X(a)s
3409 X(bit)s
2016 X
1053 Y(awkward:)s
2329 X(what)s
2487 X(is)s
2560 X(being)s
2736 X(de\256ned)s
2960 X(here)s
3102 X(is)s
3174 X(not)s
3286 X(exactly)s
2016 X
1126 Y(a)s
2079 X(function,)s
2351 X(but)s
2470 X(C)s
2548 X(preprocessor)s
2922 X(macros)s
3149 X(nevertheless)s
2016 X
1199 Y(force)s
2182 X(it)s
2249 X(to)s
2330 X(look)s
2477 X(like)s
2607 X(one)s
2703 X(.)s
2771 X(In)s
2855 X(the)s
2966 X(absence)s
3207 X(of)s
3291 X(a)s
3350 X(stan-)s
2016 X
1272 Y(dard)s
2163 X(way)s
2304 X(to)s
2386 X(force)s
2553 X(inline)s
2736 X(expansion)s
3036 X(of)s
3121 X(normal)s
3340 X(func-)s
2016 X
1345 Y(tions,)s
2198 X(it)s
2271 X(remains)s
2518 X(a)s
2582 X(powerful)s
2856 X(technique)s
3150 X(for)s
3261 X(portable)s
2016 X
1418 Y(performance)s
2383 X(engineering)s
2728 X(despite)s
2948 X(its)s
3043 X(\257aws:)s
3256 X(this)s
3384 X(and)s
2016 X
1491 Y(similar)s
2273 X(portable)s
2562 X(optimizations)s
2997 X(sped)s
3189 X(up)s
3324 X(major)s
360 X
4967 Y
f.B 10 Z(188)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 189 5
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(components)s
947 X(of)s
1027 X(C)s
1097 X(News)s
1275 X(by)s
1367 X(40%)s
1515 X(without)s
1745 X(serious)s
1960 X(loss)s
600 X
521 Y(of)s
677 X(clarity)s
849 X(.)s
600 X
615 Y
744 X(If)s
838 X(one)s
984 X(must)s
1165 X(use)s
1305 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
1536 X(and)s
1683 X(it)s
1772 X(cannot)s
2001 X(be)s
600 X
688 Y(con\256ned)s
859 X(to)s
941 X(header)s
1149 X(\256les)s
1291 X(and)s
1416 X(the)s
1527 X(like,)s
1674 X(one)s
1799 X(good)s
1960 X(rule)s
600 X
761 Y(of)s
687 X(thumb)s
889 X(is)s
966 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(use)s
1087 X
f.B 10 Z(#ifdef)s
1282 X
f.I 10 Z(only)s
1429 X(in)s
1513 X(declarations)s
1879 X
f.R 10 Z(\(where)s
600 X
834 Y(``declarations)s
968 X('')s
1072 X(is)s
1176 X(understood)s
1530 X(to)s
1641 X(include)s
1897 X(macro)s
600 X
907 Y(de\256nitions\))s
904 X(.)s
973 X(This)s
1123 X(at)s
1203 X(least)s
1358 X(encourages)s
1689 X(some)s
1861 X(thought)s
600 X
980 Y(about)s
778 X(de\256ning)s
1025 X(an)s
1117 X(interface,)s
1398 X(rather)s
1583 X(than)s
1727 X(just)s
1853 X(hacking)s
600 X
1053 Y(in)s
674 X(something)s
974 X(that)s
1097 X(somehow)s
1374 X(seems)s
1560 X(to)s
1634 X(work)s
1770 X(.)s
600 X
3085 Y
3120 0 l
600 X
3173 Y
648 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(/*)s
600 X
3253 Y
688 X(*)s
768 X(strerror)s
1128 X(-)s
1208 X(map)s
1368 X(error)s
1608 X(number)s
1888 X(to)s
2008 X(descriptive)s
2488 X(string)s
600 X
3333 Y
688 X(*)s
600 X
3413 Y
688 X(*)s
768 X(This)s
968 X(version)s
1288 X(is)s
1408 X(obviously)s
1808 X(somewhat)s
2168 X(UNIX)s
2328 X(-specific)s
2688 X(.)s
600 X
3493 Y
688 X(*/)s
600 X
3573 Y
648 X(char)s
848 X(*)s
600 X
3653 Y
648 X(strerror\(errnum)s
1248 X(\))s
600 X
3733 Y
648 X(int)s
808 X(errnum;)s
600 X
3813 Y
648 X({)s
600 X
3893 Y
888 X(extern)s
1168 X(int)s
1328 X(sys_nerr;)s
600 X
3973 Y
888 X(extern)s
1168 X(char)s
1368 X(*sys_errlist[];)s
600 X
4093 Y
888 X(if)s
1008 X(\(errnum)s
1328 X(>)s
1408 X(0)s
1488 X(&&)s
1608 X(errnum)s
1888 X(<)s
1968 X(sys_nerr\))s
600 X
4173 Y
1128 X(return\(sys_err)s
1688 X(list[errnum]\);)s
600 X
4253 Y
888 X(else)s
1088 X(if)s
1208 X(\(errnum)s
1528 X(!=)s
1648 X(0\))s
600 X
4333 Y
1128 X(return\("unknow)s
1688 X(n)s
1768 X(error"\);)s
600 X
4413 Y
888 X(else)s
600 X
4493 Y
1128 X(return\("no)s
1568 X(details)s
1888 X(given"\);)s
600 X
4573 Y
648 X(})s
600 X
4685 Y
1908 X
f.B 10 Z(Figure)s
2120 X(6)s
f.R 10 Z(:)s
2216 X(strerror)s
600 X
1147 Y
744 X(Finally,)s
985 X(when)s
1164 X(de\256ning)s
1417 X(interfaces,)s
1730 X(it)s
1803 X(is)s
1883 X(impor-)s
600 X
1220 Y(tant)s
724 X(to)s
799 X
f.I 10 Z(document)s
1081 X
f.R 10 Z(them)s
1215 X(.)s
1277 X(The)s
1403 X(biggest)s
1618 X(reason)s
1814 X(for)s
1913 X(doing)s
600 X
1293 Y(this)s
725 X(is)s
798 X(that)s
927 X(it)s
993 X(is)s
1066 X(important)s
1354 X(discipline)s
1643 X(that)s
1773 X(forces)s
1965 X(you)s
600 X
1366 Y(to)s
676 X(think)s
837 X(about)s
1009 X(the)s
1115 X(issues)s
1298 X(and)s
1417 X(\256ll)s
1515 X(in)s
1590 X(fuzzy)s
1761 X(spots)s
1898 X(.)s
1960 X(The)s
600 X
1439 Y(resulting)s
877 X(documentation)s
1317 X(is)s
1405 X(also)s
1556 X(very)s
1717 X(valuable)s
1987 X(for)s
600 X
1512 Y(maintenance)s
939 X(.)s
1024 X(Perhaps)s
1281 X(somewhat)s
1598 X(surprisingly,)s
1978 X(it's)s
600 X
1585 Y(also)s
734 X(valuable)s
987 X(for)s
1090 X(development,)s
1478 X(even)s
1630 X(if)s
1697 X(the)s
1806 X(project)s
2019 X(is)s
600 X
1658 Y(not)s
711 X(an)s
800 X(army)s
937 X(-of)s
1014 X(-ants)s
1170 X(operation)s
1448 X(using)s
1618 X(buildings)s
1891 X(full)s
2009 X(of)s
600 X
1731 Y(people)s
778 X(.)s
855 X(We)s
986 X(found)s
1178 X(it)s
1254 X(very)s
1411 X(important)s
1710 X(to)s
1801 X(document)s
600 X
1804 Y(crucial)s
821 X(interfaces)s
1120 X(like)s
1258 X(our)s
1383 X(con\256guration)s
1775 X(primitives,)s
600 X
1877 Y(even)s
748 X(though)s
954 X(only)s
1094 X(two)s
1217 X(people)s
1418 X(were)s
1571 X(involved,)s
1844 X(to)s
1919 X(make)s
600 X
1950 Y(sure)s
753 X(things)s
958 X(were)s
1129 X(being)s
1318 X(done)s
1488 X(consistently)s
1849 X(and)s
1986 X(we)s
600 X
2023 Y(understood)s
917 X(each)s
1062 X(other)s
1199 X(.)s
2002 Y
f.I 8 Z(3)s
600 X
2150 Y
1045 X
f.B 10 Z(Standard)s
1333 X(Interfaces)s
600 X
2259 Y
744 X
f.R 10 Z(Of)s
841 X(course,)s
1059 X(good)s
1218 X(interface)s
1480 X(design)s
1682 X(is)s
1755 X(not)s
1868 X(simple,)s
600 X
2332 Y(especially)s
897 X(given)s
1072 X(the)s
1181 X(limitations)s
1496 X(of)s
1578 X(existing)s
1817 X(program-)s
600 X
2405 Y(ming)s
771 X(languages)s
1038 X(.)s
1111 X(Often)s
1298 X(the)s
1415 X(best)s
1558 X(way)s
1704 X(to)s
1791 X(solve)s
1967 X(this)s
600 X
2478 Y(problem)s
861 X(is)s
944 X(to)s
1034 X(avoid)s
1220 X(it)s
1296 X(instead)s
1486 X(.)s
1563 X(If)s
1645 X(an)s
1746 X(interface)s
2019 X(is)s
600 X
2551 Y(needed,)s
838 X(there)s
1004 X(is)s
1082 X(much)s
1263 X(to)s
1348 X(be)s
1444 X(said)s
1585 X(for)s
1695 X(choosing)s
1968 X(one)s
600 X
2624 Y(that)s
723 X(is)s
790 X(already)s
1009 X(standard)s
1235 X(.)s
600 X
2743 Y
f.R 16 Z
720 0 l
600 X
2789 Y
644 X
f.I 8 Z(3)s
2810 Y
f.R 9 Z(Indeed,)s
912 X(places)s
1125 X(where)s
1334 X(internal)s
1582 X(interfaces)s
1880 X(weren't)s
600 X
2877 Y(completely)s
946 X(documented)s
1318 X(were)s
1511 X(fruitful)s
1758 X(sources)s
2014 X(of)s
600 X
2944 Y(misunderstandi)s
968 X(ngs,)s
1089 X(bugs,)s
1240 X(and)s
1351 X(a)s
1402 X(certain)s
1591 X(amount)s
1796 X(of)s
1870 X(snarling)s
600 X
3011 Y(at)s
664 X(each)s
795 X(other)s
919 X(.)s
2256 X
448 Y
2400 X
f.R 10 Z(There)s
2584 X(are)s
2695 X(several)s
2914 X(sources)s
3143 X(of)s
3227 X(reasonably)s
3545 X(decent)s
2256 X
521 Y(standard)s
2525 X(interfaces,)s
2846 X(notably)s
3089 X(ANSI)s
3287 X(C)s
3342 X([Inst89a])s
3624 X(and)s
2256 X
594 Y(POSIX)s
2478 X(1003)s
2610 X(.1)s
2671 X([Engi90a])s
2937 X(.)s
3006 X(Since)s
3186 X(these)s
3355 X(standards)s
3638 X(are)s
2256 X
667 Y(quite)s
2418 X(recent,)s
2627 X(many)s
2803 X(of)s
2886 X(the)s
2996 X(systems)s
3235 X(of)s
3317 X(interest)s
3542 X(do)s
3635 X(not)s
2256 X
740 Y(implement)s
2574 X(them)s
2739 X(fully)s
2865 X(.)s
2935 X(This)s
3086 X(doesn't)s
3314 X(preclude)s
3576 X(using)s
2256 X
813 Y(the)s
2371 X
f.I 10 Z(interfaces)s
f.R 10 Z(,)s
2686 X(however:)s
2988 X(you)s
3119 X(can)s
3244 X(supply)s
3453 X(your)s
3606 X(own)s
2256 X
886 Y(implementation)s
2677 X(\(s\))s
2776 X(for)s
2883 X(use)s
3002 X(on)s
3098 X(outdated)s
3358 X(systems)s
3570 X(.)s
3639 X(An)s
2256 X
959 Y(example)s
2523 X(is)s
2607 X(the)s
2728 X(ANSI)s
2922 X(function)s
3183 X
f.I 10 Z(strerror)s
3434 X
f.R 10 Z(\(shown)s
3668 X(in)s
2256 X
1032 Y(Figure)s
2452 X(6\))s
2507 X(.)s
2256 X
1126 Y
2400 X(This)s
2553 X(approach)s
2831 X(does)s
2987 X(impose)s
3214 X(a)s
3278 X(few)s
3413 X(constraints,)s
2256 X
1199 Y(since)s
2435 X(the)s
2558 X(standard)s
2825 X(interfaces)s
3127 X(sometimes)s
3455 X(are)s
3578 X(a)s
3649 X(bit)s
2256 X
1272 Y(ugly,)s
2419 X(and)s
2544 X(often)s
2710 X(aren't)s
2895 X(ideal)s
3055 X(for)s
3161 X(every)s
3338 X(program)s
3563 X(.)s
3631 X(It's)s
2256 X
1345 Y(tempting)s
2524 X(to)s
2606 X(come)s
2781 X(up)s
2877 X(with)s
3026 X(customized)s
3361 X(ones)s
3513 X(instead)s
3703 X(.)s
2256 X
1418 Y(But)s
2384 X(the)s
2498 X(standard)s
2756 X(ones)s
2911 X(have)s
3070 X(major)s
3259 X(advantages)s
3556 X(.)s
3628 X(For)s
2256 X
1491 Y(one)s
2394 X(thing,)s
2590 X(people)s
2809 X(understand)s
3142 X(\(or)s
3260 X(will)s
3406 X(understand\))s
2256 X
1564 Y(them)s
2430 X(without)s
2674 X(having)s
2896 X(to)s
2989 X(decipher)s
3260 X(your)s
3422 X(code)s
3548 X(.)s
3628 X(For)s
2256 X
1637 Y(another,)s
2508 X(on)s
2609 X(systems)s
2856 X(which)s
3053 X
f.I 10 Z(do)s
3153 X
f.R 10 Z(implement)s
3474 X(the)s
3590 X(stan-)s
2256 X
1710 Y(dard)s
2418 X(interfaces,)s
2740 X(the)s
2866 X(system)s
3052 X(-provided)s
3354 X(ones)s
3520 X(can)s
3657 X(be)s
2256 X
1783 Y(used)s
2378 X(.)s
2447 X(\(This)s
2618 X(is)s
2693 X(particularly)s
3032 X(signi\256cant)s
3341 X(for)s
3448 X(primitives)s
2256 X
1856 Y(like)s
2386 X
f.I 10 Z(memcpy)s
f.R 10 Z(,)s
2651 X(where)s
2844 X(system)s
3030 X(-speci\256c)s
3287 X(tuning)s
3487 X(can)s
3610 X(pro-)s
2256 X
1929 Y(duce)s
2406 X(major)s
2586 X(improvements)s
2991 X(in)s
3066 X(ef\256ciency)s
3341 X([Spen88a])s
3614 X(.)s
3676 X(If)s
2256 X
2002 Y(you)s
2380 X(de\256ne)s
2569 X(your)s
2716 X(own)s
2856 X(customized)s
3187 X(interface,)s
3465 X(you)s
3590 X(must)s
2256 X
2075 Y(do)s
2374 X(your)s
2547 X(own)s
2712 X(customized)s
3068 X(implementation,)s
3557 X(which)s
2256 X
2148 Y(denies)s
2454 X(you)s
2580 X(the)s
2689 X(opportunity)s
3027 X(to)s
3107 X(bene\256t)s
3317 X(from)s
3474 X(the)s
3584 X(work)s
2256 X
2221 Y(of)s
2337 X(others)s
2500 X(.\))s
2587 X(For)s
2704 X(a)s
2759 X(third,)s
2927 X(while)s
3101 X(the)s
3208 X(standard)s
3459 X(interfaces)s
2256 X
2294 Y(may)s
2413 X(not)s
2540 X(be)s
2645 X(ideal,)s
2835 X(by)s
2943 X(and)s
3081 X(large)s
3257 X(they)s
3414 X(contain)s
3654 X(no)s
2256 X
2367 Y(grievous)s
2516 X(mistakes,)s
2799 X(and)s
2926 X(avoiding)s
3190 X(disasters)s
3452 X(is)s
3527 X(usually)s
2256 X
2440 Y(more)s
2428 X(important)s
2724 X(than)s
2875 X(achieving)s
3171 X(a)s
3237 X(precisely)s
3515 X(optimal)s
2256 X
2513 Y(solution)s
2471 X(.)s
2539 X(Finally,)s
2775 X(a)s
2833 X(standard)s
3087 X(interface)s
3350 X(saves)s
3523 X(endless)s
2256 X
2586 Y(puzzling,)s
2536 X(not)s
2654 X(to)s
2739 X(mention)s
2992 X(uncomplimentary)s
3497 X(specula-)s
2256 X
2659 Y(tion,)s
2405 X(by)s
2499 X(later)s
2646 X(maintainers:)s
3027 X(``did)s
3183 X(he)s
3273 X(have)s
3426 X(some)s
3594 X(deep)s
2256 X
2732 Y(subtle)s
2448 X(reason)s
2654 X(for)s
2763 X(using)s
2939 X(a)s
3001 X(non)s
3100 X(-standard)s
3380 X(interface,)s
3665 X(or)s
2256 X
2805 Y(was)s
2382 X(he)s
2467 X(just)s
2586 X(stupid?'')s
2823 X(.)s
2256 X
2899 Y
2400 X(Reimplementing)s
2878 X(a)s
2941 X(standard)s
3200 X(interface)s
3468 X(can)s
3594 X(be)s
3690 X(a)s
2256 X
2972 Y(useful)s
2457 X(tactic)s
2642 X(when)s
2824 X(the)s
2944 X(standard)s
3207 X(interface)s
3479 X(does)s
3638 X(the)s
2256 X
3045 Y(right)s
2420 X(thing)s
2595 X(but)s
2719 X(the)s
2840 X(usual)s
3020 X(implementations)s
3506 X(perform)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(189)s
5280 Y
pagebot

%%Page: 190 6
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(poorly)s
533 X(.)s
611 X(A)s
698 X(version)s
932 X(which)s
1133 X(is)s
1216 X(faster)s
1403 X(but)s
1526 X(compatible)s
360 X
521 Y(can)s
489 X(solve)s
666 X(performance)s
1039 X(problems)s
1323 X(while)s
1508 X(leaving)s
1742 X(the)s
360 X
594 Y(door)s
514 X(open)s
675 X(to)s
759 X(the)s
873 X(possibility)s
1184 X(that)s
1317 X(the)s
1431 X(system)s
1649 X(imple-)s
360 X
667 Y(mentations)s
679 X(will)s
810 X(improve)s
1058 X(someday)s
1295 X(.)s
1360 X(The)s
1490 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(stdio)s
1646 X
f.R 10 Z(library)s
360 X
740 Y(is)s
430 X(a)s
485 X(particular)s
767 X(case)s
908 X(in)s
985 X(point:)s
1188 X(old)s
1298 X(implementations)s
1769 X(of)s
360 X
813 Y(functions)s
674 X(like)s
842 X
f.I 10 Z(fgets)s
1036 X
f.R 10 Z(and)s
1199 X
f.I 10 Z(fread)s
1407 X
f.R 10 Z(are)s
1556 X(extremely)s
360 X
886 Y(inef\256cient,)s
697 X(and)s
841 X(even)s
1015 X(modern)s
1266 X(ones)s
1436 X(often)s
1621 X(can)s
1761 X(be)s
360 X
959 Y(improved)s
670 X(on)s
736 X(.)s
830 X(This)s
1004 X(particular)s
1316 X(case)s
1487 X(gets)s
1651 X(tricky,)s
360 X
2845 Y
3120 0 l
360 X
2933 Y
408 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(/*)s
360 X
3013 Y
448 X(*)s
528 X(nfclose\(stream\))s
1168 X(-)s
1248 X(flush)s
1488 X(the)s
1648 X(stream,)s
1968 X(fsync)s
2208 X(its)s
2368 X(file)s
2568 X(descriptor)s
3008 X(and)s
360 X
3093 Y
448 X(*)s
528 X(fclose)s
808 X(the)s
968 X(stream,)s
1288 X(checking)s
1648 X(for)s
1808 X(errors)s
2088 X(at)s
2208 X(all)s
2368 X(stages)s
2608 X(.)s
2728 X(This)s
2928 X(dance)s
360 X
3173 Y
448 X(*)s
528 X(is)s
648 X(needed)s
928 X(to)s
1048 X(work)s
1248 X(around)s
1528 X(the)s
1688 X(lack)s
1888 X(of)s
2008 X(UNIX)s
2208 X(file)s
2408 X(system)s
2688 X(semantics)s
360 X
3253 Y
448 X(*)s
528 X(in)s
648 X(Sun's)s
888 X(NFS)s
1008 X(.)s
1128 X(Returns)s
1448 X(EOF)s
1608 X(on)s
1728 X(error)s
1928 X(.)s
360 X
3333 Y
448 X(*/)s
360 X
3453 Y
408 X(#include)s
768 X(<stdio)s
1008 X(.h>)s
360 X
3573 Y
408 X(int)s
360 X
3653 Y
408 X(nfclose\(stream\))s
360 X
3733 Y
408 X(register)s
768 X(FILE)s
968 X(*stream;)s
360 X
3813 Y
408 X({)s
360 X
3893 Y
568 X(register)s
928 X(int)s
1088 X(ret)s
1248 X(=)s
1328 X(0;)s
360 X
4013 Y
568 X(if)s
688 X(\(fflush\(stream\))s
1328 X(==)s
1448 X(EOF\))s
360 X
4093 Y
728 X(ret)s
888 X(=)s
968 X(EOF;)s
360 X
4173 Y
568 X(if)s
688 X(\(fsync\(fileno\(s)s
1288 X(tream\)\))s
1608 X(<)s
1688 X(0\))s
2008 X(/*)s
2128 X(may)s
2288 X(get)s
2448 X(delayed)s
2768 X(error)s
3008 X(here)s
3208 X(*/)s
360 X
4253 Y
728 X(ret)s
888 X(=)s
968 X(EOF;)s
360 X
4333 Y
568 X(if)s
688 X(\(fclose\(stream\))s
1328 X(==)s
1448 X(EOF\))s
360 X
4413 Y
728 X(ret)s
888 X(=)s
968 X(EOF;)s
360 X
4493 Y
568 X(return)s
848 X(ret;)s
360 X
4573 Y
408 X(})s
360 X
4685 Y
1421 X
f.B 10 Z(Figure)s
1633 X(7)s
f.R 10 Z(:)s
1729 X(Necessary)s
2026 X(error)s
2177 X(checking)s
360 X
1032 Y(because)s
645 X(doing)s
870 X(better)s
1097 X(means)s
1342 X(relying)s
1605 X(on)s
1745 X(ill)s
1802 X(-)s
360 X
1105 Y(documented)s
727 X(and)s
864 X(somewhat)s
1176 X(variable)s
1433 X(internal)s
1679 X(inter-)s
360 X
1178 Y(faces,)s
1157 Y
f.I 8 Z(4)s
1178 Y
568 X
f.R 10 Z(but)s
679 X(the)s
787 X(performance)s
1150 X(wins)s
1302 X(for)s
1406 X(C)s
1477 X(News)s
1656 X(are)s
1765 X(so)s
360 X
1251 Y(massive)s
598 X(that)s
721 X(we)s
821 X(nevertheless)s
1174 X(did)s
1281 X(it)s
1319 X(.)s
360 X
1345 Y
504 X(Pitfalls)s
727 X(that)s
860 X(need)s
1018 X(careful)s
1236 X(attention)s
1503 X(when)s
1680 X(using)s
360 X
1418 Y(standard)s
616 X(interfaces)s
907 X(are)s
1019 X(error)s
1178 X(checking)s
1449 X(and)s
1574 X(boundary)s
360 X
1491 Y(conditions)s
638 X(.)s
704 X(It)s
772 X(is)s
844 X(important)s
1131 X(not)s
1243 X(to)s
1322 X(make)s
1494 X(assumptions)s
360 X
1564 Y(that)s
489 X(aren't)s
673 X(in)s
753 X(the)s
863 X(standard)s
1089 X(.)s
1155 X(For)s
1274 X(example,)s
1545 X(a)s
1602 X(depress-)s
360 X
1637 Y(ing)s
488 X(amount)s
731 X(of)s
825 X
f.R 8 Z(UNIX)s
1000 X
f.R 10 Z(software)s
1274 X(assumes)s
1541 X(that)s
1686 X
f.I 10 Z(close)s
360 X
1710 Y
f.R 10 Z(never)s
542 X(returns)s
761 X(any)s
891 X(interesting)s
1208 X(status)s
1361 X(.)s
1433 X(Unfortunately,)s
360 X
1783 Y(as)s
456 X(networked)s
777 X(\256le)s
903 X(systems)s
1155 X(get)s
1277 X(more)s
1454 X(common)s
1728 X(and)s
360 X
1856 Y(other)s
533 X(complications)s
945 X(are)s
1062 X(introduced,)s
1399 X(it)s
1472 X(is)s
1552 X(not)s
1672 X(at)s
1756 X(all)s
360 X
1929 Y(unthinkable)s
699 X(for)s
800 X(an)s
887 X(I/O)s
1000 X(error)s
1153 X(to)s
1230 X(be)s
1318 X(discovered)s
1632 X(only)s
1775 X(at)s
360 X
2002 Y
f.I 10 Z(close)s
589 X
f.R 10 Z(time)s
709 X(.)s
838 X(Meticulous)s
1229 X(error)s
1448 X(checking)s
1779 X(is)s
360 X
2075 Y(important)s
631 X([Darw85a])s
919 X(.)s
980 X(For)s
1094 X(example,)s
1360 X(see)s
1468 X(Figure)s
1664 X(7)s
1697 X(.)s
360 X
2169 Y
504 X(Finally,)s
747 X(note)s
898 X(that)s
1035 X(standard)s
1297 X(interfaces)s
1594 X(exist)s
1758 X(on)s
360 X
2242 Y(more)s
524 X(than)s
666 X(just)s
790 X(the)s
899 X(C)s
970 X(level)s
1101 X(.)s
1167 X(By)s
1271 X(including)s
1550 X(an)s
1640 X(``over-)s
360 X
2315 Y(ride'')s
544 X(directory)s
821 X(early)s
991 X(in)s
1079 X(the)s
1197 X(shell's)s
1409 X(search)s
1617 X(path,)s
1786 X(it)s
360 X
2388 Y(becomes)s
644 X(trivial)s
855 X(to)s
957 X(substitute)s
1263 X(reimplemented)s
1714 X(pro-)s
360 X
2461 Y(grams)s
584 X(for)s
722 X(standard)s
1009 X(ones)s
1192 X(that)s
1355 X(are)s
1499 X(missing)s
1769 X(or)s
360 X
2570 Y
f.R 16 Z
720 0 l
360 X
2616 Y
404 X
f.I 8 Z(4)s
2637 Y
f.R 9 Z(The)s
555 X(standard)s
789 X(build)s
943 X(procedure)s
1214 X(for)s
1314 X(C)s
1384 X(News)s
1550 X(runs)s
1683 X(a)s
1740 X(test)s
360 X
2704 Y(program)s
612 X(to)s
707 X(check)s
896 X(compatibility)s
1267 X(with)s
1421 X(the)s
1542 X(local)s
1707 X
f.I 9 Z(stdio)s
360 X
2771 Y
f.R 9 Z(implementation)s
740 X(.)s
2016 X
448 Y
f.R 10 Z(defective)s
2262 X(.)s
2366 X(We)s
2525 X(have)s
2717 X(a)s
2813 X(remarkably)s
3183 X(large\320and)s
2016 X
521 Y(steadily)s
2250 X(growing\320list)s
2646 X(of)s
2725 X(known)s
2929 X(portability)s
3232 X(problems)s
2016 X
594 Y(that)s
2139 X(arise)s
2288 X(from)s
2439 X(defective)s
2707 X(implementations)s
3176 X(of)s
3254 X(standard)s
2016 X
667 Y
f.R 8 Z(UNIX)s
2170 X
f.R 10 Z(programs)s
2421 X(.)s
646 Y
f.I 8 Z(5)s
2016 X
794 Y
2440 X
f.B 10 Z(Inside)s
2615 X(-Out)s
2770 X(Interfaces)s
2016 X
903 Y
2160 X
f.R 10 Z(Sometimes)s
2489 X(there)s
2654 X(simply)s
2867 X(isn't)s
3017 X(any)s
3144 X(way)s
3286 X(to)s
3370 X(pro-)s
2016 X
976 Y(vide)s
2169 X(a)s
2237 X(necessary)s
2535 X(primitive)s
2819 X(on)s
2922 X(some)s
3100 X(systems)s
3312 X(.)s
3388 X(For)s
2016 X
1049 Y(example,)s
2283 X(most)s
2436 X(modern)s
2659 X
f.R 8 Z(UNIX)s
f.R 10 Z(es)s
2871 X(permit)s
3070 X(setting)s
3273 X(the)s
3379 X(real)s
2016 X
1122 Y(userID)s
2230 X(to)s
2315 X(equal)s
2493 X(the)s
2608 X(effective)s
2875 X(userID,)s
3105 X(but)s
3222 X(some)s
3395 X(old)s
2016 X
1195 Y(systems)s
2265 X(allow)s
2452 X(only)s
2608 X
f.I 10 Z(root)s
2757 X
f.R 10 Z(to)s
2847 X(change)s
3074 X(the)s
3194 X(real)s
3333 X(IDs)s
3429 X(.)s
3446 X(.)s
3463 X(.)s
2016 X
1268 Y(and)s
2142 X(it)s
2210 X(is)s
2284 X(necessary)s
2573 X(to)s
2654 X(change)s
2872 X(the)s
2983 X(real)s
3113 X(IDs)s
3238 X(to)s
3319 X(create)s
2016 X
1341 Y(directories)s
2321 X(with)s
2462 X(proper)s
2657 X(ownerships)s
2960 X(.)s
3022 X(Given)s
3208 X(that)s
3332 X(many)s
2016 X
1414 Y(people)s
2222 X(will)s
2355 X(be)s
1393 Y
f.I 8 Z(6)s
1414 Y
2473 X
f.R 10 Z(reluctant)s
2735 X(to)s
2814 X(let)s
2909 X(a)s
2966 X(large)s
3127 X(and)s
3250 X(complex)s
2016 X
1487 Y(program)s
2282 X(written)s
2513 X(by)s
2620 X(a)s
2691 X(stranger)s
2948 X(run)s
3078 X(as)s
3176 X
f.I 10 Z(root)s
f.R 10 Z(,)s
3346 X(there)s
2016 X
1560 Y(doesn't)s
2234 X(seem)s
2394 X(to)s
2468 X(be)s
2553 X(any)s
2671 X(easy)s
2812 X(way)s
2945 X(out)s
3030 X(.)s
2016 X
1654 Y
2160 X(In)s
2243 X(this)s
2369 X(case,)s
2531 X(there)s
2694 X(is:)s
2809 X(turn)s
2945 X(the)s
3056 X(interface)s
3320 X(inside)s
2016 X
1727 Y(out,)s
2151 X(and)s
2280 X(have)s
2439 X(the)s
2554 X(dirty)s
2713 X(work)s
2882 X(done)s
3044 X(by)s
3142 X(caller)s
3324 X(rather)s
2016 X
1800 Y(than)s
2156 X(callee)s
2314 X(.)s
2379 X(Speci\256cally,)s
2739 X(have)s
2891 X(the)s
2999 X(complex)s
3255 X(program)s
2016 X
1873 Y(invoked)s
2258 X(by)s
2352 X(a)s
2410 X(simple)s
2617 X(setuid)s
2777 X(-)s
f.I 10 Z(root)s
2937 X
f.R 10 Z(program)s
3189 X(which)s
3379 X(sets)s
2016 X
1946 Y(things)s
2201 X(up)s
2289 X(properly)s
2536 X(on)s
2624 X(uncooperative)s
3024 X(systems)s
3236 X(.)s
2016 X
2101 Y
f.R 16 Z
720 0 l
2016 X
2147 Y
2060 X
f.I 8 Z(5)s
2168 Y
f.R 9 Z(Lest)s
2235 X(anyone)s
2453 X(think)s
2621 X(we)s
2736 X(are)s
2855 X(disparaging)s
3181 X(porters)s
3393 X(and)s
2016 X
2235 Y(resellers)s
2240 X(only,)s
2385 X(we)s
2477 X(should)s
2659 X(comment)s
2906 X(that)s
3019 X(AT&T)s
3205 X(is)s
3267 X(as)s
3339 X(guilty)s
2016 X
2302 Y(as)s
2093 X(anyone)s
2294 X(else)s
2388 X(.)s
2450 X(For)s
2560 X(example,)s
2807 X(several)s
3006 X(releases)s
3225 X(of)s
3303 X(System)s
2016 X
2369 Y(V)s
2080 X
f.I 9 Z(make)s
2228 X
f.R 9 Z(have)s
2363 X(violated)s
2579 X(the)s
2674 X(System)s
2871 X(V)s
2934 X(Interface)s
3169 X(De\256nition)s
3433 X(in)s
2016 X
2436 Y(their)s
2149 X(handling)s
2382 X(of)s
2454 X(command)s
2714 X(lines)s
2850 X(like)s
2979 X
f.CW 9 Z(test)s
3159 X(-s)s
3267 X(file)s
3433 X
f.R 9 Z(in)s
2016 X
2503 Y
f.I 9 Z(make\256le)s
f.R 9 Z(s)s
2240 X(.)s
2308 X(\(Make\256le)s
2575 X(command)s
2846 X(lines)s
2992 X(are)s
3098 X(speci\256ed)s
3344 X(to)s
3423 X(be)s
2016 X
2570 Y(executed)s
2254 X(just)s
2364 X(as)s
2437 X(if)s
2497 X(by)s
2580 X(the)s
2677 X(shell,)s
2829 X(but)s
2929 X(if)s
2989 X
f.I 9 Z(test)s
3096 X
f.R 9 Z(is)s
3160 X(a)s
3211 X(shell)s
3349 X(built)s
3460 X(-)s
2016 X
2637 Y(in)s
2097 X(and)s
2217 X(there)s
2371 X(is)s
2444 X(no)s
2537 X(actual)s
2715 X
f.I 9 Z(program)s
2957 X
f.R 9 Z(by)s
3050 X(that)s
3174 X(name,)s
3353 X
f.I 9 Z(make)s
2016 X
2704 Y
f.R 9 Z(often)s
2160 X(chokes)s
2347 X(and)s
2454 X(dies)s
2571 X(on)s
2651 X(this)s
2758 X(line)s
2849 X(.\))s
2016 X
2750 Y
2060 X
f.I 8 Z(6)s
2771 Y
f.R 9 Z(Or)s
2170 X
f.I 9 Z(should)s
2350 X
f.R 9 Z(be!!!)s
360 X
4967 Y
f.B 10 Z(190)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 191 7
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y
744 X
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(A)s
829 X(more)s
1003 X(mundane)s
1284 X(example)s
1548 X(is)s
1630 X(the)s
1749 X(problem)s
2009 X(of)s
600 X
521 Y(reading)s
830 X(directories)s
1113 X(.)s
1182 X(Thanks)s
1408 X(to)s
1490 X(the)s
1602 X(lack)s
1743 X(of)s
1827 X(a)s
1886 X(library)s
600 X
594 Y(package)s
854 X(for)s
966 X(directory)s
1207 X(-reading)s
1464 X(in)s
1551 X(the)s
1668 X(oldest)s
1859 X
f.R 8 Z(UNIX)s
f.R 10 Z(es,)s
600 X
667 Y(there)s
770 X(isn't)s
925 X(any)s
1057 X(standard)s
1319 X(way)s
1466 X(to)s
1553 X(do)s
1654 X(it)s
1692 X(.)s
1766 X(Raw)s
1923 X(reads)s
600 X
740 Y(don't)s
772 X(work)s
940 X(on)s
1038 X(4)s
1071 X(.2+BSD)s
1320 X(systems)s
1564 X(\(and)s
1715 X(increasingly)s
2042 X(-)s
600 X
813 Y(many)s
783 X(others\),)s
1020 X(the)s
1137 X(Berkeley)s
1413 X(directory)s
1689 X(library)s
1902 X(works)s
600 X
886 Y(well)s
739 X(but)s
847 X(has)s
959 X(stupid)s
1146 X(name)s
1315 X(clashes)s
1533 X(with)s
1676 X(many)s
1848 X(old)s
1957 X(sys-)s
600 X
959 Y(tems,)s
780 X(and)s
912 X(the)s
1030 X(POSIX)s
1258 X(library)s
1472 X(isn't)s
1626 X(widespread)s
1965 X(yet)s
2047 X(.)s
600 X
1032 Y(Worse,)s
831 X(because)s
1084 X(the)s
1207 X(insides)s
1434 X(of)s
1530 X(a)s
1601 X(directory)s
1842 X(-reading)s
600 X
1105 Y(library)s
806 X(are)s
916 X(system)s
1102 X(-speci\256c,)s
1373 X(it's)s
1486 X(dif\256cult)s
1725 X(to)s
1804 X(provide)s
2034 X(a)s
600 X
1178 Y(portable)s
841 X(reimplementatio)s
1281 X(n)s
1336 X(of)s
1413 X(the)s
1517 X(POSIX)s
1731 X(functions)s
1979 X(.)s
600 X
1272 Y
744 X(The)s
880 X(simplest)s
1136 X(way)s
1279 X(around)s
1495 X(this)s
1624 X(one)s
1753 X(is)s
1831 X(to)s
1916 X(move)s
600 X
1345 Y(the)s
705 X(problem)s
950 X(out)s
1057 X(to)s
1131 X(a)s
1183 X(higher)s
1375 X(level)s
1528 X(of)s
1605 X(abstraction)s
1899 X(.)s
1960 X(The)s
600 X
1418 Y
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(ls)s
673 X
f.R 10 Z(utility)s
862 X(portably)s
1112 X(does)s
1262 X(the)s
1372 X(job,)s
1503 X(so)s
1591 X(wrap)s
1753 X(the)s
1864 X(invoca-)s
600 X
1491 Y(tion)s
736 X(of)s
823 X(the)s
937 X(program)s
1194 X(in)s
1278 X(a)s
1340 X(shell)s
1498 X(\256le,)s
1632 X(with)s
1782 X(the)s
1895 X(list)s
2009 X(of)s
600 X
1564 Y(names)s
793 X(generated)s
1075 X(by)s
1163 X
f.I 10 Z(ls)s
1230 X
f.R 10 Z(and)s
1348 X(fed)s
1455 X(into)s
1582 X(the)s
1687 X(application)s
2008 X(as)s
600 X
1637 Y(arguments)s
915 X(or)s
1007 X(on)s
1110 X(standard)s
1373 X(input)s
1510 X(.)s
1586 X(The)s
1727 X(performance)s
600 X
1710 Y(impact)s
836 X(is)s
934 X(rarely)s
1144 X(signi\256cant,)s
1494 X(and)s
1644 X(the)s
1780 X(alternative)s
600 X
1783 Y(currently)s
877 X(involves)s
1139 X(at)s
1224 X(least)s
1384 X
f.I 10 Z(six)s
1495 X
f.R 10 Z(different)s
1761 X(variants)s
2009 X(of)s
600 X
1856 Y(the)s
704 X(code,)s
869 X(with)s
1010 X(more)s
1169 X(surfacing)s
1439 X(daily)s
1573 X(.)s
600 X
1950 Y
744 X(A)s
827 X(less)s
963 X(happy)s
1160 X(example)s
1422 X(of)s
1512 X(this)s
1644 X(technique)s
1939 X(is)s
2020 X(C)s
600 X
2023 Y(News's)s
829 X
f.I 10 Z(spacefor)s
1088 X
f.R 10 Z(program,)s
1359 X(used)s
1510 X(to)s
1591 X(check)s
1776 X(disk)s
1915 X(space)s
600 X
2096 Y(so)s
689 X(activity)s
921 X(can)s
1045 X(be)s
1139 X(curtailed)s
1405 X(when)s
1580 X(it)s
1649 X(runs)s
1794 X(short)s
1927 X(.)s
1997 X(Its)s
600 X
2169 Y(interface)s
866 X(is)s
942 X(simple)s
1152 X(and)s
1279 X(clean,)s
1469 X(and)s
1596 X(it)s
1665 X(is)s
1741 X(used)s
1894 X(every-)s
600 X
2242 Y(where)s
811 X(in)s
911 X(C)s
1003 X(News)s
1155 X(.)s
1242 X(Making)s
1497 X(it)s
1584 X(a)s
1663 X(shell)s
1839 X(program)s
600 X
2315 Y(offered)s
817 X(the)s
924 X(possibility)s
1228 X(of)s
1307 X(exploiting)s
1602 X(the)s
1708 X
f.I 10 Z(df)s
1784 X
f.R 10 Z(command,)s
600 X
2388 Y(which)s
786 X(encapsulates)s
1149 X(the)s
1255 X(ugly)s
1397 X(complications)s
1797 X(of)s
1876 X(\256nding)s
600 X
2461 Y(out)s
720 X(how)s
869 X(much)s
1052 X(space)s
1235 X(is)s
1314 X(available)s
1591 X(\(and,)s
1760 X(sometimes,)s
600 X
2534 Y(the)s
709 X
f.I 10 Z(root)s
847 X
f.R 10 Z(privileges)s
1138 X(needed)s
1354 X(to)s
1433 X(do)s
1526 X(so\))s
1607 X(.)s
1673 X(Unfortunately,)s
600 X
2607 Y
f.I 10 Z(df)s
691 X
f.R 10 Z(is)s
775 X(often)s
950 X(relatively)s
1242 X(costly)s
1440 X(to)s
1530 X(invoke;)s
1768 X(worse,)s
1982 X(the)s
600 X
2680 Y(only)s
744 X(portable)s
989 X(way)s
1126 X(to)s
1204 X(do)s
1296 X(32)s
1362 X(-bit)s
1481 X(arithmetic)s
1781 X(from)s
1937 X(shell)s
600 X
2753 Y(scripts)s
806 X(is)s
882 X(to)s
965 X(use)s
1084 X
f.I 10 Z(awk)s
f.R 10 Z(,)s
1238 X(which)s
1431 X(likewise)s
1685 X(tends)s
1856 X(to)s
1938 X(have)s
600 X
2826 Y(considerable)s
967 X(startup)s
1178 X(overhead)s
1422 X(.)s
1490 X(With)s
1653 X(some)s
1823 X(care,)s
1982 X(the)s
600 X
2899 Y(performance)s
991 X(impact)s
1228 X(was)s
1386 X(tolerable,)s
1692 X(although)s
1979 X(not)s
600 X
2972 Y(entirely)s
827 X(pleasant)s
1047 X(.)s
600 X
3066 Y
744 X(What)s
912 X(we)s
1013 X(had)s
1132 X(not)s
1241 X(anticipated)s
1560 X(was)s
1688 X(that)s
1813 X(every)s
1985 X(lit-)s
600 X
3139 Y(tle)s
696 X
f.R 8 Z(UNIX)s
859 X
f.R 10 Z(variant)s
1076 X(has)s
1196 X(its)s
1291 X(own)s
1436 X(different,)s
1714 X(incompatible)s
600 X
3212 Y
f.I 10 Z(df)s
679 X
f.R 10 Z(output)s
876 X(format)s
1054 X(.)s
1120 X(Even)s
1284 X(``consider)s
1582 X(it)s
1648 X(standard'')s
1946 X(Sys-)s
600 X
3285 Y(tem)s
736 X(V)s
819 X(has)s
943 X(at)s
1027 X(least)s
1185 X(three)s
1319 X(.)s
1392 X(The)s
1530 X(importance)s
1865 X(of)s
1954 X(pro-)s
600 X
3358 Y(gram)s
764 X
f.I 10 Z(output)s
961 X
f.R 10 Z(being)s
1136 X(useful)s
1327 X(as)s
1411 X(program)s
1664 X
f.I 10 Z(input)s
1812 X
f.R 10 Z([Ritc78a])s
600 X
3431 Y(has)s
728 X(been)s
893 X(disregarded)s
1243 X(completely)s
1541 X(.)s
1619 X(In)s
1713 X(the)s
1834 X(end,)s
1986 X(we)s
600 X
3504 Y(found)s
795 X(that)s
937 X(while)s
1127 X(the)s
1250 X
f.I 10 Z(df)s
1343 X
f.R 10 Z(version)s
1580 X(remains)s
1834 X(useful\320)s
600 X
3577 Y(people)s
821 X(with)s
983 X(really)s
1179 X(odd)s
1321 X(systems)s
1576 X(can)s
1712 X(customize)s
2026 X(it)s
600 X
3650 Y(easily\320it)s
895 X(was)s
1032 X(best)s
1174 X(to)s
1260 X(also)s
1402 X(provide)s
1639 X(C)s
1717 X(variants)s
1963 X(that)s
600 X
3723 Y(use)s
721 X(the)s
835 X(three)s
1001 X(or)s
1088 X(four)s
1230 X(commonest)s
1570 X(space)s
1719 X(-determining)s
600 X
3796 Y(system)s
810 X(calls,)s
975 X(improving)s
1276 X(\(!\))s
1366 X(portability)s
1669 X(within)s
1864 X(a)s
1919 X(fairly)s
600 X
3869 Y(large)s
756 X(subset)s
945 X(of)s
1018 X
f.R 8 Z(UNIX)s
1172 X
f.R 10 Z(variants)s
1384 X(.)s
600 X
3996 Y
1023 X
f.B 10 Z(Levels)s
1227 X(of)s
1304 X(Abstraction)s
600 X
4105 Y
744 X
f.R 10 Z(In)s
841 X(general,)s
1098 X(avoiding)s
1374 X(problems)s
1665 X(is)s
1753 X(better)s
1949 X(than)s
600 X
4178 Y(solving)s
839 X(them)s
973 X(.)s
1055 X(The)s
1202 X(best)s
1353 X(way)s
1507 X(to)s
1602 X(solve)s
1785 X(portability)s
600 X
4251 Y(problems)s
879 X(is)s
955 X(not)s
1071 X(to)s
1155 X(get)s
1269 X(involved)s
1534 X(with)s
1685 X(them)s
1819 X(.)s
1890 X(Some-)s
600 X
4324 Y(times)s
791 X(they)s
951 X(can't)s
1130 X(be)s
1238 X(avoided,)s
1510 X(but)s
1639 X(often)s
1820 X(a)s
1894 X(bit)s
2009 X(of)s
600 X
4397 Y(ingenuity)s
874 X(suf\256ces)s
1100 X(to)s
1174 X(\256nd)s
1299 X(a)s
1351 X(way)s
1484 X(around)s
1690 X(them)s
1824 X(.)s
600 X
4491 Y
744 X(The)s
870 X(most)s
1022 X(powerful)s
1284 X(way)s
1417 X(of)s
1494 X(avoiding)s
1749 X(problems)s
2019 X(is)s
600 X
4564 Y(to)s
690 X(choose)s
913 X(a)s
981 X(level)s
1149 X(of)s
1241 X(abstraction)s
1572 X(where)s
1772 X(they)s
1924 X(don't)s
600 X
4637 Y(show)s
781 X(up)s
847 X(.)s
927 X(The)s
1072 X
f.I 10 Z(ls)s
1158 X
f.R 10 Z(example)s
1426 X(earlier)s
1639 X(was)s
1784 X(a)s
1855 X(case)s
2012 X(in)s
600 X
4710 Y(point)s
737 X(.)s
810 X(The)s
948 X(standard)s
1204 X
f.R 8 Z(UNIX)s
1370 X
f.R 10 Z(shell)s
1531 X(is)s
1610 X(a)s
1673 X(very)s
1824 X(powerful)s
2256 X
448 Y(programming)s
2663 X(language,)s
2966 X(suf\256ciently)s
3312 X(removed)s
3591 X(from)s
2256 X
521 Y(the)s
2372 X(lower)s
2558 X(levels)s
2749 X(of)s
2838 X(the)s
2954 X(system)s
3174 X(that)s
3309 X(shell)s
3469 X(programs)s
2256 X
594 Y(are)s
2365 X(often)s
2529 X(highly)s
2726 X(portable)s
2945 X(.)s
3011 X(\(Gratuitous)s
3343 X(differences)s
3668 X(in)s
2256 X
667 Y(utility)s
2441 X(programs)s
2716 X(do)s
2806 X(get)s
2912 X(in)s
2988 X(the)s
3094 X(way,)s
3246 X(as)s
3326 X(do)s
3416 X(attempts)s
3668 X(to)s
2256 X
740 Y(``improve'')s
2596 X(the)s
2708 X(shell)s
2865 X(that)s
2996 X(result)s
3175 X(in)s
3257 X(subtle)s
3447 X(or)s
3532 X(not)s
3617 X(-so)s
3698 X(-)s
2256 X
813 Y(subtle)s
2439 X(incompatibiliti)s
2835 X(es,)s
2930 X(but)s
3037 X(this)s
3156 X(is)s
3223 X(usually)s
3438 X(a)s
3490 X(manage-)s
2256 X
886 Y(able)s
2390 X(problem)s
2612 X(.\))s
2256 X
980 Y
2400 X(The)s
2526 X(usual)s
2689 X(objection)s
2960 X(to)s
3035 X(shell)s
3185 X(programming)s
3570 X(is)s
3638 X(the)s
2256 X
1053 Y(inef\256ciency)s
2607 X(of)s
2697 X(the)s
2813 X(result,)s
3013 X(but)s
3132 X(a)s
3196 X(careful)s
3416 X(division)s
3665 X(of)s
2256 X
1126 Y(labor)s
2420 X(between)s
2670 X(the)s
2779 X(shell)s
2934 X(and)s
3058 X(the)s
3168 X(programs)s
3447 X(it)s
3513 X(invokes)s
2256 X
1199 Y(is)s
2329 X(all)s
2425 X(that)s
2554 X(is)s
2627 X(needed)s
2816 X(.)s
2883 X(Most)s
3048 X(of)s
3131 X(the)s
3240 X(C)s
3311 X(News)s
3490 X(batching)s
2256 X
1272 Y(subsystem)s
2565 X(is)s
2641 X(written)s
2862 X(in)s
2945 X(shell,)s
3120 X(but)s
3236 X(it)s
3306 X(remains)s
3550 X(highly)s
2256 X
1345 Y(ef\256cient,)s
2530 X(because)s
2779 X(most)s
2945 X(of)s
3036 X(its)s
3136 X(time)s
3292 X(is)s
3373 X(spent)s
3550 X(in)s
3638 X(the)s
2256 X
1418 Y(``)s
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(batcher)s
2620 X(|)s
2700 X(compress)s
3060 X(|)s
3140 X(uux)s
f.R 10 Z('')s
3347 X(pipeline,)s
3624 X(and)s
2256 X
1491 Y(those)s
2419 X(are)s
2523 X(all)s
2613 X(C)s
2679 X(programs)s
2930 X(.)s
2256 X
1585 Y
2400 X(Intermediate)s
2795 X(levels)s
3008 X(of)s
3119 X(abstraction,)s
3487 X(although)s
2256 X
1658 Y(harder)s
2467 X(to)s
2560 X(\256nd,)s
2721 X(do)s
2828 X(exist)s
2955 X(.)s
3035 X(Substantial)s
3373 X(pieces)s
3581 X(of)s
3676 X(C)s
2256 X
1731 Y(News)s
2430 X(are)s
2534 X(coded)s
2715 X(in)s
2789 X
f.I 10 Z(awk)s
2907 X
f.R 10 Z([Spen91a])s
3202 X(where)s
3388 X(ef\256ciency)s
3675 X(is)s
2256 X
1804 Y(not)s
2363 X(crucial)s
2568 X(and)s
2686 X(requirements)s
3057 X(permit)s
3232 X(.)s
2256 X
1898 Y
2400 X(One)s
2539 X(situation)s
2798 X(where)s
2989 X(high)s
3107 X(-level)s
3289 X(abstractions)s
3638 X(are)s
2256 X
1971 Y(particularly)s
2591 X(bene\256cial)s
2878 X(is)s
2949 X(when)s
3118 X(one)s
3239 X(must)s
3394 X(step)s
3527 X(outside)s
2256 X
2044 Y(``common)s
2586 X(base)s
2754 X
f.R 8 Z(UNIX)s
f.R 10 Z('')s
2930 X(.)s
3022 X(Common)s
3322 X(base)s
3490 X
f.R 8 Z(UNIX)s
3675 X
f.R 10 Z(is)s
2256 X
2117 Y(essentially)s
2568 X(Version)s
2807 X(7)s
2851 X([Labo82a],)s
3172 X(though)s
3383 X(the)s
3492 X(later)s
3639 X(V7)s
2256 X
2190 Y(innovations)s
2590 X(have)s
2739 X(taken)s
2907 X(a)s
2960 X(while)s
3132 X(to)s
3207 X(\256nd)s
3334 X(their)s
3481 X(way)s
3616 X(into)s
2256 X
2263 Y(System)s
2484 X(V)s
2563 X(\(and)s
2712 X(some)s
2884 X(have)s
3041 X(never)s
3219 X(done)s
3378 X(so\))s
3459 X(.)s
3528 X(POSIX)s
2256 X
2336 Y(1003)s
2388 X(.1)s
2449 X([Engi90a])s
2737 X(is)s
2804 X(mostly)s
3008 X(an)s
3093 X(attempt)s
3317 X(to)s
3391 X(codify)s
3583 X(com-)s
2256 X
2409 Y(mon)s
2406 X(base)s
2553 X
f.R 8 Z(UNIX)s
2685 X
f.R 10 Z(.)s
2756 X(Unfortunately,)s
3178 X(common)s
3442 X(base)s
3588 X
f.R 8 Z(UNIX)s
2256 X
2482 Y
f.R 10 Z(did)s
2373 X(not)s
2490 X(address)s
2723 X(some)s
2897 X(issues)s
3090 X(at)s
3172 X(all,)s
3290 X(notably)s
3523 X(dealing)s
2256 X
2555 Y(with)s
2406 X(real)s
2507 X(-time)s
2680 X(networks)s
2954 X(like)s
3085 X(the)s
3197 X(Internet)s
3405 X(.)s
3474 X(Attempts)s
2256 X
2628 Y(to)s
2339 X(de\256ne)s
2534 X(interfaces)s
2827 X(for)s
2936 X(real)s
3037 X(-time)s
3211 X(networks)s
3466 X([Divi83a,)s
2256 X
2701 Y(ATT86a])s
2546 X(have)s
2714 X(generally)s
3005 X(resulted)s
3259 X(in)s
3353 X(complex)s
3624 X(and)s
2256 X
2774 Y(ugly)s
2396 X(messes)s
2586 X(.)s
2753 Y
f.I 8 Z(7)s
2774 Y
2652 X
f.R 10 Z(Worse,)s
2865 X(there)s
3021 X(is)s
3088 X(no)s
3176 X(consensus)s
3468 X(on)s
3557 X(which)s
2256 X
2847 Y(one)s
2388 X(to)s
2476 X(use,)s
2618 X(and)s
2749 X(the)s
2866 X(quality)s
3087 X(of)s
3177 X(the)s
3294 X(designs)s
3529 X(can)s
3657 X(be)s
2256 X
2920 Y(judged)s
2496 X(by)s
2621 X(the)s
2762 X(rate)s
2923 X(at)s
3032 X(which)s
3255 X(they)s
3430 X(are)s
3572 X(being)s
2256 X
2993 Y(redesigned)s
2610 X(to)s
2727 X(deal)s
2904 X(with)s
3087 X(unexpected)s
3455 X(problems)s
3703 X(.)s
2256 X
3066 Y(Although)s
2554 X(higher)s
2724 X(-level)s
2924 X(abstractions)s
3292 X(for)s
3417 X(networking)s
2256 X
3139 Y(are)s
2382 X(not)s
2511 X(as)s
2611 X(common)s
2888 X(or)s
2987 X(as)s
3087 X(well)s
3203 X(-designed)s
3506 X(as)s
3605 X(they)s
2256 X
3212 Y(should)s
2462 X(be,)s
2571 X(networked)s
2881 X(\256le)s
2996 X(systems)s
3237 X(and)s
3363 X(shell)s
3520 X(invoca-)s
2256 X
3285 Y(tion)s
2395 X(of)s
2485 X(programs)s
2771 X(like)s
2907 X
f.I 10 Z(rsh)s
3027 X
f.R 10 Z(can)s
3154 X(provide)s
3391 X(limited)s
3616 X(net-)s
2256 X
3358 Y(working)s
2515 X(functionality)s
2896 X(without)s
3139 X(having)s
3359 X(to)s
3450 X(deal)s
3601 X(with)s
2256 X
3431 Y(the)s
2360 X(underlying)s
2670 X(mess)s
2804 X(.)s
2256 X
3525 Y
2400 X(A)s
2475 X(side)s
2610 X(bene\256t)s
2819 X(of)s
2901 X(high)s
3019 X(-level)s
3199 X(abstractions)s
3546 X(is)s
3619 X(that)s
2256 X
3598 Y(the)s
2379 X(resulting)s
2654 X(programs)s
2946 X(are)s
3068 X(generally)s
3357 X(far)s
3471 X(easier)s
3668 X(to)s
2256 X
3671 Y(modify)s
2473 X(and)s
2595 X(customize)s
2867 X(.)s
2932 X(This)s
3077 X(is)s
3148 X(a)s
3204 X(particularly)s
3539 X(impor-)s
2256 X
3744 Y(tant)s
2382 X(consideration)s
2767 X(for)s
2869 X(software)s
3124 X(intended)s
3379 X(to)s
3455 X(be)s
3542 X(run)s
3654 X(on)s
2256 X
3817 Y(many)s
2438 X(systems)s
2684 X(with)s
2837 X(varying)s
3075 X(administrative)s
3494 X(policies)s
3703 X(.)s
2256 X
3890 Y(Many)s
2437 X(system)s
2649 X(administrators)s
3058 X(who)s
3198 X(are)s
3306 X(not)s
3417 X(up)s
3509 X(to)s
3586 X(deci-)s
2256 X
3963 Y(phering)s
2488 X(a)s
2547 X(5000)s
2679 X(-line)s
2832 X(C)s
2906 X(program)s
3161 X(can)s
3284 X(cope)s
3440 X(quite)s
3604 X(well)s
2256 X
4036 Y(with)s
2420 X(modifying)s
2742 X(a)s
2817 X(50)s
2883 X(-line)s
3051 X(shell)s
3223 X(script)s
3372 X(.)s
3456 X(We)s
3594 X(have)s
2256 X
4109 Y(made)s
2435 X(a)s
2499 X(conscious)s
2796 X(effort)s
2978 X(to)s
3064 X(put)s
3183 X(policy)s
3384 X(decisions)s
3668 X(in)s
2256 X
4182 Y(shell)s
2414 X(scripts,)s
2636 X(not)s
2751 X(in)s
2833 X(C)s
2907 X(code,)s
3080 X(wherever)s
3358 X(possible,)s
3624 X(and)s
2256 X
4255 Y(have)s
2418 X(had)s
2550 X(extensive)s
2839 X(and)s
2972 X(loud)s
3127 X(positive)s
3376 X(feedback)s
3654 X(on)s
2256 X
4328 Y(this)s
2353 X(.)s
2256 X
4593 Y
f.R 16 Z
720 0 l
2256 X
4639 Y
2300 X
f.I 8 Z(7)s
4660 Y
f.R 9 Z(There)s
2509 X(are)s
2624 X(occasional)s
2921 X(exceptions)s
3221 X(like)s
3354 X(V10)s
3499 X(Research)s
2256 X
4727 Y
f.R 7 Z(UNIX)s
2384 X
f.R 9 Z([Cent90a])s
2645 X(that)s
2756 X(are)s
2850 X(useful)s
3017 X(sources)s
3217 X(of)s
3287 X(interface)s
3519 X(ideas)s
3643 X(.)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(191)s
5280 Y
pagebot

%%Page: 192 8
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
504 X
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(There)s
696 X(is)s
777 X(one)s
909 X(negative)s
1172 X(aspect)s
1376 X(to)s
1465 X(moving)s
1705 X(to)s
1794 X(a)s
360 X
521 Y(higher)s
565 X(level)s
731 X(of)s
820 X(abstraction:)s
1189 X(the)s
1305 X(resulting)s
1573 X(programs)s
360 X
679 Y
3120 0 l
360 X
754 Y
408 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 8 Z(#ifdef)s
632 X(SYSLOG)s
360 X
821 Y
408 X(#ifdef)s
632 X(BSD_42)s
360 X
888 Y
536 X(openlog\("nntpx)s
984 X(fer",)s
1176 X(LOG_PID\);)s
360 X
955 Y
408 X(#else)s
360 X
1022 Y
536 X(openlog\("nntpx)s
984 X(fer",)s
1176 X(LOG_PID,)s
1464 X(SYSLOG\);)s
360 X
1089 Y
408 X(#endif)s
360 X
1156 Y
408 X(#endif)s
360 X
1290 Y
408 X(#ifdef)s
632 X(DBM)s
360 X
1357 Y
536 X(if)s
632 X(\(dbminit\(HISTOR)s
1112 X(Y_FILE\))s
1368 X(<)s
1432 X(0\))s
360 X
1424 Y
664 X({)s
360 X
1491 Y
408 X(#ifdef)s
632 X(SYSLOG)s
360 X
1558 Y
664 X(syslog\(LOG_ERR)s
1112 X(,"couldn't)s
1464 X(open)s
1624 X(history)s
1880 X(file:)s
2072 X(%m"\);)s
360 X
1625 Y
408 X(#else)s
360 X
1692 Y
664 X(perror\("nntpxf)s
1112 X(er:)s
1240 X(couldn't)s
1528 X(open)s
1688 X(history)s
1944 X(file"\);)s
360 X
1759 Y
408 X(#endif)s
360 X
1826 Y
664 X(exit\(1\);)s
360 X
1893 Y
664 X(})s
360 X
1960 Y
408 X(#endif)s
360 X
2027 Y
408 X(#ifdef)s
632 X(NDBM)s
360 X
2094 Y
536 X(if)s
632 X(\(\(db)s
792 X(=)s
856 X(dbm_open\(HISTOR)s
1336 X(Y_FILE,)s
1592 X(O_RDONLY,)s
1912 X(0\)\))s
2040 X(==)s
2136 X(NULL\))s
360 X
2161 Y
664 X({)s
360 X
2228 Y
408 X(#ifdef)s
632 X(SYSLOG)s
360 X
2295 Y
664 X(syslog\(LOG_ERR)s
1112 X(,"couldn't)s
1464 X(open)s
1624 X(history)s
1880 X(file:)s
2072 X(%m"\);)s
360 X
2362 Y
408 X(#else)s
360 X
2429 Y
664 X(perror\("nntpxf)s
1112 X(er:)s
1240 X(couldn't)s
1528 X(open)s
1688 X(history)s
1944 X(file"\);)s
360 X
2496 Y
408 X(#endif)s
360 X
2563 Y
664 X(exit\(1\);)s
360 X
2630 Y
664 X(})s
360 X
2697 Y
408 X(#endif)s
360 X
2764 Y
536 X(if)s
632 X(\(\(server)s
920 X(=)s
984 X(get_tcp_conn\(ar)s
1464 X(gv[1],"nntp"\)\))s
1944 X(<)s
2008 X(0\))s
360 X
2831 Y
664 X({)s
360 X
2898 Y
408 X(#ifdef)s
632 X(SYSLOG)s
360 X
2965 Y
664 X(syslog\(LOG_ERR)s
1112 X(,"could)s
1368 X(not)s
1496 X(open)s
1656 X(socket:)s
1912 X(%m"\);)s
360 X
3032 Y
408 X(#else)s
360 X
3099 Y
664 X(perror\("nntpxf)s
1112 X(er:)s
1240 X(could)s
1432 X(not)s
1560 X(open)s
1720 X(socket"\);)s
360 X
3166 Y
408 X(#endif)s
360 X
3233 Y
664 X(exit\(1\);)s
360 X
3300 Y
664 X(})s
360 X
3367 Y
536 X(if)s
632 X(\(\(rd_fp)s
888 X(=)s
952 X(fdopen\(server,")s
1432 X(r"\)\))s
1592 X(==)s
1688 X(\(FILE)s
1880 X(*\))s
1976 X(0\){)s
360 X
3434 Y
408 X(#ifdef)s
632 X(SYSLOG)s
360 X
3501 Y
664 X(syslog\(LOG_ERR)s
1112 X(,"could)s
1368 X(not)s
1496 X(fdopen)s
1720 X(socket:)s
1976 X(%m"\);)s
360 X
3568 Y
408 X(#else)s
360 X
3635 Y
664 X(perror\("nntpxf)s
1112 X(er:)s
1240 X(could)s
1432 X(not)s
1560 X(fdopen)s
1784 X(socket"\);)s
360 X
3702 Y
408 X(#endif)s
360 X
3769 Y
664 X(exit\(1\);)s
360 X
3836 Y
664 X(})s
360 X
3970 Y
408 X(#ifdef)s
632 X(SYSLOG)s
360 X
4037 Y
536 X(syslog\(LOG_DEB)s
984 X(UG,"connected)s
1432 X(to)s
1528 X(nntp)s
1688 X(server)s
1912 X(at)s
2008 X(%s",)s
2168 X(argv[1]\);)s
360 X
4104 Y
408 X(#endif)s
360 X
4171 Y
408 X(#ifdef)s
632 X(DEBUG)s
360 X
4238 Y
536 X(printf\("connec)s
984 X(ted)s
1112 X(to)s
1208 X(nntp)s
1368 X(server)s
1592 X(at)s
1688 X(%s\\n",)s
1912 X(argv[1]\);)s
360 X
4305 Y
408 X(#endif)s
360 X
4372 Y
536 X(/*)s
360 X
4439 Y
536 X(*)s
600 X(ok,)s
728 X(at)s
824 X(this)s
984 X(point)s
1176 X(we're)s
1368 X(connected)s
1688 X(to)s
1784 X(the)s
1912 X(nntp)s
2072 X(daemon)s
360 X
4506 Y
536 X(*)s
600 X(at)s
696 X(the)s
824 X(distant)s
1080 X(host)s
1208 X(.)s
360 X
4573 Y
536 X(*/)s
360 X
4685 Y
1506 X
f.B 10 Z(Figure)s
1718 X(8)s
f.R 10 Z(:)s
1814 X(A)s
1884 X(truly)s
2032 X(awful)s
2206 X(style)s
360 X
594 Y(depend)s
582 X(on)s
678 X(a)s
738 X(larger)s
924 X(and)s
1051 X(perhaps)s
1289 X(more)s
1457 X(fragile)s
1663 X(set)s
1769 X(of)s
2016 X
448 Y(underlying)s
2335 X(abstractions)s
2655 X(.)s
2725 X(Porting)s
2952 X(C)s
3027 X(News)s
3210 X(to)s
3293 X(a)s
3354 X(radi-)s
2016 X
521 Y(cally)s
2170 X(non)s
2269 X(-)s
f.R 8 Z(UNIX)s
2423 X
f.R 10 Z(-like)s
2570 X(operating)s
2846 X(system)s
3056 X(reportedly)s
3354 X(typi-)s
2016 X
594 Y(cally)s
2175 X(involves)s
2429 X(little)s
2582 X(change)s
2799 X(to)s
2879 X(the)s
2989 X(C)s
3061 X(code,)s
3232 X(since)s
3398 X(the)s
360 X
4967 Y
f.B 10 Z(192)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 193 9
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 8 Z(UNIX)s
762 X
f.R 10 Z(and)s
888 X(C)s
962 X(programming)s
1355 X(interfaces)s
1647 X(are)s
1760 X(widespread)s
600 X
521 Y(even)s
752 X(on)s
844 X(non)s
943 X(-)s
f.R 8 Z(UNIX)s
1123 X
f.R 10 Z(systems,)s
1378 X(but)s
1488 X(substantial)s
1800 X(shell)s
1952 X(\256les)s
600 X
594 Y(relying)s
812 X(on)s
901 X(dozens)s
1109 X(of)s
1187 X(major)s
1362 X
f.R 8 Z(UNIX)s
1517 X
f.R 10 Z(utilities)s
1743 X(are)s
1848 X(more)s
2009 X(of)s
600 X
667 Y(a)s
663 X(challenge)s
920 X(.)s
992 X(There)s
1180 X(is)s
1257 X(also)s
1397 X(the)s
1511 X(problem,)s
1782 X(mentioned)s
600 X
740 Y(earlier,)s
817 X(of)s
896 X
f.R 8 Z(UNIX)s
1056 X
f.R 10 Z(suppliers)s
1326 X(breaking)s
1588 X(formerly)s
1821 X(-working)s
600 X
813 Y(utilities)s
803 X(.)s
600 X
940 Y
1015 X
f.B 10 Z(Low)s
1140 X(-Level)s
1340 X(Portability)s
600 X
1049 Y
744 X
f.R 10 Z(We)s
866 X(assume)s
1092 X(that)s
1222 X(everyone)s
1495 X(reading)s
1724 X(this)s
1850 X(has)s
1968 X(had)s
600 X
1122 Y(exposure)s
881 X(to)s
974 X(elementary)s
1313 X(notions)s
1549 X(of)s
1644 X(portability)s
1963 X(like)s
600 X
1195 Y(using)s
786 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(typedef)s
1022 X
f.R 10 Z(names,)s
1252 X(avoiding)s
1528 X(stupid)s
1734 X(assumptions)s
600 X
1268 Y(about)s
789 X(the)s
912 X(sizes)s
1084 X(of)s
1180 X(integers)s
1433 X(and/or)s
1644 X(pointers,)s
1916 X(being)s
600 X
1341 Y(careful)s
813 X(about)s
988 X(byte)s
1131 X(order)s
1299 X(in)s
1379 X(interchange)s
1719 X(formats,)s
1968 X(etc)s
2047 X(.)s
600 X
1414 Y(There)s
784 X(are)s
894 X(nevertheless)s
1253 X(a)s
1311 X(good)s
1471 X(many)s
1646 X(\256ne)s
1773 X(points)s
1963 X(that)s
600 X
1487 Y(deserve)s
827 X(some)s
991 X(illumination,)s
1359 X(particularly)s
1691 X(in)s
1767 X(the)s
1873 X(area)s
2009 X(of)s
600 X
1560 Y(how)s
736 X(to)s
810 X(use)s
921 X
f.B 10 Z(#ifdef)s
1106 X
f.R 10 Z(safely)s
1266 X(.)s
600 X
1654 Y
744 X(As)s
843 X(mentioned)s
1150 X(earlier,)s
1364 X(if)s
1430 X
f.B 10 Z(#ifdef)s
1618 X
f.R 10 Z(is)s
1689 X(needed)s
1904 X(at)s
1979 X(all,)s
600 X
1727 Y(it)s
666 X(is)s
739 X(best)s
875 X(con\256ned)s
1132 X(to)s
1211 X(declarations,)s
1579 X(to)s
1658 X(try)s
1759 X(to)s
1838 X(preserve)s
600 X
1800 Y(some)s
782 X(explicit)s
1025 X(notion)s
1236 X(of)s
1332 X(interfaces)s
1593 X(.)s
1673 X(Such)s
1848 X(declara-)s
600 X
1873 Y(tions,)s
797 X(in)s
899 X(turn,)s
1073 X(preferably)s
1396 X(should)s
1622 X(be)s
1734 X(con\256ned)s
2012 X(to)s
600 X
1946 Y(header)s
801 X(\()s
823 X
f.B 10 Z(.h)s
f.R 10 Z(\))s
922 X(\256les,)s
1074 X(to)s
1149 X(minimize)s
1426 X(the)s
1531 X(temptation)s
1841 X(to)s
1916 X(intro-)s
600 X
2019 Y(duce)s
748 X
f.B 10 Z(#ifdef)s
933 X
f.R 10 Z(into)s
1059 X(main)s
1193 X(-line)s
1338 X(code)s
1464 X(.)s
600 X
2113 Y
744 X(An)s
862 X(optional)s
1119 X(feature)s
1343 X(such)s
1503 X(as)s
1597 X(debugging)s
1915 X(assis-)s
600 X
2186 Y(tance)s
769 X(or)s
851 X(logging)s
1081 X(can)s
1201 X(be)s
1290 X(de\256ned)s
1512 X(as)s
1594 X(a)s
1650 X(macro)s
1843 X(or)s
1924 X(func-)s
600 X
2259 Y(tion)s
743 X(that)s
883 X(does)s
1044 X(nothing)s
1286 X(when)s
1469 X(not)s
1593 X(needed,)s
1838 X(else)s
1982 X(the)s
600 X
2332 Y(full)s
693 X(-blown)s
904 X(function)s
1148 X(can)s
1263 X(be)s
1348 X(de\256ned)s
1566 X(\(perhaps)s
1817 X(in)s
1891 X(one)s
2009 X(of)s
600 X
2405 Y(several)s
812 X(system)s
998 X(-speci\256c)s
1247 X(ways,)s
1423 X(e)s
1453 X(.g)s
1503 X(.)s
1542 X(using)s
1708 X(a)s
1760 X
f.I 10 Z(syslog)s
1949 X
f.R 10 Z(dae-)s
600 X
2478 Y(mon)s
747 X(or)s
831 X(not\))s
938 X(.)s
1006 X(At)s
1102 X(worst,)s
1296 X(this)s
1421 X(requires)s
1664 X(one)s
1788 X
f.B 10 Z(#ifdef)s
1979 X
f.R 10 Z(per)s
600 X
2551 Y(such)s
767 X(feature)s
998 X(rather)s
1199 X(than)s
1359 X(the)s
1487 X(now)s
1601 X(-notorious)s
1920 X(style,)s
600 X
2624 Y(seen)s
741 X(in)s
815 X(various)s
1033 X(bits)s
1152 X(of)s
1229 X(popular)s
1454 X(software,)s
1723 X(of)s
1800 X(clustering)s
600 X
2697 Y
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
822 X(at)s
904 X(the)s
1019 X(site)s
1146 X(of)s
1234 X(each)s
1390 X
f.I 10 Z(call)s
1524 X
f.R 10 Z(of)s
1613 X(said)s
1755 X(function\(s\),)s
600 X
2770 Y(see)s
708 X(Figure)s
904 X(8)s
937 X(.)s
600 X
2864 Y
744 X(One)s
888 X(awkward)s
1165 X(area)s
2843 Y
f.I 8 Z(8)s
2864 Y
1337 X
f.R 10 Z(is)s
1415 X(functions)s
1696 X(with)s
1848 X(variable)s
600 X
2937 Y(numbers)s
851 X(of)s
928 X(arguments)s
1206 X(.)s
1267 X(There)s
1445 X(is)s
1512 X(no)s
1600 X(way)s
1733 X(to)s
1807 X(write)s
1967 X(a)s
2020 X(C)s
600 X
3010 Y(macro)s
791 X(that)s
916 X(can)s
1033 X(take)s
1169 X(a)s
1223 X(variable)s
1463 X(number)s
1690 X(of)s
1769 X(arguments,)s
600 X
3083 Y(which)s
795 X(makes)s
999 X(it)s
1070 X(awkward)s
1347 X(to)s
1432 X(provide)s
1668 X(such)s
1823 X(an)s
1919 X(inter-)s
600 X
3156 Y(face)s
736 X(while)s
909 X(still)s
1035 X(being)s
1207 X(able)s
1343 X(to)s
1419 X(hide)s
1558 X(the)s
1664 X(innards)s
1860 X(.)s
1923 X(Vari-)s
600 X
3229 Y(ous)s
718 X(tricks)s
893 X(are)s
1001 X(in)s
1079 X(use,)s
1211 X(none)s
1366 X(of)s
1447 X(them)s
1608 X(entirely)s
1840 X(satisfac-)s
600 X
3302 Y(tory;)s
750 X(perhaps)s
981 X(the)s
1087 X(least)s
1235 X(objectionable)s
1620 X(is)s
1689 X(an)s
1776 X(extra)s
1933 X(level)s
600 X
3375 Y(of)s
677 X(parentheses:)s
600 X
3477 Y
648 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(DEBUG\(\("oops:)s
1208 X(%s)s
1328 X(%d\\n",)s
1608 X(b,)s
1728 X(c\)\);)s
600 X
3579 Y
f.R 10 Z(which)s
789 X(lets)s
909 X(a)s
965 X(header)s
1169 X(\256le)s
1281 X(decide)s
1482 X(to)s
1560 X(either)s
1740 X(pass)s
1882 X(or)s
1964 X(dis-)s
600 X
3652 Y(card)s
737 X(the)s
841 X(whole)s
1026 X(argument)s
1300 X(list:)s
600 X
3754 Y
648 X
f.CW 10 Z(#ifdef)s
928 X(NDEBUG)s
600 X
3827 Y
648 X(#)s
768 X(define)s
1088 X(DEBUG\(list\))s
1608 X(/*)s
1728 X(nothing)s
2048 X(*/)s
600 X
3900 Y
648 X(#else)s
600 X
3973 Y
648 X(#)s
768 X(define)s
1088 X(DEBUG\(list\))s
1608 X(printf)s
1888 X(list)s
600 X
4046 Y
648 X(#endif)s
600 X
4169 Y
744 X
f.R 10 Z(A)s
846 X(related)s
1083 X(problem)s
1359 X(is)s
1458 X(that)s
1613 X(de\256nition)s
1924 X(of)s
2034 X(a)s
600 X
4242 Y(variable)s
816 X(-arguments)s
1162 X(function)s
1430 X(pretty)s
1632 X(well)s
1793 X(invariably)s
600 X
4315 Y(involves)s
849 X(some)s
1013 X
f.B 10 Z(#ifdef)s
f.R 10 Z(ing)s
1284 X(to)s
1359 X(cope)s
1508 X(with)s
1651 X(the)s
1757 X(unfortunate)s
600 X
4388 Y(differences)s
926 X(between)s
1178 X(ANSI)s
1362 X(C)s
1435 X
f.I 10 Z(stdarg)s
1605 X(.h)s
1684 X
f.R 10 Z(and)s
1809 X(the)s
1919 X(tradi-)s
600 X
4461 Y(tional)s
775 X(\(although)s
1052 X(less)s
1175 X(portable\))s
1438 X
f.I 10 Z(varargs)s
1645 X(.h)s
1695 X
f.R 10 Z(.)s
600 X
4593 Y
f.R 16 Z
720 0 l
600 X
4639 Y
644 X
f.I 8 Z(8)s
4660 Y
f.R 9 Z(Actually,)s
914 X(it's)s
1011 X(awkward)s
1251 X(in)s
1318 X(a)s
1366 X(great)s
1508 X(many)s
1663 X(ways,)s
1822 X(this)s
1930 X(being)s
600 X
4727 Y(only)s
727 X(one)s
814 X(.)s
2256 X
448 Y
2400 X
f.R 10 Z(Although)s
2679 X(macros)s
2900 X(cannot)s
3106 X(take)s
3246 X(variable)s
3491 X(numbers)s
2256 X
521 Y(of)s
2343 X(arguments,)s
2670 X(it)s
2740 X
f.I 10 Z(is)s
2817 X
f.R 10 Z(still)s
2950 X(possible)s
3200 X(to)s
3283 X(have)s
3440 X(them)s
3605 X(pick)s
2256 X
594 Y(and)s
2392 X(choose)s
2618 X(among)s
2840 X(a)s
2911 X(\256xed)s
3085 X(number)s
3329 X(of)s
3425 X(arguments)s
3703 X(.)s
2256 X
667 Y(For)s
2372 X(example,)s
2640 X(the)s
2746 X(VERBOSE)s
3049 X(-TERSE)s
3299 X(business)s
3549 X(in)s
3624 X(one)s
2256 X
740 Y(of)s
2333 X(our)s
2443 X(\256rst)s
2569 X(exhibits,)s
2820 X(an)s
2905 X(attempt)s
3129 X(to)s
3203 X(avoid)s
3374 X(compiling)s
3668 X(in)s
2256 X
813 Y(unneeded)s
2533 X(strings,)s
2750 X(can)s
2865 X(be)s
2950 X(handled)s
3183 X(with)s
3324 X(a)s
3376 X(macro:)s
2256 X
915 Y
2304 X
f.CW 10 Z(MSG\(short_form,)s
2944 X(long_form,)s
3384 X(iostream\))s
2256 X
1017 Y
f.R 10 Z(A)s
2345 X(short)s
2478 X(-form)s
2629 X(-only)s
2810 X(de\256nition)s
3108 X(of)s
3205 X(the)s
3329 X(macro)s
3538 X(simply)s
2256 X
1090 Y(doesn't)s
2475 X(use)s
2587 X(the)s
2692 X
f.I 10 Z(long_form)s
2991 X
f.R 10 Z(argument)s
3243 X(.)s
3304 X(The)s
3430 X(choice)s
3627 X(can)s
2256 X
1163 Y(even)s
2410 X(be)s
2501 X(made)s
2674 X(at)s
2751 X(run)s
2867 X(time)s
3015 X(using)s
3187 X
f.I 10 Z(if)s
3253 X
f.R 10 Z(or)s
3336 X(the)s
3447 X(`?')s
3550 X(opera-)s
2256 X
1236 Y(tor,)s
2369 X(all)s
2459 X(by)s
2547 X(changing)s
2813 X(only)s
2953 X(the)s
3057 X
f.I 10 Z(de\256nition)s
3331 X
f.R 10 Z(of)s
3408 X(the)s
3512 X(macro)s
3679 X(.)s
2256 X
1330 Y
2400 X(One)s
2541 X(valid)s
2705 X(use)s
2824 X(of)s
2909 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
3119 X(particularly)s
3459 X(in)s
3542 X(header)s
2256 X
1403 Y(\256les,)s
2407 X(is)s
2474 X(the)s
2578 X(idiom)s
2256 X
1505 Y
2304 X
f.CW 10 Z(#ifndef)s
2624 X(COPYSIZE)s
2256 X
1578 Y
2304 X(#define)s
2624 X(COPYSIZE)s
2984 X(8192)s
2256 X
1651 Y
2584 X(/*)s
2704 X(unit)s
2904 X(of)s
3024 X(copying)s
3344 X(*/)s
2256 X
1724 Y
2304 X(#endif)s
2256 X
1826 Y
f.R 10 Z(to)s
2339 X(supply)s
2547 X(a)s
2608 X(default)s
2825 X(value)s
3001 X(that)s
3133 X(can)s
3257 X(be)s
3351 X(overridden)s
3671 X(at)s
2256 X
1899 Y(compilation)s
2625 X(time)s
2793 X(\(with)s
2982 X
f.B 10 Z(cc)s
3090 X(\261DCOPYSIZE=409)s
3648 X(6)s
f.R 10 Z(\))s
3703 X(.)s
2256 X
1972 Y(One)s
2391 X(could)s
2563 X(wish)s
2713 X(for)s
2814 X(a)s
2868 X(shorter)s
3077 X(form)s
3231 X(\(e)s
3283 X(.g)s
3333 X(.,)s
3392 X
f.B 10 Z(#ifndefdef)s
f.R 10 Z(\),)s
2256 X
2045 Y(or)s
2338 X(even)s
2491 X(a)s
2548 X(compiler)s
2813 X(option)s
3010 X(allowing)s
3271 X(one)s
3393 X(to)s
3471 X(specify)s
3690 X(a)s
2256 X
2118 Y(value)s
2428 X(that)s
2556 X(overrides)s
2831 X(the)s
2940 X(\256rst)s
3072 X(one)s
3196 X(de\256ned)s
3420 X(in)s
3500 X(the)s
3610 X(pro-)s
2256 X
2191 Y(gram,)s
2432 X(since)s
2592 X(this)s
2711 X(idiom)s
2889 X(is)s
2956 X(common)s
3211 X(and)s
3329 X(very)s
3469 X(useful)s
3632 X(.)s
2256 X
2285 Y
2400 X(However,)s
2694 X(the)s
2809 X(\256rst)s
2947 X(question)s
3207 X(to)s
3293 X(ask)s
3416 X(about)s
3598 X(such)s
2256 X
2358 Y(numeric)s
2504 X(parameters)s
2827 X(is)s
2901 X(whether)s
3145 X(they)s
3289 X(should)s
3495 X(be)s
3586 X(there)s
2256 X
2431 Y(at)s
2327 X(all)s
2395 X(.)s
2456 X(Consider:)s
2256 X
2533 Y
2304 X
f.CW 10 Z(#ifdef)s
2584 X(pdp11)s
2256 X
2606 Y
2304 X(#define)s
2624 X(LBUFLEN)s
2944 X(512)s
2256 X
2679 Y
2584 X(/*)s
2704 X(line)s
2904 X(buffer)s
3184 X(length)s
3464 X(*/)s
2256 X
2752 Y
2304 X(#else)s
2256 X
2825 Y
2304 X(#define)s
2624 X(LBUFLEN)s
2944 X(1024)s
2256 X
2898 Y
2584 X(/*)s
2704 X(line)s
2904 X(buffer)s
3184 X(length)s
3464 X(*/)s
2256 X
2971 Y
2304 X(#endif)s
2256 X
3073 Y
f.R 10 Z(This)s
2406 X(code)s
2564 X(presumes)s
2848 X(that)s
2981 X(people)s
3191 X(on)s
3289 X(small)s
3467 X(machines)s
2256 X
3146 Y(\(or)s
2362 X(at)s
2440 X(least)s
2593 X(PDP)s
2715 X(-11s\))s
2880 X(prefer)s
3068 X(their)s
3220 X(programs)s
3499 X(to)s
3579 X(crash)s
2256 X
3219 Y(earlier)s
2466 X(than)s
2619 X(people)s
2835 X(on)s
2939 X(large)s
3111 X(machines)s
3364 X(.)s
3441 X(Any)s
3594 X(code)s
2256 X
3292 Y(using)s
2432 X(such)s
2586 X(\(unchecked\))s
2947 X(\256xed)s
3080 X(-sized)s
3272 X(buffers)s
3492 X(is)s
3569 X(prone)s
2256 X
3365 Y(to)s
2344 X(falling)s
2555 X(over)s
2709 X(and)s
2842 X(dying)s
3030 X(\(or)s
3144 X(at)s
3230 X(best)s
3375 X(mysteriously)s
2256 X
3438 Y(truncating)s
2579 X(or)s
2686 X(wrapping)s
2989 X(long)s
3159 X(lines\))s
3360 X(anyway;)s
3638 X(the)s
2256 X
3511 Y
f.B 10 Z(#ifdef)s
f.R 10 Z(s)s
2478 X(tip)s
2582 X(us)s
2674 X(off)s
2784 X(that)s
2918 X(these)s
3089 X(limits)s
3276 X(should)s
3486 X(be)s
3583 X(abol-)s
2256 X
3584 Y(ished)s
2454 X(and)s
2607 X(replaced)s
2891 X(with)s
3067 X(code)s
3250 X(that)s
3407 X(deals)s
3601 X(with)s
2256 X
3657 Y(dynamically)s
2587 X(-sized)s
2769 X(strings)s
2947 X(.)s
2256 X
3751 Y
2400 X(Another)s
2677 X(legitimate)s
3006 X(use)s
3154 X(of)s
3268 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
3507 X(in)s
3619 X(fact)s
2256 X
3824 Y(required)s
2505 X(by)s
2598 X(the)s
2707 X(ANSI)s
2889 X(C)s
2960 X(standard)s
3212 X(in)s
3290 X(standard)s
3542 X(header)s
2256 X
3897 Y(\256les,)s
2422 X(is)s
2504 X(in)s
2593 X(protecting)s
2902 X(header)s
3118 X(\256les)s
3268 X(against)s
3496 X(multiple)s
2256 X
3970 Y(inclusion)s
2501 X(.)s
2586 X(In)s
2686 X(complex)s
2961 X(programs)s
3257 X(it)s
3340 X(can)s
3478 X(be)s
3586 X(quite)s
2256 X
4043 Y(dif\256cult)s
2517 X(to)s
2618 X(ensure)s
2841 X(that)s
2992 X(a)s
3072 X(needed)s
3311 X(header)s
3539 X(\256le)s
3675 X(is)s
2256 X
4116 Y(included)s
2515 X(once)s
2670 X(and)s
2795 X(only)s
2942 X(once,)s
3113 X(and)s
3237 X(including)s
3517 X(it)s
3583 X(more)s
2256 X
4189 Y(than)s
2404 X(once)s
2563 X(typically)s
2831 X(causes)s
3039 X(problems)s
3321 X(with)s
3474 X(duplicate)s
2256 X
4262 Y
f.I 10 Z(typedef)s
f.R 10 Z(s,)s
2517 X(structure)s
2775 X(tags,)s
2924 X(etc)s
3003 X(.)s
3066 X(Ignoring)s
3318 X(some)s
3482 X(issues)s
3665 X(of)s
2256 X
4335 Y(name)s
2401 X(-space)s
2608 X(control,)s
2850 X(the)s
2969 X(usual)s
3147 X(idiom)s
3340 X(for)s
3454 X(defending)s
2256 X
4408 Y(header)s
2473 X(\256les)s
2624 X(against)s
2852 X(multiple)s
3114 X(inclusion)s
3397 X(goes)s
3557 X(some-)s
2256 X
4481 Y(thing)s
2415 X(like)s
2538 X(this:)s
2256 X
4583 Y
2304 X
f.CW 10 Z(#ifndef)s
2624 X(FOO_H)s
2256 X
4656 Y
2304 X(#define)s
2624 X(FOO_H)s
2864 X(1)s
2256 X
4729 Y
2304 X(/*)s
2424 X(interface)s
2824 X(to)s
2944 X(the)s
3104 X(foo)s
3264 X(module)s
3544 X(*/)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(193)s
5280 Y
pagebot

%%Page: 194 10
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
408 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(typedef)s
728 X(struct)s
1008 X({)s
360 X
521 Y
728 X(char)s
928 X(*foo_a;)s
360 X
594 Y
728 X(char)s
928 X(*foo_b;)s
360 X
667 Y
408 X(})s
488 X(foo;)s
360 X
740 Y
408 X(extern)s
688 X(foo)s
848 X(*mkfoo\(\);)s
360 X
813 Y
408 X(extern)s
688 X(int)s
848 X(rmfoo\(\);)s
360 X
886 Y
408 X(#endif)s
360 X
988 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(\(Some)s
562 X(compiler)s
828 X(implementors)s
1224 X(have)s
1379 X(invented)s
1638 X(bizarre)s
360 X
1061 Y(special)s
547 X(-purpose)s
806 X(constructs,)s
1120 X(typically)s
1381 X(using)s
1551 X(ANSI)s
1732 X(C's)s
360 X
1134 Y
f.B 10 Z(#pragma)s
f.R 10 Z(,)s
662 X(to)s
745 X(avoid)s
924 X(having)s
1136 X(the)s
1249 X(compiler)s
1518 X(re)s
1570 X(-scan)s
1742 X(the)s
360 X
1178 Y
1464 0 l
360 X
1258 Y
408 X
f.CW 10 Z(#ifdef)s
688 X(vax)s
360 X
1331 Y
568 X(f\(*ptr\);)s
360 X
1404 Y
408 X(#endif)s
360 X
1477 Y
408 X(#ifdef)s
688 X(pyr)s
360 X
1550 Y
568 X(/*)s
360 X
1623 Y
608 X(*)s
688 X(darned)s
968 X(Pyramid)s
1288 X(is)s
1408 X(so)s
1528 X(picky)s
360 X
1696 Y
608 X(*)s
688 X(about)s
928 X(null)s
1128 X(pointers)s
360 X
1769 Y
608 X(*/)s
360 X
1842 Y
568 X(if)s
688 X(\(ptr)s
888 X(!=)s
1008 X(NULL\))s
360 X
1915 Y
768 X(f\(*ptr\);)s
360 X
1988 Y
408 X(#endif)s
360 X
2061 Y
408 X(#ifdef)s
688 X(sparc)s
360 X
2134 Y
568 X(/*)s
688 X(the)s
848 X(Sun)s
1008 X(4)s
1088 X(is)s
1208 X(just)s
1408 X(as)s
1528 X(bad!)s
1728 X(*/)s
360 X
2207 Y
568 X(if)s
688 X(\(ptr)s
888 X(!=)s
1008 X(NULL\))s
360 X
2280 Y
768 X(f\(*ptr\);)s
360 X
2353 Y
408 X(#endif)s
360 X
2426 Y
408 X(/*)s
528 X(.)s
568 X(.)s
608 X(.)s
688 X(*/)s
360 X
2528 Y
623 X
f.B 10 Z(Figure)s
835 X(9)s
f.R 10 Z(:)s
931 X(Protecting)s
1228 X(broken)s
1434 X(code)s
360 X
2572 Y
1464 0 l
360 X
2645 Y(header)s
573 X(\256le)s
694 X(on)s
795 X(later)s
950 X(inclusions)s
1221 X(.)s
1295 X(That)s
1453 X(is)s
1533 X(not)s
1653 X(neces-)s
360 X
2718 Y(sary)s
471 X(.)s
535 X(It)s
601 X(suf\256ces)s
830 X(to)s
907 X(have)s
1058 X(the)s
1165 X(compiler)s
1428 X(remember)s
1723 X(that)s
360 X
2791 Y(the)s
472 X(entire)s
655 X(text)s
786 X(of)s
871 X(the)s
983 X(\256le)s
1100 X(is)s
1176 X(inside)s
1367 X(the)s
1480 X
f.B 10 Z(#ifndef)s
f.R 10 Z(,)s
1728 X(and)s
360 X
2864 Y(hence)s
562 X(need)s
733 X(not)s
863 X(be)s
971 X(rescanned)s
1283 X(if)s
1387 X
f.CW 10 Z(FOO_H)s
1632 X
f.R 10 Z(is)s
1722 X(still)s
360 X
2937 Y(de\256ned)s
556 X(.\))s
360 X
4165 Y
3120 0 l
360 X
4253 Y
408 X
f.CW 10 Z(#ifdef)s
688 X(cray)s
360 X
4333 Y
568 X(})s
648 X(while)s
888 X(\(*s)s
1048 X(!=)s
1168 X('\\r'\);)s
1968 X(/*)s
2088 X(till)s
2288 X(a)s
2368 X(newline)s
2688 X(\(not)s
2888 X(echoed\))s
3208 X(*/)s
360 X
4413 Y
408 X(#else)s
360 X
4493 Y
568 X(})s
648 X(while)s
888 X(\(*s)s
1048 X(!=)s
1168 X('\\n'\);)s
1968 X(/*)s
2088 X(till)s
2288 X(a)s
2368 X(newline)s
2688 X(\(not)s
2888 X(echoed\))s
3208 X(*/)s
360 X
4573 Y
408 X(#endif)s
360 X
4685 Y
1525 X
f.B 10 Z(Figure)s
1737 X(10)s
f.R 10 Z(:)s
1866 X(Mysterious)s
2188 X(code)s
360 X
3031 Y
504 X
f.B 10 Z(#ifdef)s
698 X
f.R 10 Z(is)s
774 X(often)s
942 X(used)s
1096 X(to)s
1180 X(protect)s
1398 X(broken)s
1614 X(code)s
1772 X(in)s
360 X
3104 Y(the)s
468 X(style)s
621 X(shown)s
820 X(in)s
897 X(Figure)s
1096 X(9)s
1129 X(.)s
1193 X(The)s
1322 X(solution)s
1562 X(here)s
1702 X(is)s
1772 X(to)s
360 X
3177 Y(face)s
508 X(realities)s
759 X(and)s
892 X(write)s
1067 X(the)s
1186 X(code)s
1349 X(in)s
1438 X(a)s
1505 X(correct)s
1728 X(and)s
360 X
3250 Y(portable)s
601 X(manner:)s
360 X
3352 Y
408 X
f.CW 10 Z(/*)s
528 X(avoid)s
768 X(dereferencing)s
1328 X(null)s
1528 X(*/)s
360 X
3425 Y
408 X(if)s
528 X(\(ptr)s
728 X(!=)s
848 X(NULL\))s
360 X
3498 Y
728 X(f\(*ptr\);)s
360 X
3621 Y
504 X
f.R 10 Z(A)s
584 X(related)s
799 X(point,)s
985 X(also)s
1125 X(illustrated)s
1426 X(by)s
1524 X(that)s
1657 X(exam-)s
360 X
3694 Y(ple,)s
482 X(is)s
549 X(that)s
672 X(if)s
735 X(one)s
853 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(must)s
1001 X
f.R 10 Z(use)s
1112 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
1314 X(one)s
1432 X(should)s
1631 X(test)s
1747 X(for)s
360 X
3767 Y(speci\256c)s
609 X(features)s
866 X(or)s
966 X(characteristics)s
1396 X(\(typically)s
1698 X(indi-)s
360 X
3840 Y(cated)s
525 X(to)s
600 X(the)s
705 X(compiler)s
966 X(by)s
1055 X(symbols)s
1300 X(de\256ned)s
1519 X(in)s
1594 X(a)s
1646 X(header)s
360 X
3913 Y(\256le)s
503 X(or)s
615 X(on)s
738 X(a)s
825 X(command)s
1145 X(line\),)s
1342 X(not)s
1484 X(for)s
1619 X(speci\256c)s
360 X
3986 Y
f.I 10 Z(machines)s
612 X
f.R 10 Z(.)s
699 X(There)s
903 X(will)s
1055 X(almost)s
1281 X(always)s
1514 X(be)s
1624 X(another)s
360 X
4059 Y(machine)s
639 X(with)s
810 X(the)s
944 X(same)s
1135 X(problem)s
1357 X(.)s
1449 X(Consider)s
1742 X(the)s
2016 X
448 Y(interesting)s
2330 X(bit)s
2432 X(of)s
2518 X(code)s
2675 X(shown)s
2879 X(in)s
2962 X(Figure)s
3167 X(10)s
3233 X(.)s
3302 X(Rather)s
2016 X
521 Y(mysterious,)s
2360 X(isn't)s
2513 X(it?)s
2637 X(What)s
2817 X(is)s
2897 X(so)s
2991 X(odd)s
3125 X(about)s
3308 X(Crays,)s
2016 X
594 Y(and)s
2134 X(is)s
2201 X(it)s
2261 X(only)s
2401 X(Crays)s
2578 X(that)s
2701 X(are)s
2805 X(affected?)s
2016 X
688 Y
2160 X(If)s
2242 X(testing)s
2459 X(for)s
2574 X(particular)s
2869 X(machines)s
3160 X(is)s
3244 X(unavoid-)s
2016 X
761 Y(able,)s
2196 X(perhaps)s
2453 X(because)s
2715 X(of)s
2820 X(some)s
3011 X(highly)s
3231 X(machine)s
3458 X(-)s
2016 X
834 Y(speci\256c)s
2272 X(operation,)s
2592 X(consider)s
2869 X(what)s
3051 X(happens)s
3321 X(if)s
3414 X(no)s
2016 X
907 Y(machine)s
2266 X(is)s
2334 X(speci\256ed)s
2595 X(\(or)s
2695 X(if)s
2758 X(the)s
2862 X(machine)s
3111 X(is)s
3178 X(one)s
3296 X(you've)s
2016 X
980 Y(never)s
2208 X(heard)s
2400 X(of)s
2500 X(and)s
2641 X(hence)s
2842 X(didn't)s
3046 X(bother)s
3261 X(to)s
3358 X(list\))s
3463 X(.)s
2016 X
1053 Y(Don't)s
2196 X(assume)s
2417 X(there)s
2575 X(is)s
2644 X(a)s
2698 X(default)s
2908 X(machine)s
3135 X(.)s
3198 X(It)s
3263 X(is)s
3332 X(much)s
2016 X
1126 Y(kinder)s
2216 X(to)s
2298 X(produce)s
2542 X(a)s
2603 X(syntax)s
2808 X(error)s
2968 X(than)s
3114 X(silently)s
3343 X(inap-)s
2016 X
1199 Y(propriate)s
2279 X(code)s
2405 X(.)s
2016 X
1293 Y
2160 X(Occurrences)s
2531 X(of)s
2624 X
f.B 10 Z(#include)s
2904 X
f.R 10 Z(inside)s
3102 X
f.B 10 Z(#ifdef)s
3303 X
f.R 10 Z(should)s
2016 X
1366 Y(always)s
2234 X(be)s
2329 X(viewed)s
2554 X(with)s
2705 X(suspicion)s
2957 X(.)s
3027 X(There)s
3214 X(are)s
3327 X(better)s
2016 X
1439 Y(ways)s
2153 X(.)s
2214 X(Consider:)s
2016 X
1541 Y
2064 X
f.CW 10 Z(#ifdef)s
2344 X(NDIR)s
2016 X
1614 Y
2064 X(#ifdef)s
2344 X(M_XENIX)s
2016 X
1687 Y
2064 X(#include)s
2424 X(<sys/ndir)s
2784 X(.h>)s
2016 X
1760 Y
2064 X(#else)s
2016 X
1833 Y
2064 X(#include)s
2424 X(<ndir)s
2624 X(.h>)s
2016 X
1906 Y
2064 X(#endif)s
2016 X
1979 Y
2064 X(#else)s
2016 X
2052 Y
2064 X(#include)s
2424 X(<sys/dir)s
2744 X(.h>)s
2016 X
2125 Y
2064 X(#endif)s
2016 X
2198 Y
2064 X(#ifdef)s
2344 X(USG)s
2016 X
2271 Y
2064 X(#include)s
2424 X(<time)s
2624 X(.h>)s
2016 X
2344 Y
2064 X(#else)s
2016 X
2417 Y
2064 X(#include)s
2424 X(<sys/time)s
2784 X(.h>)s
2016 X
2490 Y
2064 X(#endif)s
2016 X
2592 Y
f.R 10 Z(This)s
2159 X(clutter)s
2355 X(could)s
2527 X(be)s
2614 X(avoided)s
2849 X(via)s
2956 X(judicious)s
3226 X(use)s
3340 X(of)s
3420 X
f.I 10 Z(cc)s
2016 X
2665 Y(\261I/usr/include)s
2391 X(/sys)s
2516 X
f.R 10 Z(and)s
2636 X(consistent)s
2928 X(use)s
3041 X(of)s
3120 X
f.I 10 Z(dirent)s
3280 X(.h)s
f.R 10 Z(,)s
3370 X(pro-)s
2016 X
2738 Y(viding)s
2208 X(a)s
2260 X(fake)s
2397 X(one)s
2515 X(if)s
2578 X(necessary:)s
2016 X
2840 Y
2064 X
f.CW 10 Z(#include)s
2424 X(<direct)s
2704 X(.h>)s
2016 X
2913 Y
2064 X(#define)s
2384 X(dirent)s
2664 X(direct)s
2016 X
3015 Y
f.R 10 Z(Arranging,)s
2331 X(typically)s
2591 X(via)s
2698 X(a)s
2753 X
f.I 10 Z(make\256le)s
f.R 10 Z(,)s
3018 X(to)s
3096 X(put)s
3207 X(an)s
3296 X(``over-)s
2016 X
3088 Y(ride'')s
2191 X(directory)s
2459 X(in)s
2538 X(the)s
2647 X(search)s
2845 X(path)s
2987 X(for)s
3091 X(header)s
3296 X(\256les)s
3435 X(is)s
2016 X
3161 Y(a)s
2074 X(tremendously)s
2465 X(powerful)s
2733 X(way)s
2872 X(of)s
2955 X(\256xing)s
3138 X(botches)s
3370 X(in)s
3450 X(a)s
2016 X
3234 Y(site's)s
2180 X(header)s
2380 X(\256les)s
2514 X
f.I 10 Z(without)s
2736 X
f.B 10 Z(#ifdef)s
2899 X
f.R 10 Z(.)s
2016 X
3328 Y
2160 X(When)s
2341 X(one)s
2459 X(uses)s
2596 X
f.B 10 Z(#ifdef)s
f.R 10 Z(,)s
2798 X(one)s
2916 X(should)s
3115 X(base)s
3256 X(the)s
3360 X(tests)s
2016 X
3401 Y(on)s
2104 X(individual)s
2397 X(features:)s
2016 X
3503 Y
2064 X
f.CW 10 Z(#include)s
2424 X(<signal)s
2704 X(.h>)s
2016 X
3576 Y
2224 X(/*)s
2344 X(may)s
2504 X(define)s
2784 X(SIGTSTP)s
3104 X(*/)s
2016 X
3722 Y
2064 X(#ifdef)s
2344 X(SIGTSTP)s
2016 X
3795 Y
2144 X(\(void\))s
2424 X(signal\(SIGTSTP,)s
3064 X(SIG_IGN\);)s
2016 X
3868 Y
2384 X(/*)s
2504 X(no)s
2624 X(suspension,)s
3104 X(thanks)s
3384 X(*/)s
2016 X
3941 Y
2064 X(#endif)s
2016 X
4043 Y
f.R 10 Z(and)s
2134 X(not)s
2241 X(on)s
2329 X(\(inaccurate\))s
2671 X(generalisations)s
3073 X(:)s
360 X
4967 Y
f.B 10 Z(194)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 195 11
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y
648 X
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(#ifndef)s
968 X(SYSV)s
600 X
521 Y
728 X(\(void\))s
1008 X(signal\(SIGTSTP,)s
1648 X(SIG_IGN\);)s
600 X
594 Y
968 X(/*)s
1088 X(no)s
1208 X(suspension,)s
1688 X(thanks)s
1968 X(*/)s
600 X
667 Y
648 X(#endif)s
600 X
769 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(or)s
681 X(this)s
804 X(example)s
1057 X(of)s
1138 X(the)s
1246 X(reverse)s
1466 X(problem)s
1715 X(\(generalising)s
600 X
842 Y(from)s
751 X(the)s
855 X(speci\256c\))s
1104 X(from)s
1255 X(a)s
1307 X(newsreader)s
600 X
944 Y
648 X
f.CW 10 Z(/*)s
768 X(Things)s
1048 X(we)s
1168 X(can)s
1328 X(figure)s
1608 X(out)s
1768 X(*/)s
600 X
1053 Y
648 X(#ifdef)s
928 X(SIGTSTP)s
600 X
1126 Y
648 X(#)s
808 X(define)s
1088 X(BERKELEY)s
600 X
1199 Y
768 X(/*)s
888 X(include)s
1208 X(job)s
1368 X(control)s
1688 X(signals?)s
2048 X(*/)s
600 X
1272 Y
648 X(#endif)s
600 X
1374 Y
f.R 10 Z(This)s
742 X(particular)s
1022 X(point)s
1182 X(is)s
1250 X(worth)s
1428 X(emphasizing:)s
1830 X(the)s
1932 X
f.R 8 Z(UNIX)s
600 X
1447 Y
f.R 10 Z(world)s
785 X(is)s
859 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(not)s
973 X
f.R 10 Z(cleanly)s
1196 X(split)s
1341 X(into)s
1474 X(System)s
1700 X(V)s
1777 X(and)s
1902 X(4BSD)s
600 X
1520 Y(camps,)s
829 X(particularly)s
1179 X(with)s
1339 X(the)s
1462 X(advent)s
1681 X(of)s
1777 X(System)s
2016 X(V)s
600 X
1593 Y(Release)s
854 X(4)s
887 X(.)s
971 X(Hybrid)s
1200 X
f.R 8 Z(UNIX)s
f.R 10 Z(es)s
1433 X(are)s
1560 X(the)s
1687 X(rule,)s
1853 X(not)s
1982 X(the)s
600 X
1666 Y(exception,)s
899 X(nowadays)s
1165 X(.)s
600 X
1793 Y
859 X
f.B 10 Z(Pragmatic)s
1178 X(Aspects)s
1419 X(of)s
1496 X(Portability)s
600 X
1902 Y
744 X
f.R 10 Z(In)s
821 X(practice,)s
1073 X(one)s
1191 X(encounters)s
1502 X(all)s
1593 X(manner)s
1816 X(of)s
1894 X(break-)s
600 X
1975 Y(age)s
723 X(in)s
805 X(vendor)s
989 X(-supplied)s
1267 X(system)s
1483 X(software:)s
1783 X(compilers,)s
600 X
2048 Y(utilities)s
837 X(\(notably)s
1094 X(the)s
1211 X(shell)s
1373 X(and)s
1504 X
f.I 10 Z(awk)s
f.R 10 Z(\),)s
1685 X(libraries,)s
1957 X(ker-)s
600 X
2121 Y(nels)s
708 X(.)s
776 X(Optimizers)s
1103 X(may)s
1247 X(need)s
1402 X(to)s
1483 X(be)s
1575 X(turned)s
1774 X(off)s
1880 X(if)s
1949 X(they)s
600 X
2194 Y(are)s
708 X(broken)s
892 X(.)s
2173 Y
f.I 8 Z(9)s
2194 Y
962 X
f.R 10 Z(Installers)s
1234 X(may)s
1376 X(have)s
1529 X(to)s
1608 X(pick)s
1750 X(up)s
1843 X(working)s
600 X
2267 Y(commands)s
939 X(from)s
1118 X(other)s
1305 X(sources)s
1555 X(\(e)s
1607 X(.g)s
1657 X(.)s
1746 X(the)s
1878 X(Usenet)s
600 X
2340 Y(group)s
788 X
f.B 10 Z(comp)s
944 X(.sources)s
1173 X(.unix)s
1350 X
f.R 10 Z(or)s
1439 X(the)s
1555 X(GNU)s
1710 X([Founa])s
1954 X(pro-)s
600 X
2413 Y(ject\))s
720 X(.)s
794 X(Sometimes)s
1127 X(it)s
1200 X(is)s
1280 X(worth)s
1470 X(supplying)s
1766 X(simple)s
1979 X(but)s
600 X
2486 Y(correct)s
822 X(versions)s
1080 X(of)s
1171 X(small)s
1353 X(things)s
1553 X(\(e)s
1605 X(.g)s
1655 X(.)s
1709 X(library)s
1924 X(func-)s
600 X
2559 Y(tions\))s
784 X(when)s
960 X(a)s
1022 X(large)s
1188 X(class)s
1351 X(of)s
1438 X(machines)s
1723 X(is)s
1800 X(known)s
2012 X(to)s
600 X
2632 Y(have)s
760 X(broken)s
978 X(ones)s
1100 X(.)s
1173 X(We)s
1300 X(ultimately)s
1607 X(decided)s
1850 X(that)s
1986 X(we)s
600 X
2705 Y(could)s
787 X(not)s
911 X(provide)s
1152 X(complete)s
1436 X(replacements,)s
1845 X(or)s
1938 X(even)s
600 X
2778 Y(workarounds,)s
1032 X(for)s
1178 X(all)s
1315 X(potentially)s
1602 X(-broken)s
1878 X(system)s
600 X
2851 Y(software)s
830 X(.)s
927 X(Sometimes)s
1283 X(the)s
1423 X(problems)s
1729 X(are)s
1868 X(horri\256c)s
600 X
2924 Y(enough)s
818 X(that)s
942 X(the)s
1047 X(right)s
1196 X(response)s
1453 X(is)s
1522 X(not)s
1631 X(to)s
1707 X(contort)s
1920 X(one's)s
600 X
2997 Y(code)s
753 X(but)s
864 X(to)s
942 X(get)s
1050 X(the)s
1158 X(customers)s
1455 X(to)s
1533 X(complain)s
1808 X(about)s
1982 X(the)s
600 X
3070 Y(breakage)s
863 X(until)s
1008 X(it)s
1068 X(is)s
1135 X(\256xed)s
1268 X(.)s
600 X
3164 Y
744 X(Given)s
933 X(all)s
1027 X(these)s
1192 X(potential)s
1454 X(problems,)s
1746 X(it)s
1811 X(is)s
1883 X(impor-)s
600 X
3237 Y(tant)s
725 X(to)s
801 X
f.I 10 Z(detect)s
986 X
f.R 10 Z(breakage)s
1251 X(as)s
1331 X(well)s
1471 X(as)s
1551 X(avoiding)s
1807 X(it)s
1868 X(or)s
1946 X(cop-)s
600 X
3310 Y(ing)s
726 X(with)s
886 X(it)s
924 X(.)s
1004 X(We)s
1138 X(think)s
1316 X(very)s
1475 X(highly)s
1686 X(of)s
1782 X
f.I 10 Z(regression)s
600 X
3383 Y(tests)s
f.R 10 Z(,)s
764 X(prepackaged)s
1128 X(tests)s
1275 X(that)s
1403 X(exercise)s
1650 X(the)s
1759 X(basic)s
1924 X(func-)s
600 X
3456 Y(tionality)s
856 X(of)s
944 X(the)s
1059 X(software)s
1322 X(and)s
1451 X(check)s
1640 X(that)s
1774 X(the)s
1889 X(results)s
600 X
3529 Y(are)s
718 X(correct)s
904 X(.)s
979 X(They)s
1152 X(are)s
1270 X(very)s
1424 X(useful)s
1623 X(during)s
1831 X(develop-)s
600 X
3602 Y(ment,)s
785 X(both)s
937 X(for)s
1049 X(bug)s
1148 X(-hunting)s
1408 X(in)s
1495 X(new)s
1641 X(code)s
3581 Y
f.I 8 Z(10)s
3602 Y
1856 X
f.R 10 Z(and)s
1987 X(for)s
600 X
3675 Y(con\256dence)s
917 X(testing)s
1124 X(before)s
1323 X(release)s
1510 X(.)s
3654 Y
f.I 8 Z(11)s
3675 Y
1610 X
f.R 10 Z(Of)s
1709 X(equal)s
1883 X(impor-)s
600 X
3748 Y(tance,)s
789 X(though,)s
1019 X(is)s
1093 X(that)s
1223 X(they)s
1367 X(give)s
1511 X(the)s
1622 X(installer)s
1868 X(reason-)s
600 X
3821 Y(able)s
736 X(con\256dence)s
1049 X(that)s
1174 X(the)s
1280 X(software)s
1535 X(is)s
1605 X(actually)s
1843 X(working)s
600 X
3894 Y(on)s
697 X(his)s
806 X(system,)s
1040 X(and)s
1166 X(that)s
1297 X(no)s
1393 X(glaring)s
1612 X(portability)s
1921 X(prob-)s
600 X
3967 Y(lems)s
749 X(have)s
897 X(escaped)s
1131 X(his)s
1231 X(notice)s
1395 X(.)s
600 X
4124 Y
f.R 16 Z
720 0 l
600 X
4170 Y
644 X
f.I 8 Z(9)s
4191 Y
f.R 9 Z(The)s
789 X(single)s
957 X(most)s
1098 X(frequently)s
1370 X(reported)s
1596 X(``bug'')s
1791 X(in)s
1863 X(C)s
1928 X(News)s
600 X
4258 Y(is)s
660 X(actually)s
872 X(a)s
919 X(bug)s
1029 X(in)s
1096 X(a)s
1143 X(popular)s
1347 X(386)s
1457 X(C)s
1517 X(compiler's)s
1795 X(optimizer)s
2027 X(.)s
600 X
4304 Y
644 X
f.I 8 Z(10)s
4325 Y
f.R 9 Z(One)s
847 X(of)s
946 X(us)s
1048 X(\(HS\))s
1213 X(observes:)s
1509 X(``When)s
1742 X(I)s
1811 X(set)s
1927 X(up)s
2037 X(a)s
600 X
4392 Y(regression)s
871 X(test)s
978 X(for)s
1071 X(software)s
1301 X(that)s
1415 X(has)s
1518 X(never)s
1675 X(had)s
1785 X(one)s
1895 X(before,)s
600 X
4459 Y(I)s
640 X(always)s
827 X(\256nd)s
940 X(bugs)s
1053 X(.)s
1108 X(Always)s
1291 X(.)s
1346 X
f.I 9 Z(Every)s
1507 X(time)s
1611 X(.)s
f.R 9 Z('')s
600 X
4505 Y
644 X
f.I 8 Z(11)s
4526 Y
f.R 9 Z(One)s
825 X(very)s
959 X(useful)s
1133 X(trick)s
1271 X(is)s
1338 X(to)s
1412 X(add)s
1526 X(a)s
1579 X(regression)s
1826 X(-test)s
1956 X(item)s
600 X
4593 Y(looking)s
804 X(for)s
894 X(each)s
1025 X(bug)s
1135 X(that)s
1246 X(is)s
1306 X(found)s
1446 X(.)s
1502 X(This)s
1630 X(avoids)s
1808 X(the)s
1903 X(classic)s
600 X
4660 Y(syndrome)s
876 X(of)s
965 X(having)s
1168 X(``\256xed'')s
1407 X(bugs)s
1559 X(reappear)s
1806 X(in)s
1891 X(a)s
1956 X(later)s
600 X
4727 Y(release)s
768 X(.)s
2256 X
448 Y
2400 X
f.R 10 Z(Similarly,)s
2698 X(internal)s
2935 X(consistency)s
3279 X(checks,)s
3510 X(such)s
3664 X(as)s
2256 X
521 Y(validated)s
2569 X(magic)s
2800 X(numbers)s
3096 X(in)s
3215 X(structures)s
3542 X(passed)s
2256 X
594 Y(between)s
2504 X(user)s
2640 X(code)s
2791 X(and)s
2912 X(libraries,)s
3175 X(can)s
3294 X(save)s
3439 X(one's)s
3609 X(san-)s
2256 X
667 Y(ity)s
2359 X(by)s
2457 X(detecting)s
2735 X(breakage)s
3008 X(in)s
3091 X(system)s
3308 X(software)s
3569 X(early,)s
2256 X
740 Y(before)s
2472 X(corruption)s
2796 X(spreads)s
3043 X(everywhere)s
3354 X(.)s
3440 X(Trying)s
3668 X(to)s
2256 X
813 Y(debug)s
2470 X(a)s
2552 X(core)s
2719 X(dump)s
2922 X(by)s
3039 X(mail)s
3210 X(on)s
3327 X(an)s
3441 X(unfamiliar)s
2256 X
886 Y(machine)s
2505 X(is)s
2572 X(not)s
2679 X(fun)s
2767 X(.)s
2256 X
980 Y
2400 X(To)s
2511 X(a)s
2579 X(greater)s
2803 X(extent)s
3005 X(than)s
3158 X(we)s
3274 X(had)s
3408 X(anticipated,)s
2256 X
1053 Y(one)s
2380 X(learns)s
2568 X(about)s
2744 X(portability)s
3051 X(by)s
3145 X(porting)s
3337 X(.)s
3403 X(The)s
3534 X(system)s
2256 X
1126 Y(call)s
2388 X(variations)s
2686 X(among)s
2897 X
f.R 8 Z(UNIX)s
3063 X
f.R 10 Z(systems)s
3309 X(are)s
3425 X(fairly)s
3604 X(well)s
2256 X
1199 Y(documented)s
2608 X(and)s
2729 X(understood)s
3024 X(.)s
3088 X(The)s
3217 X(variations)s
3506 X(in)s
3583 X(com-)s
2256 X
1272 Y(mands)s
2454 X(were)s
2608 X(less)s
2733 X(well)s
2873 X(understood,)s
3209 X(at)s
3283 X(least)s
3432 X(by)s
3523 X(us,)s
3624 X(and)s
2256 X
1345 Y(the)s
2381 X(variations)s
2687 X(in)s
2781 X(programming)s
3185 X(environments)s
3590 X(were)s
2256 X
1418 Y(still)s
2385 X(more)s
2549 X(surprising)s
2815 X(.)s
2882 X(There)s
3066 X(is)s
3139 X(no)s
3233 X(substitute)s
3518 X(for)s
3623 X
f.I 10 Z(try-)s
2256 X
1491 Y(ing)s
2386 X
f.R 10 Z(your)s
2552 X(software)s
2827 X(on)s
2938 X(several)s
3173 X(seriously)s
3414 X(-different)s
1470 Y
f.I 8 Z(12)s
2256 X
1564 Y
f.R 10 Z(machines)s
2537 X(before)s
2735 X(release)s
2922 X(.)s
2989 X(It's)s
3107 X(also)s
3244 X(worth)s
3428 X(making)s
3657 X(an)s
2256 X
1637 Y(effort)s
2435 X(to)s
2518 X(pick)s
2664 X(your)s
2816 X(beta)s
2928 X(-testers)s
3153 X(for)s
3260 X(maximum)s
3561 X(diver-)s
2256 X
1710 Y(sity)s
2380 X(of)s
2462 X(environments:)s
2893 X(we)s
2998 X(found)s
3179 X(a)s
3236 X(lot)s
3334 X(of)s
3416 X(unexpected)s
2256 X
1783 Y(problems)s
2526 X(that)s
2649 X(way)s
2760 X(.)s
2256 X
1877 Y
2400 X(Finally,)s
2644 X(a)s
2712 X(plea:)s
2903 X(if)s
2982 X(you)s
3119 X(\256nd)s
3260 X(portability)s
3577 X(prob-)s
2256 X
1950 Y(lems,)s
2425 X
f.I 10 Z(document)s
2709 X(them)s
2839 X
f.R 10 Z(.)s
2903 X(You)s
3042 X(can't)s
3201 X(expect)s
3400 X(everyone)s
3668 X(to)s
2256 X
2023 Y(actually)s
2526 X
f.I 10 Z(read)s
2706 X
f.R 10 Z(the)s
2846 X(documentation\320w)s
3358 X(e)s
3446 X(frequently)s
2256 X
2096 Y(respond)s
2508 X(to)s
2602 X(queries)s
2837 X(with)s
2998 X(``please)s
3252 X(read)s
3408 X(section)s
3639 X(so)s
3698 X(-)s
2256 X
2169 Y(and)s
2352 X(-so)s
2464 X(in)s
2547 X(document)s
2841 X(such)s
2963 X(-and)s
3081 X(-such,)s
3273 X(it'll)s
3402 X(tell)s
3521 X(you)s
3652 X(all)s
2256 X
2242 Y(about)s
2441 X(it''\320but)s
2711 X(the)s
2829 X(more)s
3002 X(careful)s
3224 X(and)s
3356 X(conscientious)s
2256 X
2315 Y(installers)s
2538 X(bene\256t)s
2759 X(greatly)s
2984 X(from)s
3152 X(an)s
3254 X(advance)s
3513 X(look)s
3671 X(at)s
2256 X
2388 Y(known)s
2464 X(problems,)s
2757 X(especially)s
3053 X(when)s
3224 X(a)s
3281 X(truly)s
3434 X(weird)s
3613 X(sys-)s
2256 X
2461 Y(tem)s
2379 X(is)s
2446 X(involved)s
2679 X(.)s
2256 X
2588 Y
2788 X
f.B 10 Z(Con\256guration)s
2256 X
2697 Y
2400 X
f.R 10 Z(Given)s
2600 X(the)s
2719 X(senseless)s
3002 X(diversity)s
3273 X(in)s
3363 X(existing)s
3613 X(sys-)s
2256 X
2770 Y(tems,)s
2424 X(some)s
2589 X(way)s
2724 X(to)s
2799 X(con\256gure)s
3073 X(software)s
3326 X(for)s
3426 X(a)s
3479 X(new)s
3613 X(sys-)s
2256 X
2843 Y(tem)s
2381 X(is)s
2450 X(needed)s
2639 X(.)s
2702 X(Given)s
2889 X(that)s
3014 X
f.B 10 Z(#ifdef)s
3201 X
f.R 10 Z(can't)s
3359 X(do)s
3450 X(the)s
3557 X(whole)s
2256 X
2916 Y(job,)s
2384 X(how)s
2524 X(should)s
2727 X(we)s
2831 X(proceed?)s
3119 X(C)s
3188 X(News)s
3365 X(currently)s
3631 X(has)s
2256 X
2989 Y(an)s
2374 X(interactive)s
2713 X
f.I 10 Z(build)s
2905 X
f.R 10 Z(script)s
3109 X(that)s
3266 X(interrogates)s
3638 X(the)s
2256 X
3062 Y(installer)s
2501 X(about)s
2677 X(his)s
2783 X(system)s
2997 X(and)s
3121 X(then)s
3264 X(constructs)s
3563 X(a)s
3620 X(few)s
2256 X
3135 Y(shell)s
2408 X(scripts,)s
2625 X(which)s
2813 X(when)s
2982 X(run)s
3095 X(will)s
3225 X(use)s
3339 X
f.I 10 Z(make)s
3505 X
f.R 10 Z(to)s
3583 X(build)s
2256 X
3208 Y(the)s
2370 X(software)s
2600 X(.)s
2671 X(We)s
2796 X(intend)s
2994 X(to)s
3077 X(push)s
3233 X(most)s
3394 X(of)s
3480 X(the)s
3593 X(shell)s
2256 X
3281 Y(scripts)s
2455 X(into)s
2584 X(the)s
2691 X
f.I 10 Z(make\256le)s
f.R 10 Z(s,)s
2982 X(so)s
3066 X(that)s
3192 X(casual)s
3385 X(use)s
3499 X(of)s
3579 X
f.I 10 Z(make)s
2256 X
3354 Y
f.R 10 Z(works)s
2448 X(as)s
2534 X(people)s
2742 X(expect,)s
3333 Y
f.I 8 Z(13)s
3354 Y
3019 X
f.R 10 Z(but)s
3135 X(the)s
3248 X(general)s
3476 X(approach)s
2256 X
3427 Y(seems)s
2449 X(to)s
2530 X(be)s
2622 X(a)s
2681 X(good)s
2841 X(one:)s
3006 X(ask)s
3123 X(which)s
3314 X(emulation)s
3610 X(rou-)s
2256 X
3500 Y(tines)s
2411 X(and)s
2535 X(header)s
2741 X(\256les)s
2881 X(are)s
2991 X(necessary,)s
3296 X(rather)s
3480 X(than)s
3624 X(try-)s
2256 X
3573 Y(ing)s
2391 X(to)s
2493 X(guess)s
2641 X(.)s
2730 X(This)s
2899 X(strategy)s
3161 X(even)s
3337 X(allows)s
3561 X(cross)s
3698 X(-)s
2256 X
3646 Y(con\256guration)s
2639 X(and)s
2763 X(some)s
2933 X(degree)s
3140 X(of)s
3224 X(cross)s
3361 X(-compilation,)s
2256 X
3719 Y(which)s
2446 X(autocon\256guratio)s
2883 X(n)s
2943 X(schemes)s
3197 X(generally)s
3473 X(don't)s
3613 X(.)s
3679 X(It)s
2256 X
3792 Y(is)s
2357 X(also)s
2521 X(more)s
2714 X(trustworthy)s
3078 X(than)s
3250 X(autocon\256guratio)s
3687 X(n)s
2256 X
3865 Y(schemes,)s
2527 X(which)s
2717 X(can)s
2836 X(be)s
2925 X(fooled)s
3121 X(by)s
3213 X(some)s
3380 X(new)s
3517 X(innova-)s
2256 X
3938 Y(tion)s
2360 X(.)s
2256 X
4032 Y
2400 X(Almost)s
2627 X(all)s
2726 X(of)s
2812 X
f.I 10 Z(build)s
f.R 10 Z('s)s
3028 X(con\256guration)s
3414 X(questions)s
4011 Y
f.I 8 Z(14)s
2256 X
4105 Y
f.R 10 Z(turn)s
2386 X(into)s
2513 X(choices)s
2737 X(of)s
2815 X(\256les)s
2950 X(rather)s
3128 X(than)s
3265 X(values)s
3458 X(for)s
3557 X
f.B 10 Z(#ifdef)s
2256 X
4325 Y
f.R 16 Z
720 0 l
2256 X
4371 Y
2300 X
f.I 8 Z(12)s
4392 Y
f.R 9 Z(One)s
2480 X(problem)s
2707 X(we)s
2803 X(had:)s
2953 X(in)s
3026 X(our)s
3132 X(university)s
3400 X(environment,)s
2256 X
4459 Y(it)s
2319 X(was)s
2441 X(quite)s
2591 X(dif\256cult)s
2811 X(to)s
2887 X(\256nd)s
3009 X(System)s
3214 X(V)s
3285 X(machines)s
3513 X(.)s
3576 X(When)s
2256 X
4526 Y(we)s
2346 X(actually)s
2558 X(tried)s
2689 X(one,)s
2811 X(not)s
2908 X(long)s
3035 X(before)s
3210 X(our)s
3311 X(\256rst)s
3425 X(real)s
3537 X(release,)s
2256 X
4593 Y(there)s
2397 X(were)s
2534 X(some)s
2681 X(unpleasant)s
2959 X(surprises)s
3172 X(.)s
2256 X
4639 Y
2300 X
f.I 8 Z(13)s
4660 Y
f.R 9 Z(The)s
2472 X(main)s
2617 X(reason)s
2798 X(for)s
2892 X(not)s
2993 X(doing)s
3153 X(this)s
3263 X(from)s
3403 X(the)s
3500 X(start)s
3627 X(was)s
2256 X
4727 Y(the)s
2350 X(lack)s
2471 X(of)s
2541 X(a)s
2588 X(standard)s
2812 X
f.B 9 Z(#include)s
3049 X
f.R 9 Z(mechanism)s
3344 X(in)s
3411 X
f.I 9 Z(make)s
3538 X
f.R 9 Z(.)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(195)s
5280 Y
pagebot

%%Page: 196 12
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
215 Y(#ifdef)s
545 X(Considered)s
894 X(Harmful)s
1165 X(.)s
1182 X(.)s
1199 X(.)s
2942 X(Spencer,&)s
3268 X(Collyer)s
360 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(to)s
440 X(examine)s
667 X(.)s
734 X(The)s
866 X(few)s
994 X(exceptions)s
1309 X(are)s
1420 X(mostly)s
1631 X(histori-)s
360 X
521 Y(cal)s
463 X(relics,)s
650 X(and)s
770 X(will)s
898 X(be)s
984 X(revised)s
1200 X(or)s
1278 X(deleted)s
1495 X(as)s
1574 X(time)s
1717 X(per-)s
360 X
594 Y(mits)s
476 X(.)s
360 X
721 Y
964 X
f.B 10 Z(Statistics)s
360 X
830 Y
504 X
f.R 10 Z(A)s
577 X(snapshot)s
835 X(of)s
915 X(current)s
1129 X(C)s
1199 X(News)s
1377 X(working)s
1624 X(sources)s
360 X
903 Y(shows)s
549 X(955)s
671 X(lines)s
821 X(of)s
898 X(header)s
1098 X(\256les)s
1232 X(and)s
1350 X(19,762)s
1554 X(lines)s
1703 X(of)s
1780 X(C)s
360 X
976 Y(\256les,)s
511 X(split)s
650 X(between)s
896 X(5,640)s
1068 X(lines)s
1218 X(from)s
1370 X(libraries)s
1613 X(\(includ-)s
360 X
1049 Y(ing)s
467 X(alternate)s
721 X(versions)s
965 X(of)s
1042 X(primitives\),)s
1375 X(and)s
1493 X(14,122)s
1697 X(lines)s
360 X
1122 Y(of)s
451 X(mainline)s
722 X(C)s
802 X(code)s
928 X(.)s
1003 X(Here)s
1169 X(is)s
1251 X(a)s
1318 X(breakdown)s
1650 X(of)s
1742 X(the)s
360 X
1195 Y
f.B 10 Z(#ifdef)s
545 X
f.R 10 Z(usage)s
719 X(in)s
793 X(that)s
916 X(code:)s
360 X
1304 Y
424 X(reason)s
777 X
777 X(.h)s
926 X(main)s
1082 X(.c)s
1228 X(dbz)s
1423 X(rna)s
1607 X(total)s
360 X
1325 Y
1367 0 l
360 X
1384 Y(ifndefdef)s
761 X(13)s
994 X(40)s
1276 X(6)s
1449 X(0)s
1650 X(59)s
360 X
1457 Y(comment)s
794 X(4)s
994 X(21)s
1276 X(0)s
1449 X(0)s
1650 X(25)s
360 X
1530 Y(con\256g)s
526 X(.)s
794 X(6)s
994 X(25)s
1243 X(19)s
1449 X(7)s
1650 X(57)s
360 X
1603 Y(protect)s
568 X(.h)s
794 X(5)s
1027 X(0)s
1276 X(0)s
1449 X(0)s
1683 X(5)s
360 X
1676 Y(__STDC__)s
794 X(3)s
1027 X(3)s
1276 X(1)s
1449 X(0)s
1683 X(7)s
360 X
1749 Y(pdp11)s
794 X(2)s
1027 X(0)s
1276 X(0)s
1449 X(0)s
1683 X(2)s
360 X
1822 Y(lint)s
794 X(1)s
1027 X(1)s
1276 X(2)s
1449 X(0)s
1683 X(4)s
360 X
1895 Y(sccsid)s
794 X(0)s
1027 X(1)s
1276 X(0)s
1449 X(0)s
1683 X(1)s
360 X
1968 Y(STATS)s
794 X(0)s
1027 X(5)s
1276 X(0)s
1449 X(0)s
1683 X(5)s
360 X
2041 Y(other)s
794 X(0)s
1027 X(1)s
1276 X(0)s
1449 X(0)s
1683 X(1)s
360 X
2062 Y
1367 0 l
360 X
2121 Y(total)s
761 X(34)s
994 X(97)s
1243 X(28)s
1449 X(7)s
1617 X(166)s
360 X
2230 Y(The)s
492 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(.h)s
570 X
f.R 10 Z(column)s
798 X(represents)s
1097 X(header)s
1303 X(\256les)s
1415 X(.)s
1482 X(The)s
1615 X
f.I 10 Z(main)s
1777 X(.c)s
360 X
2303 Y
f.R 10 Z(column)s
587 X(represents)s
885 X(all)s
980 X
f.I 10 Z(.c)s
1054 X
f.R 10 Z(\256les)s
1193 X(other)s
1356 X(than)s
1497 X(those)s
1664 X(in)s
1742 X(the)s
360 X
2376 Y
f.I 10 Z(dbz)s
482 X
f.R 10 Z(and)s
608 X
f.I 10 Z(rna)s
730 X
f.R 10 Z(\(Australian)s
1062 X(readnews\))s
1367 X(directories)s
1650 X(.)s
1720 X(The)s
360 X
2449 Y
f.I 10 Z(ifndefdef)s
628 X
f.R 10 Z(row)s
764 X(represents)s
1068 X(the)s
1182 X(`if)s
1277 X(not)s
1394 X(de\256ned,)s
1639 X(de\256ne')s
360 X
2522 Y(idiom)s
516 X(.)s
586 X(The)s
721 X
f.I 10 Z(comment)s
993 X
f.R 10 Z(row)s
1127 X(represents)s
1429 X(uses)s
1575 X(of)s
1661 X
f.B 10 Z(#ifdef)s
360 X
2595 Y
f.R 10 Z(to)s
459 X(comment)s
755 X(out)s
887 X(obsolete,)s
1174 X(futuristic)s
1463 X(or)s
1564 X(otherwise)s
360 X
2668 Y(unwanted)s
649 X(code)s
775 X(.)s
844 X(The)s
978 X
f.I 10 Z(con\256g)s
1140 X(.)s
1187 X
f.R 10 Z(row)s
1321 X(represents)s
1623 X(uses)s
1769 X(of)s
360 X
2741 Y
f.B 10 Z(#ifdef)s
545 X
f.R 10 Z(to)s
619 X(con\256gure)s
892 X(the)s
996 X(software)s
1226 X(.)s
360 X
2835 Y
504 X
f.I 10 Z(rna)s
630 X
f.R 10 Z(is)s
709 X(presented)s
999 X(separately)s
1305 X(because)s
1552 X(we)s
1665 X(inher-)s
360 X
2908 Y(ited)s
510 X(it)s
597 X(rather)s
802 X(than)s
966 X(writing)s
1208 X(it)s
1246 X(.)s
1334 X
f.I 10 Z(dbz)s
1475 X
f.R 10 Z(is)s
1568 X(presented)s
360 X
2981 Y(separately)s
697 X(because)s
974 X(it)s
1077 X(uses)s
1257 X
f.B 10 Z(#ifdef)s
1485 X
f.R 10 Z(heavily)s
1747 X(for)s
360 X
3054 Y(con\256guration,)s
782 X(for)s
909 X(backward)s
1218 X(compatibility)s
1626 X(and)s
1772 X(to)s
360 X
3127 Y(attempt)s
604 X(to)s
698 X(stand)s
881 X(independently)s
1301 X(of)s
1399 X(C)s
1486 X(News)s
1638 X(.)s
1720 X(The)s
360 X
3200 Y(main)s
529 X(C)s
608 X(\256les')s
777 X(use)s
901 X(of)s
991 X
f.B 10 Z(#ifdef)s
1189 X
f.R 10 Z(for)s
1301 X(``con\256guration')s
1722 X(')s
1779 X(is)s
360 X
3273 Y(misleading;)s
716 X(in)s
811 X(fact)s
955 X(this)s
1095 X(is)s
1183 X(mostly)s
1409 X(vestigial)s
1681 X(code,)s
360 X
3346 Y(superseded)s
702 X(but)s
832 X(not)s
962 X(yet)s
1089 X(deleted)s
1328 X(from)s
1502 X(our)s
1635 X(current)s
360 X
3419 Y(working)s
603 X(copies)s
774 X(.)s
360 X
3546 Y
919 X
f.B 10 Z(Conclusions)s
360 X
3655 Y
504 X
f.R 10 Z(Despite)s
747 X(problems)s
1033 X(along)s
1219 X(the)s
1339 X(way,)s
1505 X(C)s
1588 X(News)s
1779 X(is)s
360 X
3728 Y(outstandingly)s
763 X(portable)s
982 X(.)s
1061 X(It)s
1142 X(comes)s
1353 X(up)s
1459 X(easily)s
1656 X(on)s
1761 X(an)s
360 X
3801 Y(amazing)s
610 X(variety)s
819 X(of)s
893 X
f.R 8 Z(UNIX)s
1048 X
f.R 10 Z(systems)s
1260 X(.)s
1322 X(Other)s
1497 X(people)s
1698 X(have)s
360 X
3874 Y(reported)s
606 X(porting)s
822 X(C)s
890 X(News)s
1066 X(relatively)s
1344 X(easily)s
1524 X(to)s
1599 X(environ-)s
360 X
3947 Y(ments)s
545 X(that)s
671 X(we)s
774 X(had)s
896 X(considered)s
1211 X(too)s
1322 X(hostile,)s
1544 X(or)s
1625 X(at)s
1700 X(least)s
360 X
4020 Y(too)s
470 X(different)s
725 X(from)s
875 X
f.R 8 Z(UNIX)s
f.R 10 Z(,)s
1049 X(to)s
1125 X(even)s
1275 X(consider)s
1525 X(as)s
1605 X(possible)s
360 X
4093 Y(target)s
541 X(systems:)s
822 X(notably)s
1050 X(VMS,)s
1239 X(MS)s
1335 X(-DOS)s
1518 X(and)s
1642 X(Amiga)s
360 X
4166 Y(DOS)s
493 X(.)s
567 X(The)s
706 X(only)s
859 X(major)s
1050 X(operating)s
1337 X(system)s
1558 X(known)s
1772 X(to)s
360 X
4239 Y(present)s
575 X(serious)s
786 X(obstacles)s
1054 X(is)s
1121 X(VM/CMS)s
1387 X(.)s
360 X
4526 Y
f.R 16 Z
720 0 l
360 X
4572 Y
404 X
f.I 8 Z(14)s
4593 Y
f.R 9 Z(Of)s
543 X(those)s
692 X(that)s
806 X(affect)s
967 X(compilation)s
1279 X(at)s
1346 X(all;)s
1447 X(some)s
1597 X(questions)s
360 X
4660 Y(are)s
479 X(decisions)s
748 X(affecting)s
1008 X(setup)s
1180 X(of)s
1275 X(control)s
1491 X(\256les)s
1636 X(for)s
1750 X(the)s
360 X
4727 Y(compiled)s
605 X(software)s
832 X(to)s
899 X(use)s
979 X(.)s
2016 X
448 Y
2160 X
f.R 10 Z(In)s
2243 X(our)s
2360 X(experience,)s
2696 X
f.B 10 Z(#ifdef)s
2888 X
f.R 10 Z(is)s
2962 X(usually)s
3184 X(a)s
3243 X(bad)s
3368 X(idea)s
2016 X
521 Y(\(although)s
2294 X(we)s
2395 X(do)s
2484 X(use)s
2596 X(it)s
2657 X(in)s
2732 X(places\))s
2922 X(.)s
2984 X(Its)s
3073 X(legitimate)s
3365 X(uses)s
2016 X
594 Y(are)s
2122 X(fairly)s
2291 X(narrow,)s
2520 X(and)s
2641 X(it)s
2704 X(gets)s
2837 X(abused)s
3047 X(almost)s
3251 X(as)s
3332 X(badly)s
2016 X
667 Y(as)s
2102 X(the)s
2214 X(notorious)s
2495 X
f.I 10 Z(goto)s
2643 X
f.R 10 Z(statement)s
2901 X(.)s
2970 X(Like)s
3123 X(the)s
3234 X
f.I 10 Z(goto)s
f.R 10 Z(,)s
3398 X(the)s
2016 X
740 Y
f.B 10 Z(#ifdef)s
2229 X
f.R 10 Z(often)s
2416 X(degrades)s
2703 X(modularity)s
3046 X(and)s
3193 X(readability)s
2016 X
813 Y(\(intentionally)s
2418 X(or)s
2514 X(not\))s
2621 X(.)s
2700 X(Given)s
2903 X(some)s
3084 X(advance)s
3343 X(plan-)s
2016 X
886 Y(ning,)s
2173 X(there)s
2329 X(are)s
2433 X(better)s
2608 X(ways)s
2767 X(to)s
2841 X(be)s
2926 X(portable)s
3145 X(.)s
2016 X
1013 Y
2471 X
f.B 10 Z(Acknowledgemen)s
2976 X(ts)s
2016 X
1122 Y
2160 X
f.R 10 Z(Thanks)s
2391 X(to)s
2478 X(Rob)s
2623 X(Kolstad)s
2867 X(for)s
2980 X(helpful)s
3205 X(comments)s
2016 X
1195 Y(on)s
2109 X(a)s
2166 X(draft)s
2319 X(of)s
2401 X(this)s
2525 X(paper)s
2673 X(.)s
2739 X(Thanks)s
2961 X(to)s
3039 X(James)s
3229 X(Clark)s
3403 X(for)s
2016 X
1268 Y
f.I 10 Z(grefer)s
2217 X
f.R 10 Z(\(and)s
2372 X(the)s
2491 X(rest)s
2625 X(of)s
2717 X
f.I 10 Z(groff)s
f.R 10 Z(\))s
2869 X(.)s
2945 X(And)s
3096 X(thanks)s
3308 X(to)s
3398 X(the)s
2016 X
1341 Y(authors)s
2248 X(of)s
2339 X(our)s
2463 X(bad)s
2595 X(examples\320you)s
3050 X(know)s
3232 X(who)s
3381 X(you)s
2016 X
1414 Y(are)s
2098 X(.)s
2016 X
1541 Y
2591 X
f.B 10 Z(References)s
2016 X
1650 Y
f.R 10 Z(ATT86a)s
2242 X(.)s
2281 X(AT&T,)s
2519 X
f.I 10 Z(System)s
2744 X(V)s
2824 X(Interface)s
3106 X(De\256nition)s
f.R 10 Z(,)s
3430 X(2,)s
2016 X
1723 Y
2160 X(1986)s
2292 X(.)s
2016 X
1803 Y(Cent90a)s
2238 X(.)s
2277 X(Computing)s
2661 X(Science)s
2955 X(Research)s
3285 X(Center,)s
2016 X
1876 Y
2160 X(AT&T)s
2387 X(Bell)s
2544 X(Laboratories,)s
2944 X(Murray)s
3188 X(Hill,)s
3354 X(New)s
2016 X
1949 Y
2160 X(Jersey,)s
2382 X
f.I 10 Z(UNIX)s
2575 X(Research)s
2863 X(System)s
3088 X(Programmer's)s
2016 X
2022 Y
2160 X(Manual,)s
2415 X(Tenth)s
2598 X(Edition,)s
2843 X
f.R 10 Z(Saunders)s
3117 X(College)s
3355 X(Pub-)s
2016 X
2095 Y
2160 X(lishing,)s
2381 X(1990)s
2513 X(.)s
2016 X
2175 Y(Coll87a)s
2227 X(.)s
2266 X(Geoff)s
2454 X(Collyer)s
2688 X(and)s
2818 X(Henry)s
3018 X(Spencer,)s
3284 X(``News)s
2016 X
2248 Y
2160 X(Need)s
2350 X(Not)s
2499 X(Be)s
2622 X(Slow,'')s
2868 X
f.I 10 Z(Proc)s
2998 X(.)s
3063 X(Winter)s
3294 X(Usenix)s
2016 X
2321 Y
2160 X(Conf)s
2289 X(.)s
2342 X(Washington)s
2696 X(1987)s
f.R 10 Z(,)s
2881 X(pp)s
2947 X(.)s
3000 X(181)s
3099 X(-190,)s
3273 X(January)s
2016 X
2394 Y
2160 X(1987)s
2292 X(.)s
2016 X
2474 Y(Darw85a)s
2260 X(.)s
2299 X(Ian)s
2431 X(Darwin)s
2678 X(and)s
2821 X(Geoff)s
3023 X(Collyer,)s
3288 X(``Can't)s
2016 X
2547 Y
2160 X(Happen)s
2398 X(or)s
2483 X(/*)s
2565 X(NOTREACHED)s
3046 X(*/)s
3128 X(or)s
3213 X(Real)s
3366 X(Pro-)s
2016 X
2620 Y
2160 X(grams)s
2346 X(Dump)s
2535 X(Core,'')s
2748 X
f.I 10 Z(Proc)s
2878 X(.)s
2918 X(Winter)s
3124 X(Usenix)s
3334 X(Conf)s
3463 X(.)s
2016 X
2693 Y
2160 X(Dallas)s
2360 X(1985)s
f.R 10 Z(,)s
2531 X(pp)s
2597 X(.)s
2636 X(136)s
2735 X(-151,)s
2895 X(January)s
3124 X(1985)s
3256 X(.)s
2016 X
2773 Y(Divi83a)s
2231 X(.)s
2270 X(Computer)s
2570 X(Science)s
2813 X(Division,)s
3094 X(Dept)s
3224 X(.)s
3275 X(of)s
3364 X(E)s
3405 X(.E)s
3463 X(.)s
2016 X
2846 Y
2160 X(and)s
2290 X(C)s
2334 X(.S)s
2388 X(.,)s
2456 X(UCB,)s
2643 X
f.I 10 Z(UNIX)s
2831 X(Programmer's)s
3256 X(Manual,)s
2016 X
2919 Y
2160 X(4)s
2193 X(.2)s
2306 X(Berkeley)s
2606 X(Softare)s
2863 X(Distribution)s
f.R 10 Z(,)s
3271 X(August,)s
2016 X
2992 Y
2160 X(1983)s
2292 X(.)s
2016 X
3072 Y(Engi90a)s
2238 X(.)s
2277 X(Institute)s
2564 X(of)s
2687 X(Electrical)s
3014 X(and)s
3178 X(Electronics)s
2016 X
3145 Y
2160 X(Engineers,)s
2469 X
f.I 10 Z(Portable)s
2728 X(Operating)s
3027 X(System)s
3238 X(Interface)s
2016 X
3218 Y
2160 X(\(POSIX\),)s
2438 X(Part)s
2589 X(1:)s
2676 X(System)s
2895 X(Application)s
3240 X(Program)s
2016 X
3291 Y
2160 X(Interface)s
2466 X(\(API\))s
2678 X([C)s
2811 X(Language])s
3165 X(\(IEEE)s
3395 X(Std)s
2016 X
3364 Y
2160 X(1003)s
2292 X(.1)s
2342 X(-1990\))s
2560 X(=)s
2647 X(ISO/IEC)s
2918 X(9945)s
3050 X(-1:1990,)s
3318 X
f.R 10 Z(IEEE,)s
2016 X
3437 Y
2160 X(New)s
2308 X(York,)s
2483 X(1990)s
2615 X(.)s
2016 X
3517 Y(Founa)s
2182 X(.)s
2221 X(Free)s
2388 X(Software)s
2677 X(Foundation,)s
3045 X
f.I 10 Z(GNU)s
3233 X(software,)s
2016 X
3590 Y
2160 X
f.R 10 Z(anonymous)s
2488 X(ftp)s
2584 X(from)s
2735 X(prep)s
2853 X(.ai)s
2919 X(.mit)s
3026 X(.edu:/pub/gnu)s
3394 X(.)s
2016 X
3670 Y(Inst89a)s
2212 X(.)s
2251 X(American)s
2593 X(National)s
2902 X(Standards)s
3243 X(Institute,)s
2016 X
3743 Y
2160 X(X3J11)s
2387 X(committee,)s
2741 X
f.I 10 Z(American)s
3054 X(National)s
3340 X(Stan-)s
2016 X
3816 Y
2160 X(dards)s
2360 X(Institute)s
2630 X(X3)s
2704 X(.159)s
2820 X(-1989)s
3024 X(\261)s
3107 X(Programming)s
2016 X
3889 Y
2160 X(Language)s
2474 X(C,)s
2584 X(=)s
2678 X(ISO/IEC)s
2956 X(9899:1990,)s
3308 X
f.R 10 Z(ANSI,)s
2016 X
3962 Y
2160 X(New)s
2308 X(York,)s
2483 X(1989)s
2615 X(.)s
2016 X
4042 Y(Labo82a)s
2249 X(.)s
2288 X(Bell)s
2459 X(Laboratories,)s
2873 X
f.I 10 Z(UNIX)s
3088 X(Programmer's)s
2016 X
4115 Y
2160 X(Manual,)s
2406 X
f.R 10 Z(Holt,)s
2564 X(Rinehart)s
2816 X(and)s
2934 X(Winston,)s
3199 X(1982)s
3331 X(.)s
2016 X
4195 Y(ODel87a)s
2257 X(.)s
2296 X(Mike)s
2463 X(O'Dell,)s
2692 X(``UNIX:)s
2947 X(The)s
3077 X(World)s
3274 X(View,'')s
2016 X
4268 Y
2160 X
f.I 10 Z(Proc)s
2290 X(.)s
2346 X(Winter)s
2567 X(Usenix)s
2791 X(Conf)s
2920 X(.)s
2975 X(Washington)s
3331 X(1987)s
f.R 10 Z(,)s
2016 X
4341 Y
2160 X(pp)s
2226 X(.)s
2265 X(35)s
2331 X(-45,)s
2458 X(January)s
2687 X(1987)s
2819 X(.)s
2016 X
4421 Y(Ritc78a)s
2224 X(.)s
2263 X(D)s
2311 X(.)s
2366 X(M)s
2425 X(.)s
2480 X(Ritchie,)s
2729 X(``U)s
f.R 8 Z(NIX)s
2953 X
f.R 10 Z(Time)s
3095 X(-Sharing)s
3362 X(Sys-)s
2016 X
4494 Y
2160 X(tem:)s
2308 X(A)s
2384 X(Retrospective,')s
2791 X(')s
2841 X
f.I 10 Z(Bell)s
2978 X(Sys)s
3067 X(.)s
3112 X(Tech)s
3242 X(.)s
3287 X(J)s
3317 X(.)s
f.R 10 Z(,)s
3378 X(vol)s
3463 X(.)s
2016 X
4567 Y
2160 X(57,)s
2271 X(no)s
2337 X(.)s
2382 X(6,)s
2461 X(pp)s
2527 X(.)s
2573 X(1947)s
2705 X(-1969,)s
2905 X(1978)s
3037 X(.)s
3105 X(Also)s
3260 X(in)s
3341 X(Proc)s
3463 X(.)s
2016 X
4640 Y
2160 X(Hawaii)s
2401 X(International)s
2790 X(Conference)s
3144 X(on)s
3257 X(Systems)s
2016 X
4713 Y
2160 X(Science,)s
2408 X(Honolulu,)s
2698 X(Hawaii,)s
2931 X(Jan)s
3020 X(.)s
3059 X(1977)s
3191 X(.)s
360 X
4967 Y
f.B 10 Z(196)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Page: 197 13
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
600 X
215 Y(Spencer,&)s
926 X(Collyer)s
2864 X(#ifdef)s
3049 X(Considered)s
3398 X(Harmful)s
3669 X(.)s
3686 X(.)s
3703 X(.)s
600 X
448 Y
stdencoding /NTimes-Roman /Times-Roman RE
/f.R /NTimes-Roman findfont def 
f.R 10 Z(Spen88a)s
829 X(.)s
868 X(Henry)s
1077 X(Spencer,)s
1352 X(``How)s
1568 X(To)s
1685 X(Steal)s
1863 X(Code,'')s
600 X
521 Y
744 X
stdencoding /NTimes-Italic /Times-Italic RE
/f.I /NTimes-Italic findfont def 
f.I 10 Z(Proc)s
874 X(.)s
933 X(Winter)s
1158 X(Usenix)s
1385 X(Conf)s
1514 X(.)s
1572 X(Dallas)s
1791 X(1988)s
f.R 10 Z(,)s
1981 X(pp)s
2047 X(.)s
600 X
594 Y
744 X(335)s
843 X(-345,)s
1003 X(January)s
1232 X(1988)s
1364 X(.)s
600 X
674 Y(Spen91a)s
829 X(.)s
868 X(Henry)s
1071 X(Spencer,)s
1340 X(``Awk)s
1550 X(As)s
1661 X(A)s
1746 X(Major)s
1946 X(Sys-)s
600 X
747 Y
744 X(tems)s
915 X(Programming)s
1324 X(Language,'')s
1691 X
f.I 10 Z(Proc)s
1821 X(.)s
1881 X(Winter)s
600 X
820 Y
744 X(Usenix)s
952 X(Conf)s
1081 X(.)s
1120 X(Dallas)s
1320 X(1991)s
f.R 10 Z(,)s
1491 X(pp)s
1557 X(.)s
1597 X(137)s
1696 X(-143,)s
1857 X(January)s
600 X
893 Y
744 X(1991)s
876 X(.)s
600 X
1093 Y
1043 X
f.B 10 Z(Author)s
1272 X(Information)s
600 X
1202 Y
744 X
f.R 10 Z(Henry)s
947 X(Spencer)s
1199 X(is)s
1281 X(head)s
1444 X(of)s
1536 X(Zoology)s
1798 X(Computer)s
600 X
1275 Y(Systems)s
851 X(at)s
927 X(the)s
1036 X(University)s
1345 X(of)s
1427 X(Toronto)s
1641 X(.)s
1707 X(He)s
1812 X(is)s
1884 X(known)s
600 X
1348 Y(for)s
701 X(his)s
803 X(regular)s
1017 X(expression)s
1327 X(and)s
1448 X(string)s
1625 X(libraries,)s
1887 X(and)s
2008 X(as)s
600 X
1421 Y(a)s
654 X(co)s
717 X(-author)s
933 X(of)s
1012 X(the)s
1118 X(C)s
1186 X(News)s
1362 X(netnews)s
1605 X(software)s
1835 X(.)s
1897 X(Reach)s
600 X
1494 Y(him)s
730 X(via)s
838 X(Canada)s
1064 X(Post)s
1205 X(at)s
1280 X(Zoology)s
1531 X(Computer)s
1824 X(Systems,)s
600 X
1567 Y(25)s
691 X(Harbord)s
937 X(St)s
993 X(.,)s
1052 X(University)s
1358 X(of)s
1437 X(Toronto,)s
1692 X(Toronto,)s
1947 X(Ont)s
2047 X(.)s
600 X
1640 Y(M5S)s
762 X(1A1)s
932 X(Canada)s
1132 X(.)s
1205 X(His)s
1332 X(electronic)s
1631 X(mail)s
1785 X(address)s
2019 X(is)s
600 X
1713 Y
stdencoding /NCourier /Courier RE
/f.CW /NCourier findfont def 
f.CW 10 Z(utzoo!henry)s
1062 X
f.R 10 Z(or)s
1157 X
f.CW 10 Z(henry@zoo)s
1517 X(.toronto)s
1837 X(.edu)s
1997 X
f.R 10 Z(.)s
600 X
1807 Y
744 X(Geoff)s
938 X(Collyer)s
1177 X(leads)s
1354 X(C)s
1438 X(News)s
1630 X(development)s
2015 X(at)s
600 X
1880 Y(Software)s
869 X(Tool)s
1023 X(&)s
1102 X(Die)s
1199 X(.)s
1265 X(He)s
1370 X(is)s
1442 X(senior)s
1632 X(author)s
1829 X(of)s
1911 X(the)s
2020 X(C)s
600 X
1953 Y(News)s
783 X(netnews)s
1034 X(software)s
1264 X(.)s
1335 X(His)s
1460 X(interests)s
1716 X(include)s
1945 X(sim-)s
600 X
2026 Y(ple,)s
761 X(small,)s
986 X(fast,)s
1162 X(elegant)s
1418 X(and)s
1576 X(powerful)s
1878 X(system)s
600 X
2099 Y(software)s
830 X(.)s
891 X(Reach)s
1080 X(him)s
1206 X(via)s
1310 X(U)s
1358 X(.S)s
1412 X(.)s
1452 X(Mail)s
1602 X(at)s
1674 X(Software)s
1938 X(Tool)s
600 X
2172 Y(&)s
703 X(Die,)s
868 X(1330)s
1051 X(Beacon)s
1302 X(St)s
1358 X(.)s
1425 X(#215,)s
1624 X(Brookline,)s
1957 X(MA)s
600 X
2245 Y(02146)s
765 X(.)s
911 X(His)s
1111 X(electronic)s
1483 X(mail)s
1711 X(address)s
2019 X(is)s
600 X
2318 Y
f.CW 10 Z(world!geoff)s
1062 X
f.R 10 Z(or)s
1157 X
f.CW 10 Z(geoff@world)s
1597 X(.std)s
1757 X(.com)s
1917 X
f.R 10 Z(.)s
600 X
4967 Y
f.B 10 Z(Summer)s
868 X('92)s
978 X(USENIX)s
1251 X(\261)s
1306 X(June)s
1465 X(8)s
1498 X(-June)s
1679 X(12,)s
1784 X(1992)s
1938 X(\261)s
1993 X(San)s
2122 X(Antonio,)s
2390 X(TX)s
3621 X(197)s
5280 Y
pagebot

%%Page: 198 14
pagetop
stdencoding /NTimes-Bold /Times-Bold RE
/f.B /NTimes-Bold findfont def 
f.B 10 Z
360 X
4967 Y(198)s
1598 X(Summer)s
1866 X('92)s
1976 X(USENIX)s
2249 X(\261)s
2304 X(June)s
2463 X(8)s
2496 X(-June)s
2677 X(12,)s
2782 X(1992)s
2936 X(\261)s
2991 X(San)s
3120 X(Antonio,)s
3388 X(TX)s
5280 Y
pagebot

%%Trailer
lastpage

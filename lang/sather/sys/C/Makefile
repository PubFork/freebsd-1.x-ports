# Configuration make file generated Fri Feb 11 02:32:53 PST 1994.
# Generated by: configure -TOPDIR /usr/ports/lang/sather

SHELL              = /bin/sh
SATHER_HOME        = /usr/ports/lang/sather
TOPDIR             = /usr/ports/lang/sather
CLANG              = 
ARCH               = FreeBSD
ENVI               = FreeBSD
GUESS_ENVI         = i386-unknown-FreeBSD
SATHERGRP          = sather
SATHER_MAKE        = make
GCSILENT           = SILENT
SKIPSAC            = NO
RELEASEVERSION     = 0.5.3
CONFIG_DATE        = Fri Feb 11 02:32:53 PST 1994
HOSTNAME           = freefall.cdrom.com
MKCMD              = ${MAKE} SATHER_HOME=/usr/ports/lang/sather TOPDIR=/usr/ports/lang/sather
CS                 = /usr/ports/lang/sather/bin.FreeBSD/sather

# Make file command locations
AR                  = /usr/bin/ar
COMPRESS            = /bin/compress
CP                  = /bin/cp
CMP                 = /usr/bin/cmp
CPP                 = cc -E -DFreeBSD
ECHO                = /bin/echo
ECHON               = /bin/echo
ED                  = /bin/ed
FALSE               = /usr/bin/false
FIND                = /usr/bin/find
LN                  = /bin/ln -s
MD                  = /bin/mkdir
MV                  = /bin/mv
RANLIB              = /usr/bin/ranlib
RM                  = /bin/rm
SED                 = /usr/bin/sed
TAR                 = /bin/tar
TEST                = /bin/test
TOUCH               = /usr/bin/touch
TRUE                = /usr/bin/true
YACC                = /usr/bin/yacc

# Settings from FreeBSD

CC           = gcc
MAINCC       = ${CC}
SDBCC        = ${CC}

MAINFLAGS    = -DGC_ -DSAFE_RT_ -w
CFLAGS       = -O ${MAINFLAGS} -D__FreeBSD__
GCFLAGS      = -O -D__FreeBSD__

TCLIBS       =
MFLAGS       =
BOOTFLAGS    =

SKIPSDB      = YES
SKIPGC       = NO

CSFLAGS      = -w -ver -cc '${CC}' -cflags '${CFLAGS}'

# File: Makefile.in
# Author: Jeff Bilmes
# Copyright (C) International Computer Science Institute, 1991
# Changes: Heinz Schmidt (hws@csis.dit.csiro.AU)
# Copyright (C) CSIRO Division of Information Technology, 1991-1993
#
# COPYRIGHT NOTICE: This code is provided "AS IS" WITHOUT ANY WARRANTY
# and is subject to the terms of the SATHER LIBRARY GENERAL PUBLIC
# LICENSE contained in the file: "sather/doc/license.txt" of the Sather
# distribution. The license is also available from ICSI, 1947 Center
# St., Suite 600, Berkeley CA 94704, USA.
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# FUNCTION:
#    Makefile for the initial runtime and C code.
#    Do not use SATHER_HOME except in the install step. All compilation
#    should happen in the top directory TOPDIR.
# HISTORY:
#* Last edited: Feb  1 17:46 1992 (hws)
#*  Oct 24 22:14 1993 (hws): add distclean
#*  Sep  3 22:37 1993 (hws): Pass GCSILENT to make GC
#*  Sep  2 03:40 1993 (oscar): distinguish CC CFLAGS for boot vs. non-boot
#*  Apr 16 22:21 1993 (hws): make gc_.a a library libgc.a so we can use -l
#*  Feb  1 19:33 1992 (hws): include shared defaults now.
#*  Feb  1 17:46 1992 (hws): ARCH itecture dependent bin introduced 
#* Created: Mon Jan  7 09:33:08 1991
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Local defaults

OBJS     = deep_save_.o main_.o runtime_.o rt_sux_.o envivars_.o

all: gc ${OBJS}
	-${CP} ${OBJS} ${TOPDIR}/bin.${ENVI}/
	-${CP} GC/gc.a ${TOPDIR}/bin.${ENVI}/libgc.a
	-${RANLIB} ${TOPDIR}/bin.${ENVI}/libgc.a

gc:
	@echo Making garbage collector.
	( cd GC; ${MKCMD} CC='${CC}' CFLAGS='${GCFLAGS} -D${GCSILENT}' AR=${AR} RANLIB="${RANLIB}" )
	${TOUCH} gc

clean:
	-${RM} *.o *~ gc
	( cd GC; ${MAKE} clean )

.c.o:
	${CC} ${CFLAGS} -I${TOPDIR}/sys/C -c $<


distclean:
	${MAKE} clean

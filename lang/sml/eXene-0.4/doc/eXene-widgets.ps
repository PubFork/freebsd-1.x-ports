%!PS-Adobe-2.0
%%Creator: dvips 5.497 Copyright 1986, 1992 Radical Eye Software
%%Title: manual.dvi
%%CreationDate: Mon Feb 15 17:53:50 1993
%%Pages: 49
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Times-Italic
%%EndComments
%DVIPSCommandLine: /usr/local/tex/bin/dvips manual
%DVIPSSource:  TeX output 1993.02.15:1753
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N /X{S N}
B /TR{translate}N /isls false N /vsize 11 72 mul N /@rigin{isls{[0 -1 1 0 0 0]
concat}if 72 Resolution div 72 VResolution div neg scale isls{Resolution hsize
-72 div mul 0 TR}if Resolution VResolution vsize -72 div 1 add mul TR matrix
currentmatrix dup dup 4 get round 4 exch put dup dup 5 get round 5 exch put
setmatrix}N /@landscape{/isls true N}B /@manualfeed{statusdict /manualfeed
true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N
/IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn begin /FontType 3 N /FontMatrix
fntrx N /FontBBox FBB N string /base X array /BitMaps X /BuildChar{
CharBuilder}N /Encoding IE N end dup{/foo setfont}2 array copy cvx N load 0 nn
put /ctr 0 N[}B /df{/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0
0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data
dup length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128
ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127
sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp 0 N
/cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2 index get
S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff ch-yoff ch-height
sub ch-xoff ch-width add ch-yoff setcachedevice ch-width ch-height true[1 0 0
-1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup
type /stringtype ne{]}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1
ne{dup dup length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}
B /I{cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage userdict
/eop-hook known{eop-hook}if}N /@start{userdict /start-hook known{start-hook}
if pop /VResolution X /Resolution X 1000 div /DVImag X /IE 256 array N 0 1 255
{IE S 1 string dup 0 3 index put cvn put}for 65781.76 div /vsize X 65781.76
div /hsize X}N /p{show}N /RMat[1 0 0 -1 0 0]N /BDot 260 string N /rulex 0 N
/ruley 0 N /v{/ruley X /rulex X V}B /V{}B /RV statusdict begin /product where{
pop product dup length 7 ge{0 7 getinterval dup(Display)eq exch 0 4
getinterval(NeXT)eq or}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1
TR 1 1 scale rulex ruley false RMat{BDot}imagemask grestore}}{{gsave TR -.1
-.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{
gsave transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N
/tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B
/w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{p 1 w}B /r{
p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p a}B /bos{/SS save
N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2 index
/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll exec 0 exch 5
-1 roll VResolution Resolution div mul neg 0 0]/Metrics exch def dict begin
Encoding{exch dup type /integertype ne{pop pop 1 sub dup 0 le{pop}{[}ifelse}{
FontMatrix 0 get div Metrics 0 get div def}ifelse}forall Metrics /Metrics
currentdict end def[2 index currentdict end definefont 3 -1 roll makefont
/setfont load]cvx def}def /ObliqueSlant{dup sin S cos div neg}B /SlantFont{4
index mul add}def /ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding
exch def}def end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300
(/golem/5/people/jhr/sml/eXene/working/doc/widgets/manual.dvi)
@start /Fa 81[18 54[24 1[17 9 13 11 1[17 17 17 26 9 17 1[9
17 17 11 15 17 2[15 7[24 4[20 37[8 46[{}22 33.333332 /Times-Roman
rf /Fb 206[12 49[{}1 25.000000 /Times-Roman rf /Fc 206[15 49[{}1
29.166668 /Times-Roman rf /Fd 140[15 16[19 98[{}2 37.500000
/Times-Italic rf /Fe 134[25 25 36 25 28 17 19 22 1[28 25 28
41 14 28 1[14 28 25 1[22 28 22 28 25 9[50 36 1[33 28 2[30 2[47
33 5[30 33 36 36 33 8[25 25 25 25 25 25 25 25 25 25 1[12 46[{}45
50.000000 /Times-Bold rf /Ff 77 126 df<60F0F0F0F0F0F0F0F0F0F0F0F0F07000000000
60F0F0600417789614>33 D<6030F078F078F078F078F078F07870707070707070700D0B7D9714
>I<38787C3C1C1C1C3C78F8F0E0060C799614>39 D<01C003C007800F001E003C003800780070
007000F000E000E000E000E000E000E000E000F00070007000780038003C001E000F00078003C0
01C00A1D7A9914>I<E000F00078003C001E000F00070007800380038003C001C001C001C001C0
01C001C001C003C003800380078007000F001E003C007800F000E0000A1D7D9914>I<03800380
0380638CF39E7FFC3FF80FE00FE03FF87FFCF39E638C0380038003800F107E9214>I<387C7E7E
3E1E1E7CF870070A7A8414>44 D<FFFEFFFEFFFE0F037E8C14>I<70F8F8F8700505798414>I<07
C00FE01FF03C783838701C701CE00EE00EE00EE00EE00EE00EE00EE00EF01E701C701C38383C78
1FF00FE007C00F177E9614>48 D<0300070007000F003F00FF00FF00E700070007000700070007
000700070007000700070007000700FFF0FFF0FFF00C177C9614>I<0FC03FF07FF8F07CF01EF0
1EF00E600E000E001E001C003C007800F001E003C007801F003E0E780EFFFEFFFEFFFE0F177E96
14>I<0FC03FF07FF8787C781C781C001C003C00F80FF00FE00FF8007C001C000E000E600EF00E
F01EF07C7FF83FF01FE00F177E9614>I<00F80001F80001F80003B8000338000738000F38000E
38001C38003C3800383800783800F03800FFFF80FFFF80FFFF8000380000380000380000380003
FF8003FF8003FF8011177F9614>I<7FFC7FFC7FFC70007000700070007000700077E07FF07FF8
783C701E000E000E600EF01EF01EF07C7FF83FF01FC00F177E9614>I<03F007F80FFC1F3C3C3C
78187000F000F080EFF0FFF8FFFCF83EF01EF00EF00EF00E700E781E3C7C3FF81FF007E00F177E
9614>I<E000FFFEFFFEFFFEE03CE078007000F000E001E003C00380038007800700070007000F
000E000E000E000E000E000E000F187E9714>I<70F8F8F87000000000000070F8F8F870051079
8F14>58 D<387C7C7C38000000000000387C7C7C3C1C3C78F06006157A8F14>I<FFFF80FFFF80
FFFF80000000000000000000FFFF80FFFF80FFFF8011097F8F14>61 D<4000F000F8007E003F00
0F8007E003F000FC007E001E007E00FC03F007E00F803F007E00F800F00040000F157E9514>I<
01C00003E00003E0000360000360000770000770000770000770000630000E38000E38000E3800
0E38001E3C001FFC001FFC001FFC001C1C00380E00FE3F80FE3F80FE3F8011177F9614>65
D<FFF0FFFCFFFE381E3807380738073807380E387E3FFC3FFC3FFE380E3807380738073807380F
381EFFFEFFFCFFF810177F9614>I<03F1800FFF801FFF803F0F803C0780780780700380F00380
F00000E00000E00000E00000E00000E00000F00000F003807003807803803C07803F0F001FFE00
0FFC0003F00011177F9614>I<FFE000FFF800FFFC00383E00381E00380F003807003807003803
80380380380380380380380380380380380380380780380700380F00381E00383E00FFFC00FFF8
00FFE00011177F9614>I<FFFF80FFFF80FFFF801C03801C03801C03801C03801C00001C1C001C
1C001FFC001FFC001FFC001C1C001C1C001C00001C01C01C01C01C01C01C01C0FFFFC0FFFFC0FF
FFC01217809614>I<FFFFC0FFFFC0FFFFC01C01C01C01C01C01C01C01C01C00001C1C001C1C00
1FFC001FFC001FFC001C1C001C1C001C00001C00001C00001C00001C0000FF8000FF8000FF8000
1217809614>I<07E6000FFE001FFE003E3E003C1E00780E00700E00F00E00E00000E00000E000
00E00000E07F80E07F80E07F80F00E00700E00781E003C1E003E3E001FFE000FFE0007EE001117
7F9614>I<FE3F80FE3F80FE3F80380E00380E00380E00380E00380E00380E00380E003FFE003F
FE003FFE00380E00380E00380E00380E00380E00380E00380E00FE3F80FE3F80FE3F8011177F96
14>I<FFF8FFF8FFF8070007000700070007000700070007000700070007000700070007000700
07000700FFF8FFF8FFF80D177D9614>I<FE7F00FE7F00FE7F00383C0038780038F00038F00039
E0003BC0003BC0003FC0003FE0003EE0003EF0003C7000387800383800383C00381C00381E00FE
1F80FE1F80FE1F8011177F9614>75 D<FFC000FFC000FFC0001C00001C00001C00001C00001C00
001C00001C00001C00001C00001C00001C00001C00001C00001C03801C03801C03801C0380FFFF
80FFFF80FFFF8011177F9614>I<FE0FE0FE0FE0FE0FE03B1B803B1B803B1B803B1B803BBB803B
BB8039B38039B38039B38039F38038E38038E380380380380380380380380380380380FE0FE0FE
0FE0FE0FE01317809614>I<FE3F80FE3F80FE3F803B0E003B0E003B0E003B0E003B8E00398E00
398E0039CE0039CE0039CE0038CE0038CE0038EE00386E00386E00386E00386E00FE3E00FE3E00
FE3E0011177F9614>I<1FF07FFC7FFC701CF01EE00EE00EE00EE00EE00EE00EE00EE00EE00EE0
0EE00EE00EE00EF01E783C7FFC7FFC1FF00F177E9614>I<FFF800FFFE00FFFF001C0F001C0780
1C03801C03801C03801C03801C07801C0F001FFF001FFE001FF8001C00001C00001C00001C0000
1C00001C0000FF8000FF8000FF80001117809614>I<FFE000FFF000FFF800383C00381E00380E
00380E00380E00381E00383C003FF8003FF0003FF800387C00381C00381C00381C00381C00381D
C0381DC0FE1FC0FE0FC0FE078012177F9614>82 D<0FCC3FFC7FFCF87CF03CE01CE01CF000F800
7F003FE01FF801FC003C001E000EE00EE00EF01EF83CFFFCFFF8CFE00F177E9614>I<FFFF80FF
FF80FFFF80E1C380E1C380E1C380E1C38001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C0000FF8000FF8000FF80011177F9614>I<FF8FF8FF8FF8
FF8FF81C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C0
1C01C01C01C01E03C00E03800F8F8007FF0003FE0000F8001517819614>I<FE3F80FE3F80FE3F
80380E00380E003C1E001C1C001C1C001C1C001C1C000E38000E38000E38000E38000630000770
0007700007700003600003600003E00003E00001C00011177F9614>I<FE0FE0FE0FE0FE0FE038
038038038038038038038038038038038018E30019F3001DF7001DB7001DB7001DB7001DB7001D
B7000DB6000DB6000D16000F1E000F1E000F1E001317809614>I<FE7F00FE7F00FE7F001E3800
0E78000F700007700007E00003E00003C00001C00003C00003E00003E0000770000770000E7800
0E38001C3C001C1C00FE3F80FE3F80FE3F8011177F9614>I<FE3F80FE3F80FE3F803C1E001C1C
001E3C000E38000E380007700007700003E00003E00003E00001C00001C00001C00001C00001C0
0001C00001C00007F00007F00007F00011177F9614>I<FFE0FFE0FFE0E000E000E000E000E000
E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000FFE0FF
E0FFE00B1D799914>91 D<E000E000F000F000780078003C003C001E001E000F000F0007800780
038003C003C001E001E000F000F000780078003C003C001E001E000E000E0F1D7E9914>I<FFE0
FFE0FFE000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000
E000E000E000E000E000E0FFE0FFE0FFE00B1D7F9914>I<0E003F807FC0FBE0F1E040400B067C
9614>I<FFFEFFFEFFFE0F037E7E14>I<3FC0007FF0007FF800787C00301C0000FC001FFC007FFC
007F9C00F01C00E01C00E03C00F87C007FFF807FFF801F8F8011107E8F14>97
D<FC0000FC0000FC00001C00001C00001C00001C00001CFC001FFE001FFF001F8F801E03801C03
C01C01C01C01C01C01C01C01C01E03C01E07801F8F801FFF001FFE001CFC001217809614>I<07
FC1FFE3FFE7C1E780CF000E000E000E000E000F00E780E7E1E3FFC1FF807F00F107E8F14>I<00
7E00007E00007E00000E00000E00000E00000E000FCE001FFE003FFE007C3E00781E00F00E00E0
0E00E00E00E00E00E00E00F01E00703E007C7E003FFFC01FFFC00FCFC012177F9614>I<07E01F
F83FFC7C3C781EF00EFFFEFFFEFFFEE000F00E780E7E1E3FFC1FF807E00F107E8F14>I<007C01
FE03FE079E070C07000700FFFEFFFEFFFE0700070007000700070007000700070007000700FFF8
FFF8FFF80F177F9614>I<07CF001FFF803FFF807C7F00783C00701C00701C00783C007C7C003F
F8007FF00077C0007800003FF8003FFE007FFF00F00F80E00780E00380E00380F007807C1F007F
FF001FFC0007F00011197F8F14>I<FC0000FC0000FC00001C00001C00001C00001C00001CFC00
1FFE001FFF001F0F001E07001C07001C07001C07001C07001C07001C07001C07001C0700FF9FE0
FF9FE0FF9FE01317809614>I<03000780078003000000000000000000FF80FF80FF8003800380
03800380038003800380038003800380FFFCFFFCFFFC0E187D9714>I<FC0000FC0000FC00001C
00001C00001C00001C00001CFFC01CFFC01CFFC01C7C001CF8001DF0001FE0001FE0001FF0001F
70001E78001C3C001C1E00FF3FC0FF3FC0FF3FC01217809614>107 D<FF80FF80FF8003800380
038003800380038003800380038003800380038003800380038003800380FFFEFFFEFFFE0F177E
9614>I<FFDF00FFFF80FFFF803CF3803CF38038E38038E38038E38038E38038E38038E38038E3
8038E380FEFBE0FEFBE0FEFBE01310808F14>I<FCFC00FFFE00FFFF001F0F001E07001C07001C
07001C07001C07001C07001C07001C07001C0700FF9FE0FF9FE0FF9FE01310808F14>I<07C01F
F03FF8783C701CF01EE00EE00EE00EE00EF01E701C7C7C3FF81FF007C00F107E8F14>I<FCFC00
FFFE00FFFF001F8F801E03801C03C01C01C01C01C01C01C01C01C01E03C01E07801F8F801FFF00
1FFE001CFC001C00001C00001C00001C00001C0000FF8000FF8000FF80001218808F14>I<07E7
001FFF003FFF007C3F00780F00F00F00E00700E00700E00700E00700F00F00781F007C3F003FFF
001FF7000FC700000700000700000700000700000700003FE0003FE0003FE013187F8F14>I<FE
3F00FEFF80FFFF800FE7800F83000F00000F00000E00000E00000E00000E00000E00000E0000FF
F800FFF800FFF80011107F8F14>I<1FF87FF8FFF8F038E038F0007F803FF80FFC003EE00EE00E
F83EFFFCFFF8CFF00F107E8F14>I<0E000E000E000E000E00FFFCFFFCFFFC0E000E000E000E00
0E000E000E0E0E0E0E0E0F1E07FC07F803E00F157F9414>I<FC3F00FC3F00FC3F001C07001C07
001C07001C07001C07001C07001C07001C07001C07001C1F001FFFE00FFFE007F7E01310808F14
>I<FF7F80FF7F80FF7F801C1C001C1C001C1C000E38000E38000E380006300007700007700007
700003E00003E00003E00011107F8F14>I<FF7F80FF7F80FF7F80300600380E00380E003BEE00
3BEE003BEE003B6E003B6E001B6C001B6C001E3C001E3C001E3C0011107F8F14>I<FE7F80FE7F
80FE7F800E780007700007E00003E00001C00003C00003E0000770000E78000E3800FF7F80FF7F
80FF7F8011107F8F14>I<FF7F80FF7F80FF7F801C1C001C1C000E1C000E38000E380007380007
300007300003700003700003E00001E00001E00001C00001C00001C0007B80007F80007F00007E
00003C000011187F8F14>I<7FFF7FFF7FFF703E707C70F801F003E007C00F801F073E077C07FF
FFFFFFFFFF10107F8F14>I<007E01FE03FE03C0038003800380038003800380038003800F80FF
00FE00FF000F800380038003800380038003800380038003C003FE01FE007E0F1D7E9914>I<E0
E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0031D789914>I<FC00FF00
FF8007800380038003800380038003800380038003E001FE00FE01FE03E0038003800380038003
800380038003800780FF80FF00FC000F1D7E9914>I E /Fg 134[29 29
42 29 32 19 23 26 1[32 29 32 48 16 2[16 32 29 1[26 32 1[32
29 9[58 2[39 32 42 1[36 2[55 1[45 5[39 1[42 13[29 29 29 29
29 2[15 46[{}35 58.333336 /Times-Bold rf /Fh 77 127 df<70F8F8F8F8F8F8F8F8F8F8
F8F8F8F8F80000000070F8F8F8700519789816>33 D<6030F078F078F078F078F078F078F078F0
78F078E038E0380D0C7C9916>I<387C7E7E3E0E0E0E1E3C3CF8F060070E799816>39
D<00E001E007C007800F001E003C0038007800700070007000F000E000E000E000E000E000E000
E000F000700070007000780038003C001E000F00078007C001E000E00B217A9C16>I<E000F000
7C003C001E000F000780038003C001C001C001C001E000E000E000E000E000E000E000E001E001
C001C001C003C0038007800F001E003C007C00F000E0000B217C9C16>I<0380038003800380E3
8EFBBEFFFE3FF80FE00FE03FF8FFFEFBBEE38E03800380038003800F127D9516>I<00E00000E0
0000E00000E00000E00000E00000E00000E000FFFFE0FFFFE0FFFFE000E00000E00000E00000E0
0000E00000E00000E00000E00013137F9516>I<78FCFEFEFE7E1E1E3CF8F0E0070C788516>I<78
FCFCFCFC780606788516>46 D<03E0000FF8001FFC001E3C00380E00780F00700700700700E003
80E00380E00380E00380E00380E00380E00380E00380F00780700700700700780F003C1E001E3C
001FFC000FF80003E00011197E9816>48 D<070007000F001F003F00FF00FF00F7000700070007
0007000700070007000700070007000700070007000700FFF8FFF8FFF80D197B9816>I<0FF000
1FFC007FFE00783F00F00F00F00780F00380F00380000380000380000780000700000F00001E00
003C0000780000F00003E00007C0000F00001E03803C0380FFFF80FFFF80FFFF8011197E9816>
I<0FF0003FFC007FFE00781F00780F00780700300700000F00000F00003E0007FC0007F80007FC
00001E00000F00000780000380600380F00380F00780F00F00F81F007FFE003FFC000FF0001119
7E9816>I<007C0000FC0000FC0001DC00039C00039C00071C000F1C000E1C001E1C003C1C0038
1C00781C00F01C00FFFFE0FFFFE0FFFFE0001C00001C00001C00001C00001C0001FFC001FFC001
FFC013197F9816>I<7FFE007FFE007FFE00700000700000700000700000700000700000700000
77F0007FFC007FFE007C1F00700700000780000380600380F00380F00780F00F00F83F007FFE00
3FFC000FF00011197E9816>I<E00000FFFF80FFFF80FFFF80E01F00E01E00003C00007C000078
0000F00000F00001E00001E00001C00003C00003C0000380000380000780000780000700000700
00070000070000070000070000111A7E9916>55 D<07F0001FFC003FFE007C1F00F00780E00380
E00380E003807007007C1F001FFC0007F0001FFC003C1E00700700F00780E00380E00380E00380
F007807007007C1F003FFE001FFC0007F00011197E9816>I<07F0001FF8003FFC007C3E00780F
00F00F00E00700E00780E00780E00380F00780F00780780F803FFF803FFF800FF3800107800007
00300F00780E00783E00787C007FF8003FF0000FC00011197E9816>I<000380000F80001F8000
7E0000FC0003F00007E0001F80003F0000FC0000F80000FC00003F00001F800007E00003F00000
FC00007E00001F80000F8000038011157E9616>60 D<7FFFC0FFFFE0FFFFE00000000000000000
00000000000000FFFFE0FFFFE07FFFC0130B7F9116>I<E00000F80000FC00003F00001F800007
E00003F00000FC00007E00001F80000F80001F80007E0000FC0003F00007E0001F80003F0000FC
0000F80000E0000011157E9616>I<00E00001F00001F00001B00001B00003B80003B80003B800
031800071C00071C00071C00071C00071C000E0E000E0E000FFE000FFE001FFF001C07001C0700
1C0700FF1FE0FF1FE0FF1FE013197F9816>65 D<FFF800FFFE00FFFF001C07001C07801C03801C
03801C03801C03801C07001FFF001FFE001FFE001C1F001C03801C03C01C01C01C01C01C01C01C
01C01C03C01C0780FFFF80FFFF00FFFC0012197F9816>I<03F18007FF800FFF801F0F803C0780
780780780380700380F00000E00000E00000E00000E00000E00000E00000E00000F00000700380
7803807803803C07801F0F000FFE0007FC0003F00011197E9816>I<FFF800FFFE00FFFF001C0F
001C07801C03C01C01C01C01C01C01E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00
E01C01C01C01C01C03C01C07801C0F80FFFF00FFFE00FFF8001319809816>I<FFFFC0FFFFC0FF
FFC01C01C01C01C01C01C01C01C01C00001C00001C1C001C1C001FFC001FFC001FFC001C1C001C
1C001C00001C00E01C00E01C00E01C00E01C00E0FFFFE0FFFFE0FFFFE013197F9816>I<FFFFE0
FFFFE0FFFFE01C00E01C00E01C00E01C00E01C00001C00001C1C001C1C001FFC001FFC001FFC00
1C1C001C1C001C00001C00001C00001C00001C00001C0000FFC000FFC000FFC00013197F9816>
I<03F18007FF800FFF801F0F803C0780780780780380700380F00000E00000E00000E00000E000
00E01FE0E01FE0E01FE0F003807003807807807807803C0F801F1F800FFF8007FB8003F3801319
7F9816>I<FF8FF8FF8FF8FF8FF81C01C01C01C01C01C01C01C01C01C01C01C01C01C01FFFC01F
FFC01FFFC01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C0FF8FF8FF8FF8FF
8FF81519809816>I<FFFEFFFEFFFE038003800380038003800380038003800380038003800380
0380038003800380038003800380FFFEFFFEFFFE0F197D9816>I<FF8FF0FF8FF0FF8FF01C0780
1C0F001C1F001C3E001C7C001C78001CF0001DF0001FF0001FF8001FF8001FBC001F3C001E1E00
1C1E001C0F001C0F001C07801C0780FF8FF0FF8FF0FF8FF01419809816>75
D<FFC000FFC000FFC0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00
001C00001C00001C00001C00001C00401C00E01C00E01C00E01C00E0FFFFE0FFFFE0FFFFE01319
7F9816>I<FC07E0FE0FE0FE0FE03A0B803B1B803B1B803B1B803B1B803BBB803BBB8039B38039
B38039B38039B38039F38038E38038E380380380380380380380380380380380FE0FE0FE0FE0FE
0FE013197F9816>I<FE0FF8FF0FF8FF0FF81D81C01D81C01D81C01DC1C01CC1C01CE1C01CE1C0
1C61C01C71C01C71C01C71C01C31C01C39C01C39C01C19C01C1DC01C0DC01C0DC01C0DC0FF87C0
FF87C0FF83C01519809816>I<1FFC003FFE007FFF00780F00F00780E00380E00380E00380E003
80E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380F00780F00780780F
007FFF003FFE001FFC0011197E9816>I<FFF800FFFE00FFFF001C0F801C03801C03C01C01C01C
01C01C01C01C03C01C03801C0F801FFF001FFE001FF8001C00001C00001C00001C00001C00001C
00001C0000FF8000FF8000FF800012197F9816>I<1FFC003FFE007FFF00780F00F00780E00380
E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E0E380
E1E380F0F780787F007FFF003FFE001FFC00001C00001E00000E00000F00000700000700111F7E
9816>I<FFF000FFFC00FFFE001C0F001C07801C03801C03801C03801C03801C07801C0F001FFE
001FFC001FFE001C1F001C0F001C07001C07001C07001C07381C07381C07F8FF87F8FF83F0FF81
E01519809816>I<0FF3001FFF007FFF00781F00F00F00E00700E00700E00000F000007800007F
80003FF8000FFC0000FE00000F00000780000380000380E00380E00380F00780F81F00FFFE00FF
FC00CFF80011197E9816>I<FFFFE0FFFFE0FFFFE0E0E0E0E0E0E0E0E0E0E0E0E000E00000E000
00E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E000
0FFE000FFE000FFE0013197F9816>I<FF8FF8FF8FF8FF8FF81C01C01C01C01C01C01C01C01C01
C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01E03C01E03C00F07
800F8F8007FF0003FE0000F8001519809816>I<FE0FE0FE0FE0FE0FE03803803C07801C07001C
07001C07001E0F000E0E000E0E000E0E000E0E00071C00071C00071C00071C0003180003B80003
B80003B80001B00001F00001F00000E00013197F9816>I<FF07F8FF07F8FF07F83800E03800E0
3800E03800E01C01C01C01C01C01C01C71C01CF9C01CF9C01CD9C01CD9C00CD9800CD9800CD980
0DDD800D8D800D8D800D8D80078F00078F000707001519809816>I<7F3FC07F3FC07F3FC00E1E
000E1C00071C0007380003B80003F00001F00001E00000E00001E00001F00003F00003B80007B8
00071C000F1C000E0E000E0E001C0700FF1FE0FF1FE0FF1FE013197F9816>I<FF1FE0FF1FE0FF
1FE01C07001C07000E0E000E0E00071C00071C00071C0003B80003B80001F00001F00000E00000
E00000E00000E00000E00000E00000E00000E00007FC0007FC0007FC0013197F9816>I<FFF0FF
F0FFF0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000
E000E000E000E000E000E000E000E000FFF0FFF0FFF00C20789C16>91 D<E00000E00000F00000
F000007800007800003C00003C00001E00001E00000F00000F000007800007800003C00003C000
01E00001E00000F00000F000007800007800003C00003C00001E00001E00000F00000F00000780
00078000038000038011207E9C16>I<FFF0FFF0FFF00070007000700070007000700070007000
7000700070007000700070007000700070007000700070007000700070007000700070FFF0FFF0
FFF00C207F9C16>I<07001FC07FF0FDF8F078E0380D067C9816>I<FFFF80FFFF80FFFF8011037E
7E16>I<1FE0007FF8007FFC00783E00301E00000E00007E000FFE003FFE007FCE00F80E00E00E
00E00E00F01E00F83E007FFFE03FFFE01FC3E013127E9116>97 D<FC0000FC0000FC00001C0000
1C00001C00001C00001CFC001FFF001FFF801F8FC01E03C01E01E01C01E01C00E01C00E01C00E0
1C00E01E01E01E01C01F03C01F8F801FFF801FFE001CFC0013197F9816>I<03FC0FFE1FFE3E1E
780C7000F000E000E000E000E000F00070077C073E1F1FFE0FFC03F010127D9116>I<003F0000
3F00003F0000070000070000070000070007E7001FFF003FFF003E3F00780F00700F00F00700E0
0700E00700E00700E00700F00F00F00F00781F007E3F003FFFE01FF7E007E7E013197F9816>I<
03F0000FFC003FFE003E1F00780F80F80780F00380FFFF80FFFF80FFFF80E00000F00000F80380
7C07803E0F801FFF000FFE0003F80011127E9116>I<003F0000FF8001FF8003E7800383000380
00038000FFFF00FFFF00FFFF000380000380000380000380000380000380000380000380000380
00038000038000038000FFFE00FFFE00FFFE0011197F9816>I<03E7C00FFFE01FFFE01E3CE03C
1E00380E00380E00380E003C1E001E3C001FFC003FF8003BE0003800003C00003FFE003FFF807F
FFC07807C0F001E0E000E0E000E0E000E0F001E07E0FC03FFF801FFF0007FC00131C7F9116>I<
FC0000FC0000FC00001C00001C00001C00001C00001CFC001FFE001FFF001F8F001E07001E0700
1C07001C07001C07001C07001C07001C07001C07001C07001C0700FF9FE0FF9FE0FF9FE013197F
9816>I<07000F800F800F800700000000000000FF80FF80FF8003800380038003800380038003
8003800380038003800380FFFEFFFEFFFE0F1A7C9916>I<FE0000FE0000FE00000E00000E0000
0E00000E00000E7FE00E7FE00E7FE00E1F000E3E000E7C000EF8000FF0000FF8000FFC000FBC00
0F1E000E1F000E0F800E0780FFCFF0FFCFF0FFCFF01419809816>107 D<FFC000FFC000FFC000
01C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C000
01C00001C00001C00001C00001C00001C000FFFF80FFFF80FFFF8011197E9816>I<FBC780FFEF
C0FFFFE03E7CE03C78E03870E03870E03870E03870E03870E03870E03870E03870E03870E03870
E0FE7CF8FE7CF8FE7CF81512809116>I<FCFC00FFFE00FFFF001F8F001E07001E07001C07001C
07001C07001C07001C07001C07001C07001C07001C0700FF9FE0FF9FE0FF9FE013127F9116>I<
03E0000FF8001FFC003C1E00780F00700700E00380E00380E00380E00380E00380F00780700700
780F003C1E001FFC000FF80003E00011127E9116>I<FCFC00FFFF00FFFF801F8FC01E03C01E01
E01C01E01C00E01C00E01C00E01C00E01E01E01E01C01F03C01F8F801FFF801FFE001CFC001C00
001C00001C00001C00001C00001C0000FF8000FF8000FF8000131B7F9116>I<07F3800FFB801F
FF803E1F80780F80700780F00780E00380E00380E00380E00380F00780700780780F803E1F803F
FF801FFB8007E380000380000380000380000380000380000380003FF8003FF8003FF8151B7F91
16>I<FF1FC0FF7FE0FFFFE007F9E007E0C007C000078000078000070000070000070000070000
070000070000070000FFFC00FFFC00FFFC0013127F9116>I<1FEC3FFC7FFCF03CE01CE01CF800
7FC03FF007FC003EE00EE00EF00EF83EFFFCFFF8CFF00F127D9116>I<07000007000007000007
0000070000FFFF00FFFF00FFFF0007000007000007000007000007000007000007000007010007
0380070380070780078F8003FF0003FE0000F80011177F9616>I<FC3F00FC3F00FC3F001C0700
1C07001C07001C07001C07001C07001C07001C07001C07001C07001C0F001E1F001FFFE00FFFE0
07F7E013127F9116>I<FF9FE0FF9FE0FF9FE01C07001C07000E0E000E0E000E0E00071C00071C
00071C00071C0003B80003B80003B80001F00001F00000E00013127F9116>I<FF1FE0FF1FE0FF
1FE038038038038038038038038039F38039F38019F30019B30019B30019B3001DB7001D17001F
1F000F1E000E0E0013127F9116>I<7F3FC07F3FC07F3FC00F1E00073C0003B80003F00001F000
00E00001E00001F00003B800073C00071C000E0E00FF3FE0FF3FE0FF3FE013127F9116>I<FF9F
E0FF9FE0FF9FE01C07000E07000E0E000E0E00070E00071C00071C00039C00039C0003980001B8
0001B80000F00000F00000F00000E00000E00000E00001C00079C0007BC0007F80007F00003C00
00131B7F9116>I<7FFFC07FFFC07FFFC0700F80701F00703E00007C0000F80001F00003E00007
C0000F80001F01C03E01C07C01C0FFFFC0FFFFC0FFFFC012127F9116>I<E0E0E0E0E0E0E0E0E0
E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E00320779C16>124
D<1E387F78FFF8F7F0E3C00D057C9816>126 D E /Fi 139[28 1[37 1[46
7[46 2[37 3[42 29[60 13[42 42 42 42 42 49[{}12 83.333336 /Times-Bold
rf /Fj 78[21 55[18 1[28 18 21 12 16 16 1[21 21 21 30 12 18
1[12 21 21 12 18 1[18 21 21 8[25 3[23 3[25 2[35 23 2[14 2[25
1[30 28 8[14 21 1[21 1[21 1[21 1[21 4[10 44[{}38 41.666668
/Times-Italic rf /Fk 1 59 df<70F8F8F87005057D840C>58 D E /Fl
136[30 1[23 14 16 18 1[23 21 23 35 12 23 1[12 23 21 14 18 23
18 23 21 8[30 42 1[30 5[32 30 39 28 2[16 3[28 1[30 28 30 1[21
7[21 1[21 21 21 21 21 21 1[10 46[{}41 41.666668 /Times-Bold
rf /Fm 134[52 3[58 35 40 46 1[58 52 58 1[29 2[29 58 52 1[46
58 46 58 52 9[104 1[75 7[98 3[40 5[75 69 66[{}23 104.166664
/Times-Bold rf /Fn 2 16 df<0003FE0000000FFF8000003E03E00000F800F80001E0003C00
0380000E0007000007000E000003801C000001C018000000C038000000E0300000006070000000
7060000000306000000030E000000038C000000018C000000018C000000018C000000018C00000
0018C000000018C000000018E00000003860000000306000000030700000007030000000603800
0000E018000000C01C000001C00E0000038007000007000380000E0001E0003C0000F800F80000
3E03E000000FFF80000003FE000025277E9D2A>13 D<07E01FF83FFC7FFE7FFEFFFFFFFFFFFFFF
FFFFFFFFFF7FFE7FFE3FFC1FF807E010107E9115>15 D E /Fo 69[18 10[23
23 3[18 47[18 21 21 30 21 21 12 16 14 21 21 21 21 32 12 21
12 12 21 21 14 18 21 18 21 18 3[14 1[14 1[30 30 39 30 30 25
23 28 1[23 30 30 37 25 30 16 14 30 30 23 25 30 28 28 30 5[12
12 21 21 21 21 21 21 21 21 21 21 12 10 14 10 2[14 14 14 32
38[{}76 41.666668 /Times-Roman rf /Fp 134[29 3[29 1[23 19 1[29
29 29 45 4[29 2[26 29 1[29 26 14[39 7[23 1[42 42 32 36 11[29
5[29 1[29 2[15 1[15 44[{}24 58.333336 /Times-Roman rf /Fq 134[25
2[25 25 14 19 17 2[25 25 1[14 2[14 3[22 2[25 22 10[36 1[30
5[36 44 30 1[19 1[36 5[33 36 7[25 1[25 25 1[25 3[25 1[12 1[12
2[17 17 1[39 38[{}32 50.000000 /Times-Roman rf /Fr 138[39 23
27 4[39 1[20 2[20 39 35 1[31 39 2[35 8[51 71 2[47 6[67 77[{}15
70.833336 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 0 1
0 0 bop 594 624 a Fr(The)18 b(eXene)h(W)o(idgets)f(Manual)881
673 y Fq(\(V)-6 b(ersion)13 b(0.4\))798 823 y Fp(February)i(11,)f(1993)791
1272 y(Emden)g(R.)g(Gansner)838 1347 y(John)h(H.)f(Repp)o(y)767
1480 y Fq(A)-6 b(T&T)13 b(Bell)g(Laboratories)819 1538 y(600)g(Mountain)f(A)l
(v)o(e.)783 1596 y(Murray)g(Hill,)g(NJ)h(07974)p eop
%%Page: 1 2
1 1 bop 585 945 a Fo(COPYRIGHT)844 944 y(c)833 945 y Fn(\015)10
b Fo(1993)f(by)h(A)-5 b(T&T)12 b(Bell)d(Laboratories)780 994
y(ALL)i(RIGHTS)g(RESER)m(VED)p eop
%%Page: 1 3
1 2 bop 112 435 a Fm(Contents)112 713 y Fl(1)41 b(Intr)o(oduction)1492
b(1)112 825 y(2)41 b(Using)10 b(W)o(idgets)1460 b(3)174 896
y Fo(2.1)43 b(W)n(idget)10 b(geometry)17 b Fk(:)j(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)78 b Fo(3)174
966 y(2.2)43 b(Roots)13 b Fk(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)78
b Fo(5)174 1037 y(2.3)43 b(W)n(idgets)c Fk(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)78
b Fo(6)174 1108 y(2.4)43 b(Programming)10 b(with)f(W)n(idgets)39
b Fk(:)20 b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)78
b Fo(7)112 1220 y Fl(3)41 b(W)o(idgets)1551 b(12)174 1290 y
Fo(3.1)43 b(Shell)25 b Fk(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b
Fo(12)174 1361 y(3.2)43 b(Composite)10 b(W)n(idgets)41 b Fk(:)21
b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57
b Fo(14)269 1431 y(3.2.1)50 b(Background)32 b Fk(:)21 b(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(14)269
1502 y(3.2.2)50 b(Box)37 b Fk(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(14)269 1572
y(3.2.3)50 b(Frame)35 b Fk(:)20 b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(16)269 1643 y(3.2.4)50
b(Pile)42 b Fk(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(17)269 1714 y(3.2.5)50 b(Scrollbar)10
b(layout)33 b Fk(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)57 b Fo(18)269 1784 y(3.2.6)50 b(Scrollport)36 b Fk(:)20
b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57
b Fo(19)269 1855 y(3.2.7)50 b(Shapes)23 b Fk(:)d(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(19)269
1925 y(3.2.8)50 b(V)n(ie)o(wport)17 b Fk(:)j(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(20)269 1996
y(3.2.9)50 b(W)n(idget)10 b(set)27 b Fk(:)20 b(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(21)174 2066
y(3.3)43 b(Simple)10 b(W)n(idgets)40 b Fk(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(23)269
2137 y(3.3.1)50 b(Buttons)41 b Fk(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(23)269 2208
y(3.3.2)50 b(Can)n(v)o(as)21 b Fk(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(25)269 2278
y(3.3.3)50 b(Color)9 b(rectangle)j Fk(:)20 b(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(26)269 2349 y(3.3.4)50
b(Di)o(vider)13 b Fk(:)20 b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(26)269 2419 y(3.3.5)50
b(Framed)11 b(widgets)34 b Fk(:)20 b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)57 b Fo(26)269 2490 y(3.3.6)50 b(Label)13
b Fk(:)21 b(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)g(:)h(:)57 b Fo(27)269 2560 y(3.3.7)50 b(Scrollbar)19
b Fk(:)h(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)57 b Fo(27)269 2631 y(3.3.8)50 b(Slider)40 b Fk(:)20
b(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)57 b Fo(29)1006 2799 y(i)p eop
%%Page: 2 4
2 3 bop 1000 -63 a Fo(ii)269 82 y(3.3.9)50 b(T)m(e)o(xtList)35
b Fk(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)57 b Fo(30)269 153 y(3.3.10)29 b(T)m(oggles)41 b
Fk(:)20 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)57 b Fo(31)174 223 y(3.4)43 b(T)m(e)o(xt)11 b(W)n(idgets)20
b Fk(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)57 b Fo(33)269 294 y(3.4.1)50 b(StrEdit)21 b
Fk(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g
(:)h(:)57 b Fo(33)269 364 y(3.4.2)50 b(FieldEdit)16 b Fk(:)k(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57
b Fo(34)269 435 y(3.4.3)50 b(V)n(irtual)9 b(terminal)36 b Fk(:)20
b(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57
b Fo(35)269 506 y(3.4.4)50 b(T)m(e)o(xt)35 b Fk(:)21 b(:)f(:)g(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)57
b Fo(35)112 618 y Fl(4)41 b(Menus)1577 b(37)269 688 y Fo(4.0.5)50
b(Menu)10 b(b)o(utton)22 b Fk(:)f(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)57 b Fo(38)112 800 y Fl(5)41 b(W)o(idget)10
b(Inter)o(nals)1397 b(40)174 871 y Fo(5.1)43 b(K)o(e)o(yboard)11
b(and)f(Mouse)g(Ev)o(ents)21 b Fk(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)57 b Fo(41)174 941 y(5.2)43 b(Control)8 b(Ev)o(ents)24
b Fk(:)c(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)g(:)h(:)57 b Fo(41)174 1012 y(5.3)43 b(Composite)10 b(W)n(idgets)41
b Fk(:)21 b(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)g(:)h
(:)57 b Fo(42)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e
(17:53)p eop
%%Page: 1 5
1 4 bop 112 414 a Fi(Chapter)19 b(1)112 643 y Fm(Intr)n(oduction)112
889 y Fo(This)10 b(document)g(describes)i(the)e Fl(eXene)i
Fo(widget)e(library;)f(it)h(is)g(a)h(companion)f(to)g Fj(The)h(eXene)i(Libr)o
(ary)d(Manual)f Fo([RG93)o(],)112 949 y(which)g(is)h(also)h(included)e(in)h
(the)g(distrib)o(ution)o(.)174 1029 y(The)h Fl(eXene)h Fo(widget)d(library)h
(pro)o(vides)g(a)h(collection)e(of)h(interface)g(\252widgets,)m(\272)i(plus)d
(the)i(glue)f(for)g(connecting)f(them)112 1089 y(into)h(an)i(application)e
(program.)19 b(On)11 b(the)g(surface,)i(the)e Fl(eXene)i Fo(widgets)e(serv)o
(e)i(the)e(analogous)g(role)g(to)g(the)h(base)g Fl(eXene)112
1149 y Fo(library)6 b(that)i(the)f Fl(Motif)p Fo(,)i Fl(OpenLook)f
Fo(and)g Fl(Athena)g Fo(toolkits)e(play)h(for)h Fl(Xlib)p Fo(.)14
b(In)7 b Fl(eXene)p Fo(,)k(ho)o(we)o(v)o(er)n(,)e(the)f(widget')n(s)f
(internal)112 1209 y(structure)g(and)h(e)o(xternal)g(connections)g(are)h
(much)f(more)h(closely)f(tied)f(to)g(the)h(base)h(library)m(.)14
b(Both)7 b(the)h(base)h(library)e(and)h(the)112 1269 y(widget)i(library)h
(were)h(designed)g(to)f(re\257ect)h(a)g(common)g(design)g(philosophy)d(for)i
(b)o(uilding)e(user)j(interfaces.)20 b(Although)112 1328 y(the)8
b(base)i(library)e(could)h(be)g(used)h(to)e(b)o(uild)g(libraries)g(and)h
(applications)f(in)h(almost)g(an)o(y)g(style,)g(it)g(contains)f(v)o(arious)h
(pieces)112 1388 y(that)i(strongly)e(support)i(a)h(particular)f(use)h(of)f
(subwindo)o(ws.)18 b(The)12 b(widget)f(library)f(uses)i(these)g(pieces)h(to)e
(implement)g(its)112 1448 y(components)f(and)g(to)g(e)o(x)o(emplify)g(the)g
(underlying)e(philosophy)g(of)i(constructing)f(graphical)g(interfaces.)174
1528 y(The)g(design)g(promoted)f(by)g Fl(eXene)j Fo(for)d(widgets)g(and)h
(their)g(interactions)e(with)h(each)i(other)e(and)h(with)f(the)h(application)
112 1588 y(is)h(based)g(on)g(a)h(collection)e(of)h(related)h(techniques.)174
1702 y Fn(\017)20 b Fo(Most)12 b(fundamental)g(is)g(concurrenc)o(y)m(.)22
b(Highly-interacti)o(v)n(e)11 b(graphical)g(user)i(interfaces)f(are)h
(inherently)e(concur)o(-)215 1762 y(rent.)j(This)7 b(concurrenc)o(y)h(should)
e(be)h(made)i(e)o(xplicit)d(and)h(used.)15 b(Allo)o(wing)5
b(each)j(widget)e(its)h(o)o(wn)f(thread)h(separates)215 1821
y(it)k(from)h(other)g(widgets)f(and)h(from)g(the)f(application)g(code.)21
b(This)12 b(allo)o(ws)f(simpler)h(structure)f(inside)g(the)h(widget,)215
1881 y(with)c(each)i(widget)e(synchronously)f(reading)h(its)g(o)o(wn)h(input)
e(streams,)j(and)f(cleaner)h(interfaces)f(between)g(widgets.)174
1974 y Fn(\017)20 b Fo(Dealing)15 b(with)g(widget)f(input)g(can)i(be)g
(further)e(simpli\256ed)h(by)g(di)o(viding)e(\252messages\272)18
b(to)d(a)h(widget)e(into)h(three)215 2034 y(functionally)g(distinct)h
(streams,)k(one)e(each)g(for)f(the)g(ke)o(yboard,)i(mouse)f(and)f(control.)35
b(The)18 b(control)e(stream)215 2094 y(pro)o(vides)10 b(such)g(messages)i(as)
e(\252your)g(windo)o(w)e(has)j(been)f(resized\272)h(and)f(\252redra)o(w)h
(yourself)r(\272.)k(W)n(ith)9 b(this)g(di)o(vision,)215 2154
y(code)h(for)f(handling)f(the)h(ke)o(yboard)g(or)g(mouse)h(can)g(be)f
(written)f(in)h(a)h(natural)f(synchronous)f(fashion,)h(with)f(no)h(need)215
2213 y(to)h(maintain)g(state)g(e)o(xplicitly)m(.)174 2306 y
Fn(\017)20 b Fo(Input)12 b(is)g(distrib)o(uted)f(hierarchically)m(.)22
b(Ev)o(ents)13 b(are)h(passed)f(from)g(the)f(root)g(widget)g(do)o(wn)g(the)g
(hierarchy)h(to)f(the)215 2366 y(appropriate)i(tar)o(get)g(widget.)28
b(This)14 b(allo)o(ws)g(the)h(programmer)g(to)f(interpose)f(widgets)h(at)h
(an)o(y)g(le)o(v)o(el)g(to)f(modify)215 2426 y(widget)c(characteristics)g(or)
g(alter)h(the)f(distrib)o(ution)d(of)j(e)o(v)o(ents.)174 2519
y Fn(\017)20 b Fo(Fe)o(w)12 b(things)d(are)i(as)h(full)d(of)i(state)g(as)g
(graphical)f(widgets.)16 b(This)11 b(state)g(can)g(best)g(be)g(controlled,)f
(especially)h(in)f(the)215 2579 y(conte)o(xt)f(of)f(a)i(language)e(such)h(as)
h Fl(ML)e Fo(that)h(encourages)g(immutable)g(v)o(alues,)g(by)g(encapsulating)
f(it)g(within)f(threads)215 2638 y(and)15 b(channels.)27 b(This)14
b(a)o(v)o(oids)g(the)g(need)h(for)e(the)h(e)o(xplicit)f(classes,)k(objects)d
(and)g(inheritance)g(that)g(are)h(usually)1001 2799 y(1)p eop
%%Page: 2 6
2 5 bop 1001 -63 a Fo(2)215 82 y(used)13 b(in)e(b)o(uilding)f(user)j
(interfaces.)21 b(Additional)10 b(object-oriented)g(techniques)i(can)h(be)g
(replaced)f(with)g(wrapper)215 142 y(widgets)e(and)g(dele)o(gation.)174
256 y(The)h(widget)f(library)g(is)h(the)g(most)f(tentati)o(v)o(e)h(part)f(of)
h(the)g Fl(eXene)h Fo(system,)g(and)f(the)g(most)g(likely)e(to)h(under)o(go)h
(radical)112 315 y(alterations)j(in)i(the)f(near)i(future.)31
b(The)16 b(current)g(set)g(of)g(widgets)f(is)g(incomplete,)i(and)f(the)g
(indi)o(vidual)d(widgets)i(lack)112 375 y(a)g(\256nished)g(look.)29
b(The)16 b(semantics)g(of)f(some)h(widgets)f(are)h(not)e(general)h(enough,)i
(or)e(are)h(not)e(what)h(the)g(user)h(might)112 435 y(e)o(xpect.)i(Some)12
b(of)f(the)g(necessary)h(protocols,)f(and)g(the)g(underlying)e(support,)h(ha)
o(v)o(e)j(not)d(been)h(completely)g(designed)g(or)112 495 y(implemented.)19
b(Most)11 b(of)g(the)g(data)h(structures,)g(most)f(notably)g(the)g
Fh(Widget)f Fo(structure)h(itself,)h(represent)g(\256rst)f(passes)i(at)112
555 y(what)e(will)f(be)h(necessary)m(.)20 b(Experience)13 b(will)d(require)h
(that)f(some)i(types)f(be)h(changed,)g(that)f(some)h(\256elds)f(be)h(added,)g
(that)112 614 y(some)f(functions)e(or)h(types)g(be)g(judged)g(wrong.)k(There)
d(is,)g(at)f(present,)h(no)f(inte)o(gration)f(of)h Fl(X)g Fo(resources)h
(with)e(the)i(widget)112 674 y(hierarchy)m(.)174 755 y(Despite)g(these)h
(shortcomings,)f(the)h(widget)e(library)h(pro)o(vides)g(a)h(workable)e
(fabric)h(for)g(embroidering)g(a)h(collection)112 814 y(of)d(widgets)h(into)f
(a)i(user)f(interface.)15 b(It)10 b(serv)o(es)i(as)f(an)f(initial)e
(proof-of-concept)h(for)h(the)g Fl(eXene)h Fo(design)f(philosophy)m(,)f(and)
112 874 y(points)f(the)i(direction)f(for)h(the)g(construction)f(of)h(mature)h
(libraries)e(based)i(on)f(the)g Fl(eXene)i Fo(design.)732 2799
y Fj(Dr)o(aft)e(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 3 7
3 6 bop 112 414 a Fi(Chapter)19 b(2)112 643 y Fm(Using)25 b(W)n(idgets)112
889 y Fo(The)10 b(widget)f(library)f(pro)o(vides)i(a)g(higher)o(-le)o(v)o(el)
f(platform)g(for)g(the)h(construction)e(of)h(graphical)g(interfaces)h(than)g
(the)f(basic)112 949 y Fl(eXene)j Fo(library)m(.)k(In)11 b(particular)n(,)g
(it)f(emphasizes)i(the)f(use)h(of)e(widget)g(components)h(as)h(the)e(basic)i
(b)o(uilding)c(block,)j(blocks)112 1009 y(that)g(can)i(be)g(used)g(modularly)
e(in)h(a)h(wide)f(v)o(ariety)g(of)g(applications.)20 b(Necessary)14
b(alterations)d(can)j(be)e(done)g(e)o(xternally)m(,)112 1068
y(through)c(resources,)k(parameter)f(settings,)e(or)h(by)g(wrapping)g(the)g
(widget)f(in)h(other)f(widgets.)174 1149 y(In)e(order)g(for)g(widgets)g(to)g
(work)f(together)h(at)h(this)e(le)o(v)o(el,)j(a)f(certain)f(uniformity)f
(must)h(be)h(assumed.)15 b(This)8 b(uniformity)d(is)112 1209
y(achie)o(v)o(ed)10 b(by)g(requiring)e(widgets)h(to)g(pro)o(vide)g(a)i
(certain)f(e)o(xternal)g(interface)f(and)h(to)f(respect)i(certain)f(internal)
f(protocols,)112 1269 y(and)h(requiring)f(the)i(programmer)g(to)f(obe)o(y)h
(a)g(fe)o(w)g(additional)d(constraints)i(on)g(the)h(construction)e(and)i(use)
g(of)f(the)h(widget)112 1328 y(hierarchy)m(.)24 b(The)14 b(basic)f(types)g
(and)h(v)o(alues)f(for)g(working)e(with)i Fl(eXene)h Fo(widgets)f(are)h(gi)o
(v)o(en)f(in)g(the)g Fh(Widget)f Fo(structure,)112 1388 y(which)h(matches)i
(the)f Fh(WIDGET)f Fo(signature.)26 b(In)13 b(this)g(chapter)n(,)j(we)f
(describe)f(the)g(pieces)h(of)f(this)f(structure)g(in)h(detail)f(as)112
1448 y(the)o(y)h(relate)h(to)f(tailoring)e(ne)o(w)j(widgets)f(from)g(old)g
(and)h(combining)e(them)i(into)e(applications.)27 b(A)15 b(discussion)f(of)g
(the)112 1508 y(implementation)9 b(of)g(a)i(ne)o(w)g(widget)e(from)h(scratch)
h(is)f(left)g(for)g(Chapter)g(5.)112 1669 y Fg(2.1)57 b(W)o(idget)16
b(geometry)112 1792 y Fo(In)7 b(order)h(to)g(specify)g(widget)f(layouts,)h
(it)f(is)h(necessary)i(to)d(describe)i(v)o(arious)e(geometric)i(constraints)e
(on)g(widgets,)i(such)f(as)112 1852 y(possible)g(sizes)i(and)f(alignments.)14
b Fl(EXene)9 b Fo(pro)o(vides)g(a)g(simple)g(b)o(ut)g(fairly)e(general)i(way)
g(of)g(modeling)f(these)h(constraints.)112 1912 y(The)h(assortment)h(of)f
(types)g(and)g(v)o(alues)g(employed)g(for)g(specifying)f(these)i(constraints)
e(are)i(gi)o(v)o(en)f(belo)o(w)m(.)1001 2799 y(3)p eop
%%Page: 4 8
4 7 bop 1001 -63 a Fo(4)174 82 y Ff(signature)16 b(WIDGET)h(=)213
128 y(sig)252 219 y(structure)f(CML)j(:)g(CONCUR_ML)252 265
y(structure)d(G)k(:)f(GEOMETRY)252 310 y(structure)d(EXB)j(:)g(EXENE_BASE)252
356 y(structure)d(Interact)h(:)i(INTERACT)252 402 y(structure)d(EXW)j(:)g
(EXENE_WIN)252 493 y(datatype)e(valign)g(=)i(VCenter)e(|)i(VTop)f(|)i
(VBottom)252 539 y(datatype)d(halign)g(=)i(HCenter)e(|)i(HRight)f(|)h(HLeft)
252 630 y(exception)d(BadIncremen)o(t)252 721 y(datatype)h(dim)h(=)h(DIM)g
(of)g({)331 767 y(base)77 b(:)19 b(int,)331 813 y(incr)77 b(:)19
b(int,)331 858 y(min)97 b(:)19 b(int,)331 904 y(nat)97 b(:)19
b(int,)331 950 y(max)97 b(:)19 b(int)f(option)291 995 y(})252
1087 y(\(*)h(type)f(bounds)f(=)j({)f(x_dim)f(:)h(dim,)f(y_dim)g(:)h(dim)f(})h
(*\))252 1132 y(type)f(bounds)252 1178 y(val)h(mkBounds)d(:)j({)h(x_dim)d(:)j
(dim,)e(y_dim)f(:)j(dim)e(})h(->)g(bounds)252 1269 y(val)g(fixDim)e(:)i(int)g
(->)g(dim)252 1315 y(val)g(natDim)e(:)i(dim)g(->)g(int)252
1361 y(val)g(minDim)e(:)i(dim)g(->)g(int)252 1406 y(val)g(maxDim)e(:)i(dim)g
(->)g(int)f(option)252 1452 y(val)h(fixBounds)d(:)j(\(int)f(*)h(int\))f(->)h
(bounds)252 1498 y(val)g(compatibl)o(eD)o(im)d(:)k(\(dim)e(*)h(int\))f(->)h
(bool)252 1543 y(val)g(compatibl)o(eS)o(ize)d(:)j(\(bounds)e(*)i(G.size\))e
(->)i(bool)252 1635 y(...)213 1680 y(end)112 1783 y Fo(The)12
b Fh(valign)f Fo(and)h Fh(halign)e Fo(datatypes)i(pro)o(vide)f(v)o(alues)h
(for)g(specifying)f(v)o(ertical)h(and)g(horizontal)e(alignment,)i(respec-)112
1843 y(ti)o(v)o(ely)m(.)i(F)o(or)c(e)o(xample,)i(to)e(specify)g(that)f(a)i
(collection)e(of)h(items)g(should)f(be)i(left-justi\256ed,)e(the)h
(programmer)g(chooses)h(the)112 1903 y(v)o(alue)f Fh(HLeft)p
Fo(.)174 1983 y(The)j(general)g(size)h(requirements)e(of)h(a)g(widget)f(are)h
(gi)o(v)o(en)g(by)f(a)i(v)o(alue)e(of)h(type)f Fh(bounds)p
Fo(.)22 b(This)12 b(record)h(has)h(\256elds)112 2043 y Fh(x_dim)f
Fo(and)i Fh(y_dim)e Fo(for)h(specifying)g(requirements)g(in)g(the)g
(horizontal)f(and)i(v)o(ertical)f(directions,)h(respecti)o(v)o(ely)m(.)28
b(The)112 2103 y Fh(dim)12 b Fo(datatype)g(represents)h(the)g(size)g
(constraints)f(of)g(the)h(widget)e(in)h(a)i(gi)o(v)o(en)e(dimension.)22
b(These)14 b(sizes)f(are)g(e)o(xpressed)112 2163 y(as)k(a)h(base)f(size)h
(plus)e(some)i(multiple)d(of)i(an)g(increment.)36 b(Speci\256cally)m(,)19
b(the)e(minimum)g(size,)i(in)e(pix)o(els,)h(is)f(gi)o(v)o(en)112
2222 y(by)e Fh(base)21 b(+)g(min*incr)p Fo(;)16 b(the)f(natural)g(size)h(is)g
Fh(base)21 b(+)g(nat*incr)p Fo(;)16 b(if)f Fh(max)21 b(=)h(SOME)f(mx)p
Fo(,)c(the)e(maximum)h(size)g(is)112 2282 y Fh(base)k(+)i(mx*incr)p
Fo(,)14 b(otherwise,)i(the)e(dimension)f(is)h(unbounded.)26
b(F)o(or)14 b(e)o(xample,)j(a)e(virtual)e(terminal)g(might)h(use)g(an)112
2342 y Fh(x_dim)9 b Fo(of)174 2431 y Ff(DIM{base)16 b(=)k(pad,)e(incr)g(=)h
(fontw,)e(min)i(=)g(1,)g(nat)f(=)h(24,)g(max)f(=)i(NONE})112
2534 y Fo(where)11 b Fh(pad)f Fo(is)h(some)h(base)g(padding)d(and)i
Fh(fontw)f Fo(is)h(the)g(width)e(of)i(a)g(character)n(.)19
b(This)10 b(gi)o(v)o(es)h(a)h(minimum)e(width)g(of)h(one)112
2594 y(character)n(,)h(a)f(natural)e(width)g(of)h(24)g(characters,)i(with)d
(an)i(unbounded)e(maximum)h(width.)174 2674 y(The)h(inte)o(ger)f(v)o(alues)g
(gi)o(v)o(en)g(in)g(a)h Fh(dim)e Fo(v)o(alue)i(should)e(satisfy)g(the)i
(follo)o(wing)c(constraints:)732 2799 y Fj(Dr)o(aft)j(of)f(F)m(ebruary)i(15,)
g(1993)e(17:53)p eop
%%Page: 5 9
5 8 bop 1001 -63 a Fo(5)174 82 y Fn(\017)20 b Fh(base)h(>=)h(0)174
175 y Fn(\017)e Fh(incr)h(>=)h(1)174 268 y Fn(\017)e Fh(base)h(+)h(min*incr)e
(>=)h(1)174 361 y Fn(\017)f Fh(0)i(<=)f(min)g(<=)h(nat)f(<=)g(max)p
Fo(.)112 475 y(Note)8 b(that)g(these)h(constraints)f(are)h(not)f(in)g
(general)h(enforced)g(by)g Fl(eXene)p Fo(,)h(b)o(ut)e(are)i(the)e
(responsibility)e(of)j(the)f(programmer)n(.)112 535 y(In)k(certain)g(cases,)j
(the)d(e)o(xception)g Fh(BadIncrement)e Fo(will)h(be)i(raised)g(if)e(the)i
(second)f(constraint)g(is)g(violated.)20 b(The)13 b(third)112
594 y(constraint)d(is)i(only)e(necessary)k(because)f Fl(X)f
Fo(does)g(not)f(allo)o(w)g(windo)o(ws)f(of)i(zero)g(width)f(or)g(height.)19
b(It)11 b(may)h(be)g(possible)112 654 y(relax)e(this)f(constraint)g(in)h
Fl(eXene)p Fo(.)174 735 y(The)j Fh(Widget)e Fo(structure)h(pro)o(vides)g
(some)h(auxiliary)e(functions)g(for)h(dealing)g(with)f Fh(dim)h
Fo(and)h Fh(bounds)e Fo(v)o(alues.)22 b(The)112 795 y Fh(mkBounds)13
b Fo(function)g(is)h(the)h(identity)d(function.)27 b(It)14
b(pro)o(vides)h(a)g(constructor)e(function)g(for)i Fh(bounds)e
Fo(v)o(alues)i(needed)112 854 y(in)i(functors)g(due)h(to)f(the)g(absence)j
(of)d(type)h(abbre)o(viations)e(in)h(signatures.)38 b(The)18
b Fh(minDim)p Fo(,)h Fh(natDim)e Fo(and)h Fh(maxDim)112 914
y Fo(functions)10 b(return)i(the)g(respecti)o(v)o(e)h(sizes)g(in)f(pix)o(els)
g(of)f(the)i(gi)o(v)o(en)e(dimension.)21 b Fh(fixDim)11 b Fo(and)h
Fh(fixBounds)f Fo(return)g(rigid)112 974 y(\(i.e.,)18 b Fh(min)j(=)h(nat)f(=)
g(max)p Fo(\))16 b(dimensions)f(and)h(bounds,)h(respecti)o(v)o(ely)m(,)h
(corresponding)c(to)i(gi)o(v)o(en)f(parameters.)34 b(The)112
1034 y Fh(compatibleDim)8 b Fo(function)h(returns)h(true)g(if)g(the)h(inte)o
(ger)f(ar)o(gument)h(is)f(at)h(least)g(the)f(minimum)h(size)g(and)g(no)f
(more)h(than)112 1093 y(the)g(maximum)g(size)h(speci\256ed)g(by)f(the)g
Fh(dim)g Fo(ar)o(gument.)18 b(The)12 b Fh(compatibleSize)d
Fo(function)g(returns)i(true)g(if)g(the)g(size)h(is)112 1153
y(compatible)d(with)h(the)g Fh(bounds)f Fo(ar)o(gument)h(in)g(both)f
(dimensions.)112 1314 y Fg(2.2)57 b(Roots)112 1438 y Fo(The)11
b Fh(root)e Fo(type)h(serv)o(es)i(as)f(an)g(abstraction)e(for)h(a)h(single)f
(screen.)16 b(It)10 b(can)h(be)g(vie)o(wed)f(as)i(representing)d(the)h(root)g
(windo)o(w)112 1497 y(of)f(the)i(screen.)16 b(In)10 b(the)g(future,)g(the)g
(root)f(structure)h(may)h(also)f(carry)h(v)o(arious)e(application)g
(speci\256c)i(information.)174 1597 y Ff(signature)16 b(WIDGET)h(=)213
1643 y(sig)252 1734 y(...)252 1780 y(type)h(root)252 1871 y(val)h(mkRoot)e(:)
i(string)f(->)g(root)252 1917 y(val)h(delRoot)e(:)i(root)f(->)h(unit)252
1962 y(val)g(sameRoot)d(:)j(\(root)f(*)h(root\))f(->)h(bool)252
2008 y(val)g(displayOf)d(:)j(root)f(->)h(display)252 2054 y(val)g(screenOf)d
(:)j(root)g(->)f(screen)252 2145 y(...)213 2191 y(end)112 2304
y Fo(The)10 b Fh(mkRoot)e Fo(function)g(accepts)i(a)g(string)e(ar)o(gument)i
(specifying)e(the)h(serv)o(er)h(connection)f(\(see)h(Chapter)f(3)g(of)g
Fj(The)h(eXene)112 2364 y(Libr)o(ary)i(Manual)e Fo(for)h(more)i
(information\).)18 b(The)12 b Fh(mkRoot)f Fo(function)f(opens)i(a)h
(connection)e(to)g(the)h(speci\256ed)g Fl(X)g Fo(serv)o(er,)112
2424 y(and)e(returns)f(a)i Fh(root)f Fo(v)o(alue)g(corresponding)f(to)h(the)g
(default)f(screen)i(of)f(the)g(serv)o(er)n(.)174 2504 y(A)15
b Fh(root)g Fo(v)o(alue)g(is)g(needed)h(to)e(create)j(most)e(widgets,)h(and)f
(therefore)g Fh(mkRoot)f Fo(is)h(usually)f(in)n(v)o(oked)g(early)i(in)e(an)
112 2564 y(application.)22 b(W)n(idgets)13 b(use)h(the)f(root)g(to)f(get)h
(access)j(to)c(the)i(display)m(,)f(and)h(thus)e(to)h(v)o(arious)g(resources)h
(such)f(as)h(fonts,)112 2624 y(colors)9 b(and)i(pixmaps,)f(all)g(which)g
(require)g(a)h(display)e(ar)o(gument.)732 2799 y Fj(Dr)o(aft)h(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 6 10
6 9 bop 1001 -63 a Fo(6)174 82 y(The)11 b Fh(delRoot)d Fo(function)h(closes)i
(the)e(display)h(connection.)k(This)c(has)h(the)f(side)g(ef)o(fect)g(of)g
(deleting)f(all)h(the)g(windo)o(ws)112 142 y(associated)i(with)e(that)h
(root,)h(plus)f(freeing)g(all)g(serv)o(er)h(resources)h(\(e.g.,)g(fonts,)f
(colors,)f(etc.\))20 b(associated)12 b(with)f(the)g(root.)112
202 y(The)f Fh(screenOf)p Fo(,)g Fh(displayOf)e Fo(and)i Fh(sameRoot)f
Fo(functions)g(do)h(the)g(ob)o(vious.)112 363 y Fg(2.3)57 b(W)o(idgets)112
486 y Fo(A)10 b(widget)f(is)i(essentially)e(a)i(triple)e(consisting)g(of)h(a)
h Fh(root)f Fo(v)o(alue,)h(a)g Fh(boundsOf)d Fo(function,)i(and)g(a)h
Fh(realize)e Fo(function.)14 b(It)112 546 y(is)c(implemented)g(as)h(an)f
(abstract)h(type)f(through)e(the)i Fh(mkWidget)f Fo(function.)174
645 y Ff(signature)16 b(WIDGET)h(=)213 691 y(sig)252 782 y(...)252
828 y(type)h(widget)252 874 y(datatype)f(wstate)g(=)i(Active)f(of)g(bool)g(|)
i(Inactive)c(of)j(bool)252 965 y(exception)d(AlreadyReal)o(iz)o(ed)252
1056 y(\(*)j(type)f(realize_fn)e(=)j({)272 1102 y(*)117 b(env)19
b(:)g(in_env,)272 1148 y(*)117 b(win)19 b(:)g(window,)272 1193
y(*)117 b(sz)19 b(:)g(size)272 1239 y(*)58 b(})20 b(->)e(unit)272
1285 y(*\))252 1330 y(type)g(realize_fn)252 1422 y(val)h(mkWidget)d(:)j({)331
1467 y(root)f(:)h(root,)331 1513 y(boundsOf)d(:)j(unit)g(->)f(bounds,)331
1559 y(realize)f(:)i(realize_f)o(n)291 1604 y(})h(->)f(widget)252
1650 y(val)g(rootOf)e(:)i(widget)f(->)g(root)252 1696 y(val)h(boundsOf)d(:)j
(widget)f(->)h(bounds)252 1741 y(val)g(realizeFn)d(:)j(widget)e(->)i
(realize_fn)252 1787 y(val)g(sameWidge)o(t)d(:)k(\(widget)d(*)i(widget\))e
(->)i(bool)252 1833 y(val)g(natSize)e(:)i(widget)e(->)i(size)252
1878 y(val)g(boundsFn)d(:)j(widget)f(->)h(unit)f(->)g(bounds)252
1924 y(val)h(okaySize)d(:)j(\(widget)e(*)j(size\))d(->)i(bool)252
2015 y(...)213 2061 y(end)112 2175 y Fo(The)12 b Fh(root)f
Fo(v)o(alue)h(simply)f(speci\256es)i(the)f(root)f(to)h(which)f(the)h(widget)f
(belongs.)20 b(A)12 b(widget')n(s)e(windo)o(w)h(and)h(its)f(e)o(xternal)112
2235 y(characteristics)k(\(e.g.,)j(size,)f(origin,)e(visibility\))d(are)k
(controlled)e(by)h(the)g(widget')n(s)f(parent.)29 b(The)16
b(parent)f(creates)i(the)112 2294 y(windo)o(w)8 b(and)i(passes)h(it)e(to)h
(the)g(child)f(through)f(the)i(child')n(s)e Fh(realize)h Fo(function.)k(A)d
(widget)f(can)i(only)e(be)h(realized)h(once;)112 2354 y(calling)i(its)g
Fh(realize)f Fo(function)h(additional)f(times)i(will)f(raise)h(the)g
Fh(AlreadyRealized)d Fo(e)o(xception.)26 b(The)15 b(child)e(also)112
2414 y(recei)o(v)o(es)h(the)f(size)g(of)g(the)g(windo)o(w)e(and)j(its)e(en)n
(vironment.)22 b(The)14 b(en)n(vironment)e(contains)h(three)g(e)o(v)o(ent)g
(v)o(alues)g(used)g(to)112 2474 y(transmit)d(ke)o(yboard,)i(mouse)g(and)g
(control)e(e)o(v)o(ents)i(to)f(the)h(child.)18 b(This)12 b(is)f(input)f(en)n
(vironment)h(discussed)h(in)f(Chapter)g(7)112 2533 y(of)g Fj(The)g(eXene)i
(Libr)o(ary)f(Manual)p Fo(.)17 b(It)11 b(is)g(the)g(child')n(s)f
(responsibility)f(to)h(always)h(be)h(a)o(v)o(ailable)f(to)g(synchronize)g(on)
g(these)112 2593 y(e)o(v)o(ents.)k(The)c Fh(realize)e Fo(function)g(will)g
(be)h(more)h(fully)e(discussed)h(in)g(terms)h(of)f(widget)f(internals)g
(\(see)j(Chapter)d(5\).)174 2674 y(The)g Fh(boundsOf)d Fo(function)h(is)h
(usually)f(used)h(by)g(a)h(widget')n(s)e(parent)h(to)f(determine)i(the)f
(size)h(constraints)e(of)h(the)g(widget)732 2799 y Fj(Dr)o(aft)i(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 7 11
7 10 bop 1001 -63 a Fo(7)112 82 y(when)10 b(positioning)d(the)k(child)e
(within)g(the)h(parent')n(s)g(windo)o(w)m(.)15 b(It)10 b(should)f(be)i(noted)
e(that)h(what)g(bounds)g(a)h(widget)e(returns)112 142 y(through)f(its)i
Fh(boundsOf)e Fo(function)h(is)h(only)f(a)i(suggestion)e(to)g(the)h(parent.)
16 b(P)o(arent)10 b(widgets)g(should)f(try)g(to)h(accommodate)112
202 y(a)k(child')n(s)f(size)i(requests,)h(b)o(ut)d(sometimes)i(this)e(is)h
(not)f(possible.)26 b(W)n(idgets,)16 b(in)d(turn,)i(should)e(be)h(designed)g
(to)f(safely)112 262 y(accommodate)d(an)o(y)f(size.)16 b(Also)8
b(note)g(that)h(the)f Fh(boundsOf)g Fo(function)f(should)h(not)g(block;)g
(each)i(widget)e(should)f(construct)112 321 y(its)i Fh(boundsOf)g
Fo(function)g(to)g(return)h(as)h(quickly)e(as)i(possible.)174
402 y(The)17 b Fh(Widget)e Fo(structure)h(contains)g(additional)e(functions)h
(associated)j(with)d(widget)g(properties.)33 b(The)17 b Fh(rootOf)p
Fo(,)112 462 y Fh(boundsFn)10 b Fo(and)h Fh(realizeFn)f Fo(functions)h(act)h
(as)g(selector)g(functions)e(for)h(these)i(de\256ning)d(attrib)o(utes)h(of)g
(a)h(widget.)19 b(The)112 521 y Fh(boundsOf)13 b Fo(function)h(returns)g(the)
h(current)g(bounds)f(desired)h(by)g(the)g(widget.)28 b(The)16
b(function)e Fh(natSize)f Fo(returns)i(the)112 581 y(current)g(natural)g
(size)h(associated)h(with)d(the)i(widget.)30 b(The)17 b(function)d
Fh(okaySize)g Fo(returns)h(true)g(if)h(the)f(gi)o(v)o(en)g(size)i(is)112
641 y(compatible)9 b(\(see)j Fh(compatibleSize)7 b Fo(abo)o(v)o(e\))k(with)e
(the)h(widgets)g(bounds.)174 721 y(Because)f(of)f(the)g(state)g(implicitly)d
(associated)k(with)e(widgets,)h(each)h(widget)e(recei)o(v)o(es)j(a)e(unique)f
(stamp)h(in)g Fh(mkWidget)p Fo(.)112 781 y(The)i Fh(sameWidget)f
Fo(function)f(reports)i(on)g(the)g(equality)f(of)h(these)h(stamps.)174
862 y(The)g Fh(wstate)f Fo(type)g(is)g(used)h(v)o(arious)f(places)h(in)f(the)
h(widget)e(library)h(to)g(specify)g(widget)g(state.)17 b(W)n(idgets)10
b(associated)112 922 y(with)i(a)h Fh(wstate)f Fo(v)o(alue)h(can)h(be)g
(considered)f(either)f(acti)o(v)o(e)i(or)f(inacti)o(v)o(e.)23
b(A)14 b(widget)e(in)g(either)h(state)g(can)h(be)g(either)e(set)112
981 y(or)h(unset.)27 b(Thus,)15 b(an)g(acti)o(v)o(e)f(widget)f(that)h(is)g
(set)g(would)e(correspond)i(to)g Fh(Active)20 b(true)p Fo(.)26
b(Usually)m(,)15 b(these)f(states)h(are)112 1041 y(re\257ected)d(in)e(the)h
(display)f(of)h(the)g(widget.)17 b(In)11 b(addition,)f(the)h(user)g(is)g
(usually)f(prohibited)f(from)i(changing)f(the)h(set/unset)112
1101 y(state)f(of)g(an)h(inacti)o(v)o(e)f(widget.)174 1181
y(W)n(idgets)17 b(li)o(v)o(e)g(fairly)f(circumscribed)i(li)o(v)o(es.)36
b(The)o(y)19 b(are)f(created;)j(the)o(y)d(are)g(inserted)f(into)f(a)i
(parent;)i(the)o(y)e(are)112 1241 y(realized,)10 b(being)f(gi)o(v)o(en)g(an)h
(input)e(en)n(vironment)h(and)h(a)g(windo)o(w;)e(the)o(y)i(might)e(be)i(remo)
o(v)o(ed)h(from)e(a)i(parent)e(widget;)f(their)112 1301 y(en)n(vironment)h
(and)h(windo)o(w)f(are)h(destroyed.)15 b(As)10 b(noted)f(abo)o(v)o(e,)i(the)f
(program)g(cannot)g(realize)g(a)h(widget)e(twice.)15 b(Nor)10
b(are)112 1361 y(there)f(an)o(y)i(pro)o(visions)d(for)h(remo)o(ving)h(a)g
(widget)f(from)h(the)f(widget)g(hierarchy)m(,)h(and)g(then)g(reinserting)e
(it)h(later)n(,)i(e)o(v)o(en)f(back)112 1420 y(into)e(its)i(original)f
(parent.)112 1581 y Fg(2.4)57 b(Pr)o(ogramming)15 b(with)h(W)o(idgets)112
1705 y Fo(There)c(are)g(a)f(fe)o(w)h(rules)f(concerning)f(the)h(use)h(of)f
(widgets)f(in)h(b)o(uilding)d(a)k(program.)18 b(At)11 b(some)g(point)f(in)h
(the)g(program,)g(a)112 1765 y Fh(root)g Fo(v)o(alue)g(must)h(be)g(created.)
21 b(This)11 b(can)i(be)f(used)g(to)f(create)i(widgets)e(in)g(v)o(arying)g
(order)n(.)19 b(Man)o(y)12 b(composite)f(widgets)112 1824 y(require)e(a)h
(list)f(of)g(child)g(widgets)g(at)g(the)h(time)f(of)h(creation;)f(this)g
(necessitates)h(that)f(a)h(child)f(widget)g(be)h(created)h(before)e(its)112
1884 y(parent.)18 b(Certain)10 b(composite)h(widgets)g(allo)o(w)g(child)f
(widgets)h(to)f(be)i(added)f(dynamically)m(.)18 b(Ev)o(en)12
b(in)f(these)h(cases,)i(it)c(is)h(a)112 1944 y(good)d(practice)j(and)e(more)i
(ef)o(\256cient)e(to)h(pro)o(vide)f(the)g(child)g(widgets)g(at)h(the)g(time)f
(the)h(parent)f(is)h(created.)16 b(At)9 b(some)i(point,)112
2004 y(a)g(widget)g(tree)h(must)f(be)h(attached)f(to)g(a)h
Fh(shell)f Fo(widget.)17 b(T)m(o)12 b(actually)f(instantiate)f(the)h(widget)f
(tree)i(\(i.e.,)h(to)e(realize)h(the)112 2063 y(widgets)e(and)h(create)h(and)
f(map)g(the)g(underlying)e(windo)o(ws\),)h(the)h Fh(init)f
Fo(function)f(must)i(be)g(called)g(on)g(the)g(shell)f(widget.)112
2123 y(In)g(most)g Fl(X)g Fo(toolkits,)e(the)j(call)f(to)g(instantiate)f(the)
h(widgets)f(causes)j(the)e(application)f(program)h(to)g(gi)o(v)o(e)g(up)g
(control)f(to)h(the)112 2183 y(e)o(v)o(ent-dri)o(v)o(en)g(control)g(loop)g
(within)f(the)i(toolkit)d(library)m(.)17 b(Alternati)o(v)o(ely)m(,)10
b(the)h(application)f(must)h(be)g(willing)e(to)h(pro)o(vide)112
2243 y(its)k(o)o(wn)g(e)o(v)o(ent)h(distrib)o(ution)d(mechanism.)30
b(Neither)14 b(of)g(these)i(de\256ciencies)f(is)g(true)f(in)h
Fl(eXene)p Fo(.)30 b(After)14 b(instantiating)112 2303 y(the)g(widgets,)h
(the)f(main)h(application)e(thread)h(is)h(still)e(acti)o(v)o(e)i(and)f(can)i
(continue)d(to)h(go)g(about)g(its)g(b)o(usiness,)i(whether)112
2362 y(performing)9 b(computations,)g(reading)h(from)g(standard)g(input)f(or)
h(interacting)f(with)g(the)h(widgets.)174 2443 y(Figure)j(2.1)h(contains)f
(the)g(code)h(for)f(a)h(simple)g(program)f(which)g(uses)i(widgets.)24
b(This)14 b(e)o(xample)h(dra)o(ws)f(a)g(framed)112 2503 y(b)o(utton)7
b(labeled)j(\252)p Fh(Goodbye,)20 b(Cruel)h(World!)p Fo(\272.)14
b(If)c(the)f(user)h(clicks)f(on)g(the)g(b)o(utton)f(with)h(an)o(y)g(mouse)h
(b)o(utton,)f(then)g(the)112 2562 y(function)h Fh(quit)i Fo(is)h(called.)22
b(The)13 b(program)f(will)f(also)i(quit)e(if)h(the)g(user)h(enters)g(\252)p
Fh(quit\\n)p Fo(\272)f(on)g(standard)g(input.)20 b(This)13
b(is)112 2622 y(similar)e(to)h(the)g Fh(xgoodbye)f Fo(e)o(xample)j(in)d
(Chapter)h(2)g(of)g([NO90],)h(b)o(ut)f(dif)o(fers)f(in)h(one)h(major)f(way)m
(.)22 b(In)12 b(the)g Fh(xgoodbye)p Fo(,)732 2799 y Fj(Dr)o(aft)e(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 8 12
8 11 bop 1001 -63 a Fo(8)174 105 y Ff(open)18 b(Widget)f(Box)i(FramedBut)o
(to)o(n)174 151 y(fun)f(goodbye)f(server)g(=)j(let)291 196
y(val)f(root)f(=)h(mkRoot)f(server)291 242 y(fun)h(quit)f(\(\))h(=)g
(\(delRoot)e(root;)g(RunCML.shu)o(tdo)o(wn)o(\(\)\))291 288
y(val)i(layout)e(=)i(Box.widgetO)o(f)d(\(mkLayout)h(root)h(\(VtCenter)e([)409
333 y(Glue)i({nat=30,)f(min=0,)g(max=NONE},)409 379 y(WBox)h(\(widgetOf)e
(\(mkFrTextC)o(md)g(root)i({)448 425 y(action)g(=)h(quit,)448
470 y(foregrnd)e(=)i(SOME\(EXB.b)o(la)o(ckO)o(fSc)o(r\()o(scr)o(ee)o(nOf)d
(root\)\),)448 516 y(backgrnd)h(=)i(NONE,)448 562 y(label="Good)o(by)o(e,)d
(Cruel)i(World!",)448 607 y(border_widt)o(h)e(=)k(1)409 653
y(}\)\),)409 699 y(Glue)e({nat=30,)f(min=0,)g(max=NONE})370
744 y(]\)\))291 790 y(val)i(shell)f(=)h(Shell.mkS)o(hel)o(l)d(\(layout,)h
(NONE,)h(win_name)e(=)j(NONE,)f(icon_name)e(=)j(NONE\))291
836 y(fun)g(loop)f(\(\))h(=)409 881 y(if)g(\(CIO.input)o(_l)o(ine)d
(CIO.std_i)o(n\))g(=)j("quit\\n")448 927 y(then)f(quit)h(\(\))448
973 y(else)f(loop)h(\(\))291 1018 y(in)331 1064 y(Shell.ini)o(t)d(shell;)331
1110 y(loop)i(\(\))291 1155 y(end)837 1288 y Fo(Figure)10 b(2.1:)k(Goodbye)
112 1422 y(control)8 b(is)i(passed)h(of)o(f)f(to)f(the)h Fl(Xt)g
Fo(e)o(v)o(ent)g(loop;)f(in)h(our)f(v)o(ersion,)h(the)g(application)f
(retains)h(control)e(\(reading)i(the)g(standard)112 1481 y(input)e(in)i(this)
f(case\).)174 1562 y(There)g(are)g(man)o(y)g(ways)f(ne)o(w)h(widgets)f(can)h
(be)f(tailored)f(from)h(e)o(xisting)g(ones.)15 b(In)8 b(addition)e(to)i(the)g
(ob)o(vious)f(technique)112 1622 y(of)k(altering)g(the)g(parameters)i(and)f
(v)o(alues)g(of)g(a)g(widget,)g(the)f Fl(eXene)i Fo(widget)e(library)g(pro)o
(vides)g(the)h(ability)e(to)h(compose)112 1682 y(widgets)e(graphically)g(and)
h(functionally)m(.)174 1762 y(Graphical)i(composition)f(occurs)i(when)g(the)g
(windo)o(w)e(of)h(a)i(widget)d(is)i(included)e(within)g(the)i(windo)o(w)e(of)
i(a)g(parent)112 1822 y(widget.)i(A)10 b(tri)o(vial)f(e)o(xample)j(of)e(this)
g(technique)g(occurred)g(in)g(the)h(e)o(xample)g(abo)o(v)o(e,)h(in)e(which)g
(a)i(b)o(utton)c(was)j(composed)112 1882 y(within)d(a)j(v)o(ertical)g(box.)k
(Belo)o(w)m(,)10 b(in)g(Figure)g(2.2,)h(we)g(gi)o(v)o(e)f(a)h(more)g
(substantial)e(e)o(xample,)j(in)e(which)g(a)h(label)f(widget)g(and)112
1941 y(a)g(slider)g(widget)f(are)i(combined)f(to)g(pro)o(vide)g(te)o(xtual)f
(feedback)j(for)d(the)i(slider')n(s)e(v)o(alue.)174 2022 y(The)j(second)g
(technique)g(for)f(composing)g(widgets)g(occurs)i(when)f(a)g(widget)f(wraps)h
(another)f(in)h(order)f(to)g(interpose)112 2082 y(its)d(o)o(wn)g(beha)o(vior)
n(.)14 b(In)9 b(the)f(follo)o(wing)f(e)o(xample,)j(the)f(wrapping)f(widget)g
(creates)i(a)f(rigid)f(widget)g(by)g(interposing)f(its)h(o)o(wn)112
2141 y Fh(boundsOf)g Fo(function.)174 2241 y Ff(fun)18 b(mkRigid)f(w)i(=)h
(let)291 2287 y(fun)f(myBounds)d(\(\))j(=)h(let)409 2332 y(val)f({x_dim,y_)o
(di)o(m})d(=)j(boundsOf)e(w)409 2378 y(in)448 2424 y({x_dim)h(=)h(fix)f
(x_dim,)g(y_dim)f(=)j(fix)e(y_dim})409 2469 y(end)291 2515
y(in)331 2561 y(mkWidget{)o(ro)o(ot=)o(roo)o(tO)o(f)f(w,)h(boundsOf=my)o(Bo)o
(und)o(s,)e(realize=re)o(al)o(ize)o(Fn)g(w})291 2606 y(end)732
2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 9 13
9 12 bop 1001 -63 a Fo(9)174 108 y Ff(fun)18 b(mkLabelSli)o(de)e(root)i
(\(wid,)g(color\))f(=)i(let)291 154 y(val)g(label)f(=)h(Label.mkL)o(abe)o(l)d
(root)i({)331 199 y(label=")36 b(0",)331 245 y(foregrnd=)o(co)o(lor)o(,)331
291 y(backgrnd=)o(NO)o(NE,)331 336 y(font=NONE)o(,)331 382
y(align=HRi)o(gh)o(t)291 428 y(})291 473 y(val)19 b(slider)e(=)i(Slider.mkHS)
o(li)o(der)d(root)i({)331 519 y(foregrnd=)o(co)o(lor)o(,)331
565 y(wid=wid,)331 610 y(init=0,)331 656 y(scale=100)291 702
y(})291 747 y(val)h(set)f(=)i(Label.set)o(La)o(bel)c(label)291
793 y(val)j(evt)f(=)i(Slider.ev)o(tO)o(f)d(slider)291 839 y(fun)i(loop)f
(\(\))h(=)g(loop)f(\(set)g(\(makestrin)o(g)f(\(sync)g(evt\)\)\))291
884 y(in)331 930 y(spawn)g(loop;)331 976 y(mkLayout)f(root)i(\(HzCenter)e([)
409 1021 y(WBox)i(\(Label.wid)o(get)o(Of)e(label\),)409 1067
y(Glue)i(nat=20,)f(min=20,)g(max=SOME)g(20,)409 1113 y(WBox)h(\(Slider.wi)o
(dge)o(tO)o(f)f(slider\))370 1158 y(]\))291 1204 y(end)615
1337 y Fo(Figure)10 b(2.2:)15 b(Composing)8 b(label)j(and)f(slider)f(widgets)
174 1470 y(As)g(another)f(e)o(xample)i(of)f(wrapping)f(a)h(widget)f(to)g
(alter)h(its)f(beha)o(vior)n(,)h(Figure)g(2.3)g(sho)o(ws)f(ho)o(w)h(we)g(can)
h(add)f(a)g(pop-up)112 1530 y(menu)14 b(to)f(the)h(e)o(xample)h(of)f(Figure)f
(2.1.)27 b(In)14 b(this)f(e)o(xample,)j(we)f(ha)o(v)o(e)g(taken)e(the)h(code)
g(from)g(the)g(pre)o(vious)f(e)o(xample,)112 1590 y(de\256ned)c(a)g(menu,)h
(and)f(used)g(the)f Fh(attachMenu)f Fo(function)g(to)h(wrap)h(a)h(handler)e
(for)g(this)g(menu)h(around)f(the)h(b)o(utton)e(widget.)112
1650 y(This)k(produces)h(a)g(ne)o(w)g(widget)f(and)h(a)g(CML)g(e)o(v)o(ent.)
20 b(The)12 b(ne)o(w)g(widget)f(works)g(identically)f(to)h(the)g(old)g
(widget,)h(e)o(xcept)112 1710 y(when)i(the)g(user)g(presses)i(the)e(third)e
(b)o(utton)h(in)h(the)g(windo)o(w)m(.)26 b(When)15 b(this)e(happens,)j(a)e
(pop-up)f(v)o(ersion)h(of)g(the)g(menu)112 1769 y(appears.)26
b(If)13 b(the)h(user)g(makes)g(a)g(selection,)h(this)e(selection)g(is)g
(reported)g(through)f(the)i(e)o(v)o(ent)g(v)o(alue.)25 b(The)15
b(main)e Fh(loop)112 1829 y Fo(function)8 b(no)o(w)i(services)h(both)e(menu)i
(selection)f(as)h(well)f(as)h(ke)o(yboard)e(input.)174 1910
y(The)i Fh(Widget)e Fo(structure)g(pro)o(vides)h(se)o(v)o(eral)h(functions)e
(to)h(support)f(modifying)f(widgets)i(through)e(wrappers.)732
2799 y Fj(Dr)o(aft)i(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 10 14
10 13 bop 991 -63 a Fo(10)174 108 y Ff(val)18 b(menu)g(=)i(MENU)e([)331
154 y(MenuItem\()o("i)o(tem)o(-1")o(,)e(1\),)331 199 y(MenuItem\()o("i)o(tem)
o(-2")o(,)g(2\),)331 245 y(MenuItem\()o("i)o(tem)o(-3")o(,)g(3\),)331
291 y(Submenu\(")o(su)o(bme)o(nu1)o(",)g(MENU)i([)409 336 y(MenuItem\(")o
(ite)o(m-)o(4",)e(4\),)409 382 y(MenuItem\(")o(ite)o(m-)o(5",)g(5\),)409
428 y(MenuItem\(")o(ite)o(m-)o(6",)g(6\))370 473 y(]\),)331
519 y(MenuItem\()o("i)o(tem)o(-7")o(,)g(7\))291 565 y(])174
610 y(fun)i(goodbye)f(server)g(=)j(let)291 656 y(val)f(root)f(=)h(mkRoot)f
(server)291 702 y(fun)h(quit)f(\(\))h(=)g(\(delRoot)e(root;)g(RunCML.shu)o
(tdo)o(wn)o(\(\)\))291 747 y(val)i(layout)e(=)i(Box.widgetO)o(f)d(\(mkLayout)
h(root)h(\(VtCenter)e([)409 793 y(Glue)i({nat=30,)f(min=0,)g(max=NONE},)409
839 y(WBox)h(\(widgetOf)e(\(mkFrTextC)o(md)g(root)i({)448 884
y(action)g(=)h(quit,)448 930 y(foregrnd)e(=)i(SOME\(EXB.b)o(la)o(ckO)o(fSc)o
(r\()o(scr)o(ee)o(nOf)d(root\)\),)448 976 y(backgrnd)h(=)i(NONE,)448
1021 y(label="Good)o(by)o(e,)d(Cruel)i(World!",)448 1067 y(border_widt)o(h)e
(=)k(1)409 1113 y(}\)\),)409 1158 y(Glue)e({nat=30,)f(min=0,)g(max=NONE})370
1204 y(]\)\))291 1250 y(val)i(\(widget,)d(evt\))j(=)g(attachMen)o(u)d
(\(layout,)h([Interact.)o(MB)o(utt)o(on)f(3],)j(menu\))291
1295 y(val)g(shell)f(=)h(mkShell)e(\(widget,)f(NONE,)i(win_name)e(=)k(NONE,)d
(icon_name)g(=)i(NONE\))291 1341 y(fun)g(loop)f(\(\))h(=)409
1387 y(select[)448 1432 y(wrap\(evt,)488 1478 y(fn)f(n)i(=>)f(\(CIO.pri)o
(nt\()o("c)o(hoi)o(ce)d(=)j("^)g(makestring)d(n)j(^)g("\\n"\);)f
(loop\(\)\)\),)448 1524 y(wrap\(CIO.in)o(pu)o(tLi)o(ne)o(Evt)e(CIO.std_i)o
(n,)488 1569 y(fn)i(line)h(=>)f(if)h(line)f(=)h("quit\\n")e(then)h(quit)g
(\(\))h(else)f(loop)g(\(\)\))409 1615 y(])291 1661 y(in)331
1706 y(init)g(shell;)331 1752 y(loop)g(\(\))291 1798 y(end)665
1930 y Fo(Figure)10 b(2.3:)k(Goodbye)c(with)f(a)i(pop-up)e(menu)174
2047 y Ff(signature)16 b(WIDGET)h(=)213 2093 y(sig)252 2184
y(...)252 2230 y(val)i(filterMou)o(se)d(:)j(widget)f(->)291
2276 y(\(widget)f(*)331 2321 y(\(\(mouse_m)o(sg)f(addr_msg)h(event)g(*)i
(mouse_msg)e(addr_msg)f(chan\))i(event\)\))252 2413 y(val)h(filterKey)d(:)j
(widget)e(->)291 2458 y(\(widget)g(*)331 2504 y(\(\(kbd_msg)f(addr_msg)g
(event)i(*)h(kbd_msg)e(addr_msg)g(chan\))g(event\)\))252 2595
y(val)i(filterCmd)d(:)j(widget)e(->)291 2641 y(\(widget)g(*)331
2687 y(\(\(cmd_in)f(addr_msg)h(event)g(*)j(cmd_in)d(addr_msg)f(chan\))i
(event\)\))252 2778 y(val)h(ignoreMou)o(se)d(:)j(widget)f(->)g(widget)252
2824 y(val)h(ignoreKey)d(:)j(widget)e(->)i(widget)252 2869
y(...)213 2915 y(end)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g
(1993)e(17:53)p eop
%%Page: 11 15
11 14 bop 991 -63 a Fo(11)112 82 y(The)13 b Fh(filterMouse)e
Fo(function)g(takes)i(a)g(widget)f(and)h(returns)f(a)h(ne)o(w)g(widget)f
(wrapped)h(around)f(the)h(old)f(widget.)22 b(The)112 142 y(ne)o(w)11
b(widget)g(lets)g(the)h(application)e(ha)o(v)o(e)i(access)i(to)d(the)g
(plumbing)f(of)h(mouse)h(e)o(v)o(ents)g(to)f(the)h(original)d(widget.)19
b(Before)112 202 y(the)11 b(original)e(widget)h(is)h(realized,)i(the)e
(wrapper)g(widget)g(uses)g(the)h(returned)e(e)o(v)o(ent)i(v)o(alue)f(to)g
(supply)f(the)h(recei)o(ving)g(end)112 262 y(of)g(the)h(widget')n(s)e(stream)
j(of)f(mouse)g(e)o(v)o(ents,)h(plus)e(a)i(channel)f(by)f(which)h(the)g
(application)e(can)j(transmit)e(mouse)h(e)o(v)o(ents)112 321
y(to)g(the)g(original)f(widget.)22 b(As)13 b(usual)g(with)e(these)j(e)o(v)o
(ent)f(v)o(alues,)h(the)e(application)g(must)g(be)h(capable)h(of)e
(synchronizing)112 381 y(on)f(the)g(mouse)h(e)o(v)o(ent)g(with)f(little)f
(delay)m(.)20 b(The)12 b Fh(filterKey)e Fo(and)h Fh(filterCmd)f
Fo(functions)h(are)h(the)g(ob)o(vious)e(analogues.)112 441
y(The)g Fh(ignoreMouse)e Fo(and)i Fh(ignoreKey)e Fo(wrappers)i(\256lter)f
(out)g(all)h(mouse)g(and)g(ke)o(yboard)g(e)o(v)o(ents,)g(respecti)o(v)o(ely)m
(,)h(from)f(the)112 501 y(original)e(widget.)732 2799 y Fj(Dr)o(aft)i(of)f(F)
m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 12 16
12 15 bop 112 414 a Fi(Chapter)19 b(3)112 643 y Fm(W)n(idgets)112
889 y Fo(W)m(e)14 b(note)g(that)f(widgets)h(di)o(vide)f(naturally)g(into)g
(two)g(classes:)23 b(composite)14 b(and)h(simple.)26 b(The)15
b(former)f(are)h(those)f(that)112 949 y(take)e(other)f(widgets)h(as)h
(parameters.)22 b(The)o(y)13 b(graphically)e(contain)h(one)g(or)g(more)g
(child)g(widgets,)g(and)g(are)h(responsible)112 1009 y(for)e(the)i(layout)e
(of)h(the)g(child)g(widgets.)20 b(Simple)13 b(widgets)e(usually)h(occur)g(as)
h(the)g(leaf)f(nodes)h(in)e(the)i(widget)e(hierarchy)112 1068
y(and)f(pro)o(vide)f(the)h(basic)g(pseudo-de)o(vices)g(\(scrollbars,)g
(meters,)h(dials,)f(b)o(uttons,)f(etc.\))15 b(with)9 b(which)h(the)f(user)i
(does)f(input.)112 1128 y(These)15 b(de\256nitions)d(are)j(not)e(meant)h(to)f
(be)h(precise.)27 b(In)14 b(particular)n(,)g(we)h(note)e(that)g(some)i
(simple)f(widgets)f(are)h(in)g(fact)112 1188 y(implemented)c(as)h(composite)f
(widgets.)174 1269 y(All)g(widgets)h(act)h(like)e(subtypes)h(of)g(the)g
Fh(widget)f Fo(type.)18 b(W)m(e)12 b(use)f(the)g(con)n(v)o(ention)g(that)g
(each)h(widget)f(type)f(supplies)112 1328 y(an)g(e)o(xplicit)f(type)h
(casting)g(function)f Fh(widgetOf)g Fo(that)g(e)o(xposes)i(an)g(underlying)d
Fh(widget)h Fo(v)o(alue.)174 1409 y(In)14 b(the)g(follo)o(wing)d(sections,)16
b(we)e(describe)h(the)f(currently)f(a)o(v)o(ailable)h(widgets.)26
b(F)o(or)14 b(each)i(widget,)e(we)h(comment)112 1469 y(on)g(what)h(it)f
(does,)j(ho)o(w)d(it)g(reacts)i(to)e(some)i(of)e(the)h(important)f(base)h
(protocols,)h(ho)o(w)e(it)g(is)h(created,)i(and)e(ho)o(w)g(it)f(is)112
1528 y(parameterized.)22 b(Note)13 b(that)e(there)i(is)f(little)f(consistenc)
o(y)h(as)h(to)f(which)g(parameters,)j(such)d(as)h(color)n(,)g(font)f(or)g
(sizes,)i(are)112 1588 y(a)o(v)o(ailable)d(to)g(the)h(programmer)g
(dynamically)f(and)g(which)h(are)g(b)o(uilt)e(into)g(the)i(widget.)18
b(W)m(e)12 b(assume)h(that)e(this)g(problem)112 1648 y(will)d(go)i(a)o(way)h
(in)f(a)h(future)e(release)j(when)e(a)h(uniform)e(resource)i(mechanism)h(is)e
(supplied.)112 1809 y Fg(3.1)57 b(Shell)112 1932 y Fo(The)14
b Fh(shell)f Fo(type)h(does)g(not)f(de\256ne)h(a)h(widget)e(per)h(se.)26
b(It)14 b(pro)o(vides)f(an)h(abstraction)g(for)f(top-le)o(v)o(el)g(windo)o
(ws,)h(which)112 1992 y(ob)o(viously)7 b(cannot)i(be)g(inserted)g(in)g(other)
f(widgets,)h(and)g(handles)g(the)g(mismatch)h(between)g(the)f
Fl(X)g Fo(model)g(and)g(the)g Fl(eXene)112 2052 y Fo(model.)26
b(It)14 b(allo)o(ws)g(the)g(user)g(to)g(pro)o(vide)f(top-le)o(v)o(el)g(windo)
o(w)g(information)g(to)g(the)h(windo)o(w)f(manager)n(.)28 b(It)14
b(also)g(hides)112 2112 y(v)o(arious)9 b(other)h(implementation)f(dif)o
(ferences)h(between)h(top-le)o(v)o(el)e(windo)o(ws)h(and)g(subwindo)o(ws.)991
2799 y(12)p eop
%%Page: 13 17
13 16 bop 991 -63 a Fo(13)174 82 y Ff(signature)16 b(SHELL)i(=)213
128 y(sig)252 174 y(structure)e(W)k(:)f(WIDGET)252 265 y(type)f(shell)252
356 y(type)g(wm_args)f(\(*)i(=)g({)h(win_name)c(:)j(string)f(option,)e
(icon_name)h(:)i(string)e(option)g(})j(*\))252 402 y(val)f(mkWMArgs)d(:)j
(win_name)e(:)i(string)e(option,)g(icon_name)g(:)i(string)e(option)g(->)i
(wm_args)252 493 y(type)f(hints)g(\(*)h(=)g({)g(size_hints)d(:)j(size_hints)d
(list,)i(wm_hints)e(:)j(wm_hints)e(list)h(})h(*\))252 539 y(val)g(mkHints)e
(:)i({)409 584 y(size_hints)d(:)j(W.EXW.ICCC)o(.s)o(ize)o(_hi)o(nt)o(s)e
(list,)409 630 y(wm_hints)g(:)i(W.EXW.ICC)o(C.w)o(m_)o(hin)o(ts)d(list)370
676 y(})j(->)g(hints)252 767 y(val)g(mkShell)e(:)i(\(widget)e(*)i(W.EXB.col)o
(or)d(option)i(*)h(wm_args\))d(->)j(shell)252 813 y(val)g(mkTransie)o(nt)o
(She)o(ll)d(:)j(W.EXB.wind)o(ow)d(->)370 858 y(\(widget)h(*)i(W.EXB.colo)o(r)
d(option)i(*)h(wm_args\))d(->)j(shell)252 950 y(val)g(init)f(:)h(shell)f(->)h
(unit)252 995 y(val)g(destroy)e(:)i(shell)f(->)g(unit)252 1041
y(val)h(setWMHint)o(s)d(:)k(shell)d(->)i(hints)f(->)h(unit)213
1087 y(end)112 1200 y Fo(The)c Fh(mkShell)f Fo(function)f(creates)j(a)f
(shell)g(using)f(a)h(child)f(widget,)h(an)h(optional)d(color)n(,)j(and)f
(optional)e(labels)h(for)h(the)112 1260 y(top-le)o(v)o(el)8
b(windo)o(w)g(and)i(its)f(icon.)14 b(The)c(color)f(speci\256es)i(the)e
(top-le)o(v)o(el)f(background)h(color;)g(by)g(default,)g(it)f(is)i(white.)k
(The)112 1320 y(labels)8 b(are)h(passed)g(to)f(the)h(windo)o(w)e(manager)n(.)
15 b(The)o(y)9 b(correspond)f(to)g(the)h Fh(win_name)e Fo(and)h
Fh(icon_name)f Fo(parameters)i(used)112 1380 y(with)h Fh(setWMProperties)p
Fo(,)f(as)j(described)g(in)f(Chapter)g(4)h(of)f Fj(The)h(eXene)h(Libr)o(ary)f
(Manual)p Fo(.)17 b(The)12 b(shell)f(will)g(be)g(totally)112
1440 y(o)o(v)o(erlaid)f(by)g(its)f(child)h(widget;)e(the)j(bounds)e(of)h(the)
g(shell)g(are)h(the)f(same)i(as)f(its)e(child.)174 1520 y(The)j(widget)f
(tree)h(attached)g(to)g(the)f(shell)h(is)f(not)g(instantiated)f(until)g(the)i
(program)f(calls)h(the)g Fh(init)f Fo(function)f(on)i(the)112
1580 y(shell.)18 b(Only)10 b(at)i(this)e(point)g(will)g(the)i(underlying)d
(windo)o(ws)h(be)i(created)g(and)g(mapped,)h(and)e(the)g(widget)g(hierarchy)g
(will)112 1640 y(become)e(visible.)14 b(The)9 b(natural)f(size)h(of)g(the)f
(top-le)o(v)o(el)g(windo)o(w)f(is)i(the)f(natural)g(size)h(of)g(the)f(child)g
(widget.)14 b(The)9 b(shell)f(uses)112 1699 y(the)g(bounds)h(of)f(the)h
(top-le)o(v)o(el)g(windo)o(w)e(to)i(specify)g(a)h(base,)g(minimum)f(and)g
(maximum)h(windo)o(w)e(size)i(plus)e(windo)o(w)g(size)112 1759
y(increments)j(to)g(the)h(windo)o(w)e(manager)n(.)20 b(A)12
b(call)g(to)f Fh(destroy)f Fo(on)h(a)i(shell)e(causes)i(the)e(destruction)g
(of)g(all)g(the)h(windo)o(ws)112 1819 y(in)d(the)h(widget)g(hierarchy)g(belo)
o(w)f(the)h(shell.)174 1900 y(The)h Fh(mkTransientShell)d Fo(function)h(allo)
o(ws)h(you)g(to)g(create)i(a)f(\252transient\272)f(top-le)o(v)o(el)g(windo)o
(w)m(.)16 b Fl(X)10 b Fo(pro)o(vides)h(three)112 1959 y(\257a)o(v)o(ors)k(of)
h(top-le)o(v)o(el)e(windo)o(ws.)30 b(Most)15 b(are)h(meant)g(to)f(be)h
(\252long-li)o(v)o(ed\272)e(and)h(managed)i(by)e(the)g(windo)o(w)g(manager)n
(.)112 2019 y(T)m(ypically)m(,)10 b(the)h(windo)o(w)f(manager)i(will)e
(decorate)i(them)f(with)f(a)h(frame,)i(a)e(title)f(bar)h(and)g(v)o(arious)f
(icons.)18 b(These)12 b(are)g(the)112 2079 y(windo)o(ws)f(created)i(by)f(the)
g Fh(mkShell)f Fo(function.)20 b(At)12 b(the)g(other)g(e)o(xtreme)h(are)g
(pop-up)e(windo)o(ws.)21 b(These)13 b(are)g(meant)g(to)112
2139 y(last)f(v)o(ery)i(short)e(periods)g(of)h(time,)h(as)g(in)f(a)g(pop-up)f
(menu,)j(and)e(are)h(not)e(re)o(gistered)h(with)g(the)f(windo)o(w)g(manager)n
(.)25 b(At)112 2198 y(present,)15 b(the)f(widget)g(library)f(does)h(not)f
(pro)o(vide)h(direct)g(access)i(to)e(such)g(windo)o(ws,)h(although)d(the)o(y)
j(are)g(used)f(in)g(the)112 2258 y(implementation)9 b(of)g(menus.)16
b(The)11 b(programmer)g(can)g(create)g(them)g(using)e(the)h
Fh(createSimplePopupW)o(in)d Fo(function)i(in)112 2318 y(the)h(base)h
(library)m(.)j(The)d(third)d(type)i(of)g(windo)o(w)f(is)h(transient,)f
(occupying)g(a)i(middle)e(ground)g(between)i(the)f(other)f(two.)15
b(A)112 2378 y(typical)7 b(use)i(of)f(a)h(transient)f(windo)o(w)f(would)g(be)
i(in)f(a)h(dialogue)e(box.)14 b(The)c(windo)o(w)d(manager)i(kno)o(ws)f(about)
g(the)h(transient)112 2438 y(windo)o(w)m(,)k(b)o(ut)f(usually)g(does)h(not)f
(gi)o(v)o(e)h(it)f(a)i(title)e(bar)h(or)f(other)h(decoration.)22
b(A)13 b(transient)f(windo)o(w)g(is)h(associated)h(with)112
2497 y(another)f(windo)o(w)f(\(the)h(\256rst)g(ar)o(gument)g(to)g(the)g
Fh(mkTransientShell)e Fo(function\).)22 b(T)m(ypically)m(,)14
b(the)f(windo)o(w)g(manager)112 2557 y(will)8 b(iconify/de-iconify)g(a)i
(transient)g(windo)o(w)f(in)h(conjunction)e(with)h(its)h(associated)h(windo)o
(w)m(.)174 2638 y(The)k Fh(setWMHints)e Fo(function)g(allo)o(ws)i(the)f
(application)g(to)g(specify)h(hints)f(about)g(the)g(top-le)o(v)o(el)g(windo)o
(w)g(and)h(the)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e
(17:53)p eop
%%Page: 14 18
14 17 bop 991 -63 a Fo(14)112 82 y(application)7 b(to)h(the)g(display)g
(manager)n(.)15 b(In)9 b(particular)n(,)g(the)f(programmer)h(can)g(use)h
Fh(setWMHints)c Fo(to)i(o)o(v)o(erride)h(the)g(default)112
142 y(size)g(hints)g(that)f(the)h(shell)g(passes)i(to)d(the)i(windo)o(w)e
(manager)n(.)15 b(If)9 b Fh(setWMHints)f Fo(is)h(called)g(before)h(the)f
Fh(init)f Fo(function,)h(the)112 202 y(shell)g(queues)i(the)f(hints,)g(which)
g(will)f(be)h(sent)g(when)h Fh(init)e Fo(is)h(called.)16 b(A)10
b(more)h(complete)g(description)e(of)h(the)g(hints)f(can)112
262 y(be)h(found)f(in)h Fj(The)h(eXene)g(Libr)o(ary)g(Manual)e
Fo(or)h Fl(X)g Fo(manuals)h(\(e.g.,)g([Nye90]\).)174 342 y(A)f(shell)f
(services)h(its)f(child')n(s)g(control)f(channel.)15 b(Requests)10
b(from)g(the)f(child)g(widget)g(for)g(resizing)g(are)i(respected;)f(the)112
402 y(shell)g(will)f(attempt)h(to)g(change)i(the)e(size)i(of)e(the)g(top-le)o
(v)o(el)g(windo)o(w)m(.)16 b(Recei)o(ving)10 b(a)h Fh(CO_KillReq)e
Fo(from)h(the)h(child)e(is)i(the)112 462 y(same)g(as)g(calling)f(the)g
Fh(destroy)f Fo(function.)174 542 y(The)i Fh(mkWMArgs)d Fo(and)j
Fh(mkHints)e Fo(functions)g(are)i(identity)d(functions)h(on)h(the)g(respecti)
o(v)o(e)h(records.)112 703 y Fg(3.2)57 b(Composite)16 b(W)o(idgets)112
826 y Fo(Composite)d(widgets)h(are)h(used)f(to)g(manage)i(the)e(layout)f(of)i
(child)e(widgets)h(within)e(a)j(gi)o(v)o(en)g(windo)o(w)m(.)26
b(A)15 b(composite)112 886 y(widget)8 b(plays)i(the)g(same)h(role)e(for)h
(its)f(windo)o(w)g(as)h(the)g(windo)o(w)f(manager)h(plays)g(for)f(the)h
(screen.)16 b(Because)11 b(of)f(their)f(dual)112 946 y(role)i(as)i(a)f(child)
f(widget)g(as)i(well)e(as)i(a)f(parent)g(to)f(v)o(arious)g(child)g(widgets,)h
(composite)g(widgets)f(ha)o(v)o(e)i(more)f(to)g(do)f(than)112
1006 y(simple)i(widgets)g(in)g(maintaining)f(the)h(protocols)f(on)i(the)f
(control)f(e)o(v)o(ents.)26 b(Graphically)m(,)14 b(the)o(y)g(usually)e(ha)o
(v)o(e)j(little)d(or)112 1066 y(nothing)c(to)h(do.)112 1205
y Fe(3.2.1)50 b(Backgr)o(ound)112 1314 y Fo(The)16 b Fh(background)e
Fo(widget)h(is)g(used)h(to)f(pro)o(vide)g(a)i(default)d(background)h(color)g
(to)h(a)g(widget)f(and)g(its)h(descendants.)112 1373 y(The)h
Fl(X)f Fo(graphic)g(model)h(associates)g(a)g(background)f(color)f(with)h(a)h
(windo)o(w)m(.)33 b(It)16 b(is)g(this)f(color)h(that)g(is)g(used)h(in)f(the)
112 1433 y(graphics)e(operations)f Fh(clearArea)g Fo(and)h
Fh(clearDrawable)e Fo(\(cf.)28 b(Chapter)14 b(5)g(in)g Fj(The)h(eXene)h(Libr)
o(ary)e(Manual)p Fo(\).)26 b(By)112 1493 y(default,)12 b(windo)o(ws)g(in)g
Fl(eXene)i Fo(inherit)e(their)g(parent')n(s)g(background)g(color)n(,)h(which)
f(is)h(set)g(when)g(the)f Fh(shell)g Fo(is)h(created)112 1553
y(\(cf.)i(Section)10 b(3.1\).)174 1652 y Ff(signature)16 b(BACKGROUN)o(D)h(=)
213 1698 y(sig)252 1789 y(type)h(background)252 1881 y(val)h(mkBackgro)o(un)o
(d)e(:)i({)g(color)f(:)h(color)f(option,)f(widget)g(:)i(widget)e(})j(->)f
(backgrou)o(nd)252 1972 y(val)g(widgetOf)d(:)j(background)d(->)j(widget)213
2063 y(end)112 2177 y Fo(The)11 b Fh(mkBackground)d Fo(command)j(creates)h(a)
f(ne)o(w)g(widget)f(with)f(a)i(ne)o(w)g(associated)g(background)f(color)n(.)
15 b(The)c(ar)o(gument)112 2237 y(widget)c(and)i(all)f(its)g(descendents)i
(will)d(inherit)h(the)g(ne)o(w)h(color)n(,)g(until)e(a)i Fh(background)e
Fo(is)i(created)g(lo)o(wer)g(in)f(the)g(hierarchy)m(.)112 2297
y(If)i(no)f(color)h(is)g(speci\256ed,)i(white)d(is)h(used.)112
2436 y Fe(3.2.2)50 b(Box)112 2545 y Fo(Box)10 b(widgets)h(pro)o(vide)f(for)h
(the)g(non-o)o(v)o(erlapping)f(placement)i(of)f(child)f(widgets)h(along)f(a)i
(horizontal)e(or)h(v)o(ertical)g(axis.)112 2605 y(A)g(child)f(widget)g(is)h
(e)o(xpanded)h(or)f(contracted)g(to)f(\256ll)h(as)h(much)f(of)g(its)f
(innermost)h(containing)e(box)i(as)g(possible,)g(b)o(ut)g(the)112
2664 y(size)f(bounds)g(of)g(a)h(child)e(are)i(ne)o(v)o(er)g(violated.)732
2799 y Fj(Dr)o(aft)f(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 15 19
15 18 bop 991 -63 a Fo(15)174 82 y Ff(signature)16 b(BOX)i(=)213
128 y(sig)252 219 y(exception)e(BadIndex)252 310 y(datatype)h(box)291
356 y(=)j(HzTop)d(of)i(box)g(list)291 402 y(|)h(HzCenter)c(of)j(box)g(list)
291 447 y(|)h(HzBottom)c(of)j(box)g(list)291 493 y(|)h(VtLeft)d(of)i(box)f
(list)291 539 y(|)i(VtCenter)c(of)j(box)g(list)291 584 y(|)h(VtRight)d(of)h
(box)h(list)291 630 y(|)h(Glue)e(of)h({)g(nat)f(:)i(int,)e(min)g(:)h(int,)f
(max)h(:)g(int)f(option)g(})291 676 y(|)i(WBox)e(of)h(widget)252
767 y(type)f(box_layout)252 858 y(val)h(mkLayout)d(:)j(root)g(->)f(box)h(->)g
(box_layou)o(t)252 904 y(val)g(widgetOf)d(:)j(box_layout)d(->)j(widget)252
950 y(val)g(insert)e(:)i(box_layout)d(->)j(\(int)f(*)h(box)g(list\))e(->)i
(unit)252 995 y(val)g(append)e(:)i(box_layout)d(->)j(\(int)f(*)h(box)g
(list\))e(->)i(unit)252 1041 y(val)g(delete)e(:)i(box_layout)d(->)j(int)f
(list)g(->)h(unit)252 1087 y(val)g(mapBox)e(:)i(box_layout)d(->)j(int)f(list)
g(->)h(unit)252 1132 y(val)g(unmapBox)d(:)j(box_layout)d(->)j(int)f(list)h
(->)f(unit)213 1224 y(end)112 1337 y Fo(The)11 b Fh(mkLayout)e
Fo(function)g(requires)i(a)g(display)f(root)f(and)i(a)g Fh(box)f
Fo(v)o(alue.)17 b(The)11 b(layout)f(of)g(the)h(widgets)e(is)i(recursi)o(v)o
(e.)17 b(The)112 1397 y(box)o(es)c(in)f(a)i(list)e(are)h(laid)g(out)f(from)h
(left)f(to)h(right)e(in)i(horizontal)e(box)o(es,)j(and)f(from)g(top)f(to)h
(bottom)f(in)g(v)o(ertical)h(box)o(es.)112 1457 y Fh(Glue)c
Fo(box)o(es)i(act)f(like)g(transparent)f(widgets)h(and)g(are)h(used)g(to)f
(pro)o(vide)f(spacing)h(between)h(other)f(box)o(es.)174 1538
y(The)h(layout)e(algorithm)g(is)i(simple.)k(W)m(e)c(describe)g(the)g(case)h
(for)e(a)h(horizontal)e(box.)15 b(V)-5 b(ertical)11 b(box)o(es)f(work)g(the)g
(same)112 1597 y(way)m(,)h(switching)f(the)g(roles)h(of)g(horizontal)e(and)i
(v)o(ertical.)18 b(Each)12 b(child)e(is)h(gi)o(v)o(en)f(its)g(natural)h
(width.)16 b(If)11 b(the)f(sum)i(of)e(these)112 1657 y(widths)i(does)h(not)f
(\256ll)h(the)g(width)f(of)g(the)h(box,)h(the)f(slack)h(is)f(allocated)g
(uniformly)e(to)i(the)g(child)f(widgets,)i(b)o(ut)e(only)g(in)112
1717 y(multiples)d(of)i(a)g(child')n(s)f(increment)h(v)o(alue)g(and)h(a)f
(child')n(s)f(maximum)h(width)f(is)h(ne)o(v)o(er)h(e)o(xceeded.)19
b(If)11 b(there)g(is)g(still)e(slack)112 1777 y(after)i(all)g(children)g(ha)o
(v)o(e)i(been)f(increased)g(to)f(the)g(maximum)h(widths,)f(it)g(is)h(placed)g
(to)e(the)i(right)e(of)h(all)g(the)h(children.)18 b(If)112
1836 y(the)10 b(sum)h(of)g(the)f(widths)g(is)g(too)g(lar)o(ge)h(for)g(the)f
(box,)h(the)f(e)o(xcess)j(is)e(remo)o(v)o(ed)h(uniformly)c(from)j(the)g
(child)e(widgets,)i(b)o(ut)f(a)112 1896 y(child')n(s)f(minimum)h(width)f(and)
h(increment)h(v)o(alue)f(are)h(respected.)17 b(If)10 b(there)g(is)h(still)d
(e)o(xcess)13 b(after)d(all)g(children)g(ha)o(v)o(e)h(been)112
1956 y(decreased)h(to)d(the)h(minimum)g(widths,)g(some)h(of)f(the)g
(rightmost)e(children)i(will)f(not)g(appear)i(in)f(the)g(windo)o(w)m(.)174
2037 y(Each)15 b(child)e(is)h(guaranteed)g(its)f(minimum)h(height.)25
b(If)14 b(this)f(does)h(not)f(equal)h(the)g(height)f(of)h(the)f(box,)i(the)f
(child')n(s)112 2096 y(height)c(is)i(increased)g(as)h(much)f(as)g(possible,)g
(in)f(multiples)f(of)i(the)f(child')n(s)g(increment,)i(up)e(to)g(its)g
(maximum)h(height.)19 b(If)112 2156 y(this)9 b(is)i(still)e(not)h(equal)h(to)
g(the)f(height)g(of)h(the)f(box,)h(the)g(child)f(is)h(aligned)f(v)o
(ertically)g(according)h(to)f(the)h(box')n(s)e(alignment)112
2216 y(parameter)n(.)21 b(Thus,)13 b(a)f Fh(HzCenter)f Fo(box)g(will)g
(center)h(its)f(components)h(v)o(ertically)m(,)g(while)g(a)g
Fh(HzTop)f Fo(box)h(will)e(top)h(justify)112 2276 y(its)e(components.)15
b(If)9 b(a)i(child')n(s)e(height)f(is)i(too)f(lar)o(ge)h(for)g(the)g(box,)f
(the)h(child)f(is)h(still)e(aligned)i(v)o(ertically)f(according)g(to)h(the)
112 2335 y(box')n(s)f(alignment)g(parameter)n(,)j(b)o(ut)e(part)g(of)g(the)g
(child)f(will)g(not)h(be)g(visible.)174 2416 y(W)m(e)15 b(no)o(w)e(describe)i
(the)g(bounds)e(of)h(a)h(box.)27 b(It)14 b(seems)i(reasonable)f(that)e(the)i
(minimum,)g(natural)f(and)g(maximum)112 2476 y(widths)8 b(of)i(a)h
(horizontal)d(box)i(should)f(be)h(the)g(sums)g(of)g(the)g(respecti)o(v)o(e)h
(widths)e(of)h(its)f(children.)14 b(T)m(o)c(this)f(end,)i(we)f(set)h(the)112
2535 y(base)i(width)e Fh(base)h Fo(to)f(be)i(the)f(sum)h(of)f(the)h(minimum)f
(widths)f(of)h(its)g(children,)g(in)g(pix)o(els.)22 b(The)13
b(horizontal)e(increment)112 2595 y Fh(incr)f Fo(is)h(the)g(minimum)g(of)g
(the)h(horizontal)d(increments)j(of)f(all)g(children)f(with)h(a)g(non-\256x)o
(ed)g(horizontal)f(size.)19 b(The)12 b Fh(min)112 2655 y Fo(v)o(alue)f(is)h
(set)g(to)f(zero.)20 b(The)12 b Fh(nat)f Fo(v)o(alue)h(is)f(the)h(least)g
(inte)o(ger)f(such)h(that)f Fh(base)21 b(+)g(nat*incr)11 b
Fo(is)g(greater)h(than)f(or)h(equal)732 2799 y Fj(Dr)o(aft)e(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 16 20
16 19 bop 991 -63 a Fo(16)112 82 y(to)10 b(the)h(sum)g(of)f(the)h(natural)f
(widths)g(of)h(its)f(children.)16 b(The)c Fh(max)e Fo(v)o(alue)h(is)g
(de\256ned)g(analogously)m(.)16 b(The)c(natural)e(height)g(of)112
142 y(the)f(box)h(is)g(the)g(maximum)g(of)g(the)g(natural)f(heights)g(of)h
(its)f(children.)15 b(The)10 b(minimum)g(height)f(of)g(a)i(box)e(is)h(the)g
(maximum)112 202 y(of)g(the)g(minimum)h(heights)e(of)i(its)f(children.)15
b(The)d(maximum)f(height)e(of)i(a)g(box)f(is)g(the)h(maximum)g(of)f(the)h
(natural)f(height)112 262 y(of)f(the)h(box)g(along)f(with)g(the)h
(non-in\256nite)e(maximum)j(heights)e(of)h(its)f(children,)h(or)f(in\256nite)
g(if)h(all)g(children)f(ha)o(v)o(e)i(in\256nite)112 321 y(height.)k(W)m(e)c
(then)g(set)g(the)f(base)i(height)e Fh(base)g Fo(to)g(the)g(minimum)h(height)
e(and)i Fh(min)f Fo(to)h(0.)16 b(The)c(v)o(ertical)e(increment)h(is)g(the)112
381 y(minimum)f(of)g(the)g(v)o(ertical)g(increments)h(of)f(all)g(children)g
(with)f(non-\256x)o(ed)h(v)o(ertical)h(size)g(and)f(whose)h(v)o(ertical)g
(increment)112 441 y(is)d(greater)i(that)e(1.)15 b(If)9 b(there)g(are)h(no)f
(such)g(children,)g(the)g(v)o(ertical)g(increment)h(is)e(set)i(to)e(1.)15
b(As)9 b(in)g(the)g(horizontal)f(direction,)112 501 y Fh(nat)j
Fo(and)g Fh(max)h Fo(are)g(taken)f(to)h(be)g(the)f(smallest)h(inte)o(gers)g
(such)g(that)f Fh(base)21 b(+)g(nat*incr)10 b Fo(and)i Fh(base)21
b(+)h(max*incr)10 b Fo(are)112 560 y(greater)i(than)g(or)g(equal)g(to)f(the)h
(natural)g(height)f(and)h(the)g(maximum)h(height,)f(respecti)o(v)o(ely)m(.)21
b(In)12 b(horizontal)f(box)o(es,)i(glue)112 620 y(components)f(act)i(like)e
(widgets)g(whose)h(horizontal)f(bounds)g(are)i(gi)o(v)o(en)f(by)f(the)h
(glue')n(s)g(parameters,)i(with)d(an)h(implicit)112 680 y Fh(base)d
Fo(of)i(0)f(and)h Fh(incr)f Fo(of)g(1,)h(and)g(whose)g(v)o(ertical)f(bounds)g
(ha)o(v)o(e)i(a)f(natural)f(size)h(of)f(zero,)i(with)e(in\256nite)f
(shrinking)g(and)112 740 y(stretching.)174 820 y(The)j(rules)f(gi)o(v)o(en)g
(abo)o(v)o(e)h(for)e(determining)g(the)h(bounds)g(of)g(a)g(box)g(are)h(ob)o
(viously)d(heuristics.)21 b(The)o(y)13 b(should)e(work)112
880 y(well)j(in)g(a)h(gi)o(v)o(en)g(dimension)f(when)g(the)h(sub-box)o(es)g
(ha)o(v)o(e)g(a)h(\256x)o(ed)f(size)h(in)e(that)g(dimension,)h(ha)o(v)o(e)h
(an)f(increment)g(of)112 940 y(one,)d(or)f(ha)o(v)o(e)h(\252compatible\272)g
(sizes)g(\(e.g.,)h(the)f(same)g(natural)f(size)h(with)f(increments)g(that)g
(are)h(multiples)e(of)i(some)g(base)112 1000 y(increment\).)i(These)c
(conditions)d(hold)h(true)g(in)g(such)h(common)h(cases)g(as)f(attaching)g(a)g
(scrollbar)f(or)g(using)g(suf)o(\256cient)h(glue.)112 1059
y(When)h(these)h(conditions)d(are)j(not)f(satis\256ed,)g(the)g(resultant)g
(bounds)f(of)h(a)h(box)f(can)h(be)f(une)o(xpected.)174 1140
y(If)16 b(the)h(box)f(ar)o(gument)h Fj(b)g Fo(to)g Fh(mkLayout)e
Fo(is)i(a)g Fh(Glue)f Fo(or)h Fh(WBox)f Fo(v)o(alue,)j(it)d(is)h(treated)g
(as)g Fh(HzCenter)j([)p Fj(b)p Fh(])p Fo(.)35 b(The)112 1200
y Fh(Widget.BadIncre)o(ment)7 b Fo(e)o(xception)j(is)g(raised)h(if)e(a)i
(widget)f(has)g(a)h(zero)g(increment.)174 1280 y(The)j(box)f(tree)h(managed)h
(by)e(a)i(box)e(layout)f(widget)h(can)i(be)f(dynamically)f(altered)g(using)g
(functions)f(pro)o(vided)h(in)112 1340 y(the)g Fh(Box)h Fo(structure.)25
b(At)14 b(present,)h(these)f(changes)h(can)g(only)e(be)h(made)h(in)e(the)h
(top-le)o(v)o(el)f(list)g(in)g(the)h(box)f(tree.)27 b(\(This)112
1400 y(is)17 b(not)g(a)h(serious)g(restriction,)g(as)h(a)f
Fh(box_layout)e Fo(can)j(be)f(inserted)f(within)f(another)h
Fh(box_layout)p Fo(.\))36 b(A)18 b(call)g(of)112 1460 y Fh(insert)i
Fj(layout)h Fh(\()p Fj(n)p Fh(,)p Fj(bl)p Fh(\))11 b Fo(inserts)h(the)g(list)
g(of)g(box)o(es)h Fj(bl)f Fo(before)g(the)h Fj(n)p Fo(th)f(box)f(in)h(the)h
(top-le)o(v)o(el)e(box)h(list.)21 b(Inde)o(xing)12 b(of)112
1519 y(box)o(es)f(starts)g(at)h(0;)f Fj(n)h Fo(can)g(be)g(an)o(y)g(inte)o
(ger)f(up)g(to)g(and)g(including)f(the)h(length)f(of)h(the)h(top-le)o(v)o(el)
e(box)h(list,)g(the)g(maximum)112 1579 y(v)o(alue)g(corresponding)g(to)g
(appending)h Fj(bl)f Fo(to)g(the)h(list.)19 b(An)o(y)12 b(other)g(v)o(alue)g
(of)f Fj(n)h Fo(causes)i(the)e(e)o(xception)f Fh(BadIndex)g
Fo(to)g(be)112 1639 y(raised.)k(When)10 b(a)g(collection)e(of)h(box)o(es)h
(in)f(inserted)g(into)g(a)h(box)f(layout,)g(the)g(layout)g(is)g(recomputed)h
(using)e(the)i(geometry)112 1699 y(of)h(the)h(ne)o(w)h(box)o(es.)21
b(The)12 b(widgets)g(in)f(the)h(ne)o(w)h(box)o(es)f(are)h(assumed)g(to)f(be)g
(unrealized;)g(the)o(y)h(will)d(be)j(realized)f(at)h(this)112
1758 y(time.)i Fh(append)20 b Fj(layout)h Fh(\()p Fj(n)p Fh(,)p
Fj(bl)p Fh(\))9 b Fo(is)h(equi)o(v)o(alent)f(to)h Fh(insert)20
b Fj(layout)h Fh(\()p Fj(n)p Fh(+1,)p Fj(bl)p Fh(\))p Fo(.)174
1839 y Fh(delete)f Fj(layout)h(il)15 b Fo(remo)o(v)o(es)i(the)f(box)o(es)g
(whose)g(indices)g(are)g(gi)o(v)o(en)g(in)f(the)h(inde)o(x)g(list)e
Fj(il)p Fo(.)32 b(This)15 b(destroys)g(an)o(y)112 1899 y(windo)o(ws)9
b(associated)i(with)f(widgets)g(in)g(the)g(box)o(es,)i(and)e(ef)o(fecti)o(v)o
(ely)h(destroys)f(the)g(widgets.)16 b(The)11 b Fh(unmapBox)e
Fo(tells)h(the)112 1958 y(layout)i(widget)g(to)h(pretend)g(that)g(the)g(box)o
(es)h(whose)g(indices)f(are)h(gi)o(v)o(en)f(in)g(the)g(ar)o(gument)h(list)e
(ha)o(v)o(e)j(zero)f(size)g(and)f(to)112 2018 y(reposition)6
b(its)h(children)h(accordingly)m(.)14 b(Unmapping)7 b(an)h(already)h
(unmapped)f(box)g(has)g(no)g(ef)o(fect.)15 b(The)9 b Fh(mapBox)e
Fo(function)112 2078 y(allo)o(ws)j(unmapped)h(box)o(es)g(to)f(be)h(made)h
(visible)d(again.)17 b(Mapping)10 b(an)h(already)g(mapped)g(box)f(has)i(no)e
(ef)o(fect.)17 b(All)10 b(box)o(es)112 2138 y(are)i(assumed)h(to)e(be)h(in)g
(a)g(mapped)h(state)f(when)f(inserted.)20 b(In)12 b(all)f(these)h(three)g
(functions,)f(an)i(in)n(v)o(alid)d(inde)o(x)i(will)e(cause)112
2198 y(the)g(e)o(xception)g Fh(BadIndex)e Fo(to)i(be)h(raised.)112
2337 y Fe(3.2.3)50 b(Frame)112 2446 y Fo(The)13 b(ability)e(to)i(specify)g(a)
g(border)f(of)h(an)g Fl(X)g Fo(windo)o(w)f(is)h(a)g(programming)f(con)n(v)o
(enience)j(in)d(simple)h(applications,)g(and)112 2505 y(impro)o(v)o(es)e
(performance)h(by)e(allo)o(wing)g(the)g(serv)o(er)i(to)f(perform)f(damage)i
(control)e(on)h(borders)f(which)h(would)e(otherwise)112 2565
y(ha)o(v)o(e)i(to)e(be)h(handled)g(by)f(the)h(application.)k(On)c(the)f(ne)o
(gati)o(v)o(e)i(side,)f(the)g(use)g(of)g(borders)f(unnecessarily)h
(complicates)h(the)112 2625 y(computation)f(of)h(windo)o(w)f(geometries.)19
b(Kno)o(wing)10 b(the)h(upper)g(left)g(corner)g(of)g(a)h(windo)o(w)f(and)g
(the)g(size)h(of)f(its)g(dra)o(wing)732 2799 y Fj(Dr)o(aft)f(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 17 21
17 20 bop 991 -63 a Fo(17)112 82 y(re)o(gion)9 b(is)h(not)f(enough)h(to)f
(calculate)i(the)f(actual)h(bounding)d(box)h(of)h(the)g(windo)o(w;)e(the)i
(windo)o(w')n(s)f(border)h(must)g(be)g(taken)112 142 y(into)e(account.)174
222 y(F)o(or)h(these)g(reasons,)h(the)f Fl(eXene)h Fo(widget)e(library)g
(assumes)i(all)f(underlying)e Fl(X)i Fo(windo)o(ws)e(will)h(ha)o(v)o(e)i
(borders)e(of)h(width)112 282 y(zero.)15 b(T)m(o)10 b(pro)o(vide)f(borders,)h
(the)g(library)f(supplies)g(frame)i(widgets.)j(A)c(frame)h(widget)e(creates)i
(a)g(border)e(of)h(a)g(gi)o(v)o(en)g(size)112 342 y(and)g(color)g(around)f
(its)h(child)f(widget.)174 442 y Ff(signature)16 b(FRAME)i(=)213
487 y(sig)252 533 y(val)h(mkFrame)e(:)i(root)f(->)h({)409 579
y(color)f(:)h(color)f(option,)409 624 y(width)g(:)h(int,)409
670 y(widget)e(:)j(widget)370 716 y(})f(->)g(widget)252 807
y(val)g(widgetOf)d(:)j(frame)f(->)h(widget)252 853 y(val)g(setColor)d(:)j
(frame)f(->)h(color)f(option)f(->)i(unit)213 944 y(end)112
1058 y Fo(The)7 b Fh(mkFrame)f Fo(function)g(takes)h(a)g(display)f(root,)i
(an)f(optional)e(color)i(\(the)f(parent')n(s)h(background)f(if)h
Fh(NONE)p Fo(\),)f(a)i(border)f(width,)112 1117 y(and)g(the)g(child)f(widget)
h(about)f(which)h(the)g(border)g(is)g(wrapped.)14 b(A)7 b(ne)o(gati)o(v)o(e)h
(border)f(width)f(causes)i(the)f Fh(LibBase.BadArg)112 1177
y Fo(e)o(xception)g(to)g(be)h(raised.)15 b(The)8 b(bounds)f(of)h(a)g(frame)h
(are)f(the)g(same)h(as)f(those)g(of)f(its)g(child)g(e)o(xcept)i(that)e(the)h
(base)g(is)g(increased)112 1237 y(to)13 b(allo)o(w)g(for)g(the)g(border)n(.)
25 b(Except)14 b(for)f(the)h(actual)g(border)n(,)g(a)h(frame)f(widget)f(is)g
(transparent,)i(inheriting)c(its)i(parent')n(s)112 1297 y(background.)h(The)d
Fh(setColor)e Fo(function)f(can)j(be)g(used)f(to)g(change)h(the)f(frame')n(s)
h(color)f(dynamically)m(.)112 1436 y Fe(3.2.4)50 b(Pile)112
1545 y Fo(Where)13 b(a)h Fh(box_layout)d Fo(widget)i(composes)h(its)e
(children)g(in)h(non-o)o(v)o(erlapping)e(ro)o(ws)i(and)g(columns,)h(a)g
Fh(pile)f Fo(widget)112 1605 y(maintains)c(a)i(list)e(of)h(children,)g(only)f
(one)i(of)e(which)h(is)g(visible)f(at)i(a)g(time.)174 1704
y Ff(signature)16 b(PILE)i(=)213 1750 y(sig)252 1841 y(type)g(pile)252
1933 y(exception)e(NoWidgets)252 1978 y(exception)g(BadIndex)252
2070 y(val)j(mkPile)e(:)i(root)f(->)h(widget)e(list)h(->)h(pile)252
2115 y(val)g(widgetOf)d(:)j(pile)g(->)f(widget)252 2207 y(val)h(mkVisible)d
(:)j(pile)f(->)h(int)f(->)h(unit)252 2252 y(val)g(visible)e(:)i(pile)f(->)h
(int)252 2298 y(val)g(size)f(:)h(pile)f(->)h(int)252 2389 y(val)g(insert)e(:)
i(pile)f(->)h(\(int)f(*)h(widget)f(list\))f(->)i(unit)252 2435
y(val)g(append)e(:)i(pile)f(->)h(\(int)f(*)h(widget)f(list\))f(->)i(unit)252
2481 y(val)g(delete)e(:)i(pile)f(->)h(int)g(list)f(->)g(unit)213
2572 y(end)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)
p eop
%%Page: 18 22
18 21 bop 991 -63 a Fo(18)112 82 y(The)11 b Fh(mkPile)e Fo(function)h(takes)g
(a)h(root)f(and)h(a)g(list)f(of)g(widgets)g(and)g(creates)j(a)e
Fh(pile)f Fo(widget.)15 b(In)c(a)g Fh(pile)p Fo(,)f(only)g(one)g(child)112
142 y(widget)h(is)i(visible)e(at)i(a)h(time.)22 b(The)14 b(bounds)d(and)i
(resize)h(beha)o(vior)e(of)h(a)g Fh(pile)f Fo(widget)g(are)h(the)g(same)h(as)
g(its)e(currently)112 202 y(visible)d(child.)14 b(The)d(child)e(widgets)h
(are)h(inde)o(x)o(ed)f(consecuti)o(v)o(ely)g(from)g(zero.)16
b(Initially)8 b(child)h(0)h(is)g(visible.)k Fh(mkVisible)112
262 y Fo(causes)d(the)g(child)e(with)g(the)h(gi)o(v)o(en)h(inde)o(x)f(to)f
(become)j(the)e(ne)o(w)h(visible)e(widget.)14 b(This)d(raises)g(the)f(e)o
(xception)g Fh(BadIndex)112 321 y Fo(if)i(the)h(inde)o(x)g(is)g(in)n(v)o
(alid.)23 b(Note)13 b(that,)h(in)e(this)h(model,)h(the)f(currently)f(visible)
g(child)g(is)h(not)g(placed)h(at)f(the)g(front)f(of)h(the)112
381 y(list)d(of)i(children:)k(it)11 b(is)h(only)f(marked)h(as)g(the)g
(visible)f(child.)19 b(As)12 b(long)e(as)j(no)e(widgets)g(are)i(added)f(or)f
(deleted)h(to)g(a)g(pile,)112 441 y(the)g(inde)o(xing)f(of)h(the)g(children)f
(remains)i(\256x)o(ed.)22 b(The)13 b(query)f(functions)e Fh(visible)h
Fo(and)i Fh(size)e Fo(return)h(the)g(inde)o(x)g(of)g(the)112
501 y(currently)d(visible)g(child)g(and)i(the)f(number)g(of)g(children,)g
(respecti)o(v)o(ely)m(.)174 581 y(A)k Fh(pile)f Fo(allo)o(ws)g(widgets)g(to)g
(be)h(dynamically)f(inserted)h(and)f(deleted)h(with)f(the)g
Fh(insert)p Fo(,)h Fh(append)f Fo(and)h Fh(delete)112 641 y
Fo(functions.)26 b(Inserting)13 b(or)h(appending)f(widgets)h(does)h(not)e
(alter)i(the)f(currently)f(visible)g(widget.)27 b(It)14 b(does)h(change)g
(the)112 701 y(indices)g(associated)h(with)f(the)g(widgets,)i(so)f(it)f(is)g
(possible)g(the)g(currently)g(visible)g(widget)f(will)h(ha)o(v)o(e)h(a)h(ne)o
(w)f(inde)o(x.)112 760 y(Similary)m(,)g(deleting)f(widgets)g(does)h(not)e
(necessarily)j(alter)e(the)h(currently)e(visible)h(widget,)h(though)e(it)h
(does)h(cause)h(a)112 820 y(reinde)o(xing.)d(Ho)o(we)o(v)o(er)n(,)d(if)e(the)
h(visible)f(widget)g(is)g(one)h(of)g(those)f(remo)o(v)o(ed)i(from)f(the)g
Fh(pile)p Fo(,)f(widget)g(0)h(of)f(the)h(remaining)112 880
y(widgets)e(becomes)j(the)e(ne)o(w)h(visible)e(widget.)14 b(Additional)7
b(semantics)j(associated)g(with)e(these)i(functions)e(are)i(analogous)112
940 y(to)f(the)h(similar)g(functions)f(in)h Fh(Box)f Fo(\(cf.)16
b(Section)10 b(3.2.2\).)174 1020 y(An)h(empty)f(pile)h(acts)g(like)f(a)i
(transparent)e(widget)h(whose)g(bounds)f(are)h(\256x)o(ed)h(at)f(one)g(pix)o
(el)g(by)f(one)h(pix)o(el.)17 b(In)n(v)o(oking)112 1080 y Fh(visible)8
b Fo(on)i(an)h(empty)f(pile)g(raises)h(the)f Fh(NoWidgets)e
Fo(e)o(xception.)112 1220 y Fe(3.2.5)50 b(Scr)o(ollbar)12 b(lay)o(out)112
1328 y Fo(The)d Fh(ScrollLayout)d Fo(structure)i(implements)h(a)g(utility)d
(function)h(for)h(combining)f(widgets)h(into)g(a)h(typical)f(\252widget)g
(with)112 1388 y(scrollbar\272)h(layout.)14 b(This)c(layout)f(consists)h(of)g
(the)g(main)g(widget,)g(with)f(an)h(auxiliary)f(widget)g(placed)h(to)g(the)g
(left)f(or)h(right)112 1448 y(of)e(the)h(main)h(widget,)e(and)i(another)e
(auxiliary)g(widget)g(place)i(belo)o(w)f(or)g(abo)o(v)o(e)h(the)f(main)g
(widget.)14 b(The)c(resulting)e(widget)112 1508 y(is)i(a)g(straightforward)e
(application)h(of)h Fh(mkLayout)p Fo(.)174 1607 y Ff(signature)16
b(SCROLL_LA)o(YOU)o(T)h(=)213 1653 y(sig)252 1744 y(structure)f(Box)j(:)g
(BOX)252 1835 y(val)g(mkSBLayou)o(t)d(:)k(root)e(->)370 1881
y(widget)f(:)i(widget,)370 1927 y(hsb)f(:)i({sb)e(:)h(widget,)e(pad)i(:)g
(int,)f(top)g(:)i(bool})d(option,)370 1972 y(vsb)h(:)i({sb)e(:)h(widget,)e
(pad)i(:)g(int,)f(left)g(:)h(bool})f(option)350 2018 y(->)h(Box.box_la)o(you)
o(t)213 2109 y(end)112 2223 y Fo(The)7 b Fh(mkSBLayout)g Fo(functio)o(n)g(t)o
(akes)g(a)g(root,)e(plus)i(the)g(main)g(and)g(auxili)o(ary)g(widg)o(ets)g
(\(pl)o(us)g(some)g(formatti)o(ng)g(i)o(nfor)o(mation\))112
2283 y(and)h(produces)h(a)g Fh(box_layout)e Fo(widget.)14 b(If)8
b Fh(hsb)g Fo(is)g(not)g Fh(NONE)p Fo(,)h(the)f(associated)h(widget)f(will)g
(be)g(centered)i(abo)o(v)o(e)f(\(belo)o(w\))112 2343 y(the)14
b(main)i(widget)e(if)g Fh(top)h Fo(is)g(true)g(\(false\).)29
b(The)16 b Fh(pad)f Fo(parameter)h(speci\256es)g(ho)o(w)f(much)g(space,)j(in)
d(pix)o(els,)h(to)e(lea)o(v)o(e)112 2403 y(between)c(the)g(main)h(and)f
(auxiliary)f(widget.)14 b(The)d Fh(vsb)f Fo(\256eld)g(is)g(handled)g
(analogously)m(.)174 2483 y(The)16 b(bounds)e(functions)g(of)g(the)h
(auxiliary)f(widgets)h(are)g(not)g(modi\256ed.)29 b(If)15 b(the)g(programmer)
h(desires)f(that)g(the)o(y)112 2543 y(always)c(occupy)g(an)i(entire)e(side)h
(of)g(the)f(main)h(widget,)g(the)o(y)g(must)g(ha)o(v)o(e)h(bounds)e(that)g
(are)i(\257e)o(xible)e(in)h(the)f(appropriate)112 2603 y(dimension.)28
b(The)16 b Fh(sb)f Fo(\256elds)g(purposely)f(take)g Fh(widget)g
Fo(v)o(alues)i(rather)e(than)h Fh(scrollbar)e Fo(v)o(alues.)30
b(This)15 b(makes)h(the)112 2662 y(function)8 b(useful)h(in)g(more)h(general)
f(cases.)17 b(Ev)o(en)10 b(when)g(an)g(auxiliary)e(widget)h(is)g(basically)g
(a)h(scrollbar)n(,)g(it)f(might)f(still)g(be)732 2799 y Fj(Dr)o(aft)i(of)f(F)
m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 19 23
19 22 bop 991 -63 a Fo(19)112 82 y(framed)10 b(or)g(composed)h(with)e(arro)o
(w)h(b)o(uttons)e(and)j(therefore)f(would)e(not)i(be)g(usable)g(as)h(a)g
Fh(scrollbar)d Fo(in)i(the)g(composite)112 142 y(widget.)112
282 y Fe(3.2.6)50 b(Scr)o(ollport)112 390 y Fo(The)14 b Fh(ScrollPort)e
Fo(structure)i(is)g(a)g(\256rst)g(attempt)g(at)g(automatically)f(attaching)h
(panning)e(features)j(to)f(a)g(widget.)26 b(The)112 450 y(programmer)11
b(supplies)f(a)h(widget,)f(and)h(the)g(scroll)f(port)g(attaches)h
(scrollbars.)16 b(The)c(user)f(can)g(use)h(the)e(scrollbars)g(to)h(pan)112
510 y(o)o(v)o(er)f(the)h(underlying)d(widget.)174 609 y Ff(signature)16
b(SCROLL_PO)o(RT)g(=)213 655 y(sig)252 746 y(type)i(scroll_por)o(t)252
838 y(val)h(mkScrollP)o(or)o(t)e(:)i({)409 883 y(widget)e(:)j(widget,)409
929 y(continuous)c(:)j(bool,)409 975 y(color)f(:)h(color)f(option,)409
1020 y(hsb)h(:)g({top)f(:)h(bool})f(option,)409 1066 y(vsb)h(:)g({left)f(:)h
(bool})e(option)370 1112 y(})i(->)g(scroll_por)o(t)252 1203
y(val)g(widgetOf)d(:)j(scroll_port)d(->)j(widget)213 1294 y(end)112
1408 y Fo(The)c Fh(widget)g Fo(ar)o(gument)g(to)g Fh(mkScrollPort)d
Fo(speci\256es)17 b(the)e(underlying)e(widget)h(whose)i(vie)o(w)f(is)g(to)g
(be)g(controlled)112 1468 y(by)d(the)g(scroll)g(port.)20 b(The)13
b Fh(hsb)f Fo(and)h Fh(vsb)e Fo(ar)o(guments)i(specify)g(whether)f
(horizontal)f(and)h(v)o(ertical)g(scrollbars)g(are)i(to)d(be)112
1527 y(attached,)g(and)g(to)f(which)h(side)f(the)o(y)h(should)f(be)h
(attached.)17 b(The)12 b Fh(color)e Fo(ar)o(gument)h(is)f(passed)i(to)e(the)h
(scrollbar)f(creation)112 1587 y(functions)i(\(cf.)25 b(Section)13
b(3.3.7\).)26 b(If)13 b Fh(continuous)f Fo(is)h(true,)i(the)e(scroll)g(port)f
(will)h(attempt)g(to)g(keep)h(the)f(widget)g(vie)o(w)112 1647
y(continuously)e(in)i(step)h(with)f(the)g(scrollbar)h(position.)23
b(Otherwise,)15 b(it)e(will)g(wait)g(until)f(the)i(user)g(releases)h(the)f
(mouse,)112 1707 y(\256xing)9 b(a)i(\256nal)g(position,)e(before)i(it)e
(updates)i(the)g(widget)e(vie)o(w)m(.)17 b(The)11 b(latter)f(choice)h(is)g
(recommended)g(if)g(it)e(is)i(e)o(xpensi)o(v)o(e)112 1767 y(for)e(a)i(widget)
e(to)h(update)g(its)g(display)m(.)112 1906 y Fe(3.2.7)50 b(Shapes)112
2015 y Fo(The)7 b(widgets)f(in)g(the)h Fh(Shape)f Fo(structure)g(allo)o(w)g
(the)h(programmer)g(to)f(control)g(the)g(bounds)g(requirements)h(of)f(a)i(gi)
o(v)o(en)e(widget.)112 2074 y(The)13 b Fh(mkShape)e Fo(function)g(takes)i(a)g
(widget)f(whose)g(bounds)g(are)i(to)e(be)g(constrained)h(and)f(two)g
(constraint)f(functions.)21 b(It)112 2134 y(creates)12 b(a)f(ne)o(w)g(widget)
f(wrapping)g(the)h(gi)o(v)o(en)g(widget.)16 b(The)c(ne)o(w)f(widget)f(is)h
(identical)f(to)g(the)h(gi)o(v)o(en)f(widget)g(e)o(xcept)i(for)112
2194 y(two)f(aspects.)23 b(The)13 b(ne)o(w)g(widget')n(s)e
Fh(boundsOf)g Fo(function)g(returns)h(the)h(v)o(alue)f(gi)o(v)o(en)g(by)h
(the)f Fh(bounds_fn)f Fo(when)h(called)112 2254 y(with)e(the)h(child')n(s)f
Fh(boundsOf)g Fo(function.)17 b(In)11 b(addition,)f(whene)o(v)o(er)i(the)f
(child)f(asks)i(to)f(be)h(resized,)g(the)f(resize)i(request)e(is)112
2314 y(only)e(passed)i(on)f(to)f(the)h(parent)h(if)e(the)h
Fh(resize_fn)p Fo(,)f(in)n(v)o(oked)g(with)h(the)g(child')n(s)f
Fh(boundsOf)g Fo(function,)g(returns)g(true.)732 2799 y Fj(Dr)o(aft)h(of)f(F)
m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 20 24
20 23 bop 991 -63 a Fo(20)174 82 y Ff(signature)16 b(SHAPE)i(=)213
128 y(sig)252 219 y(val)h(mkShape)e(:)i({)291 265 y(widget)f(:)h(widget,)291
310 y(bounds_fn)e(:)i(\(\(unit)e(->)i(bounds\))e(->)i(bounds\),)291
356 y(resize_fn)e(:)i(\(\(unit)e(->)i(bounds\))e(->)i(bool\))252
402 y(})g(->)g(widget)252 493 y(val)g(mkRigid)e(:)i(widget)e(->)i(widget)252
539 y(val)g(mkFlex)e(:)i(widget)f(->)g(widget)252 584 y(val)h(fixSize)e(:)i
(\(widget)e(*)i(size\))f(->)g(widget)252 630 y(val)h(freeSize)d(:)j(\(widget)
e(*)j(size\))d(->)i(widget)213 721 y(end)112 835 y Fo(The)c(remaining)f
(functions)f(are)j(a)f(special)g(cases)h(of)f Fh(mkShape)p
Fo(.)27 b(The)15 b Fh(fixSize)e Fo(function)g(creates)j(a)g(widget)d(whose)
112 895 y(bounds)f(will)g(always)i(be)f(\256x)o(ed)i(at)e(the)h(gi)o(v)o(en)f
(size,)i(and)f(which)f(will)f(ne)o(v)o(er)j(request)e(to)g(be)h(resized.)26
b(The)14 b Fh(freeSize)112 955 y Fo(function)f(creates)k(a)f(widget)e(whose)i
(natural)e(size)i(will)e(always)h(be)h(the)f(gi)o(v)o(en)g(size,)i(b)o(ut)e
(is)g(totally)f(\257e)o(xible)h(in)g(both)112 1015 y(dimensions.)32
b(The)17 b(widget)e(will)g(always)g(pass)i(on)f(resize)h(requests)f(from)g
(its)g(child.)32 b(The)17 b Fh(mkRigid)e Fo(and)h Fh(mkFlex)112
1074 y Fo(functions)11 b(apply)h(the)h Fh(fixSize)e Fo(and)i
Fh(freeSize)e Fo(functions,)i(respecti)o(v)o(ely)m(,)h(using)e(the)h(natural)
f(size)h(of)g(the)f(ar)o(gument)112 1134 y(widget.)112 1274
y Fe(3.2.8)50 b(V)n(iewport)112 1382 y Fo(The)15 b Fh(Viewport)d
Fo(structure)i(is)g(an)h(initial)d(primiti)o(v)o(e)h(attempt)h(at)h(pro)o
(viding)d(the)i(basis)h(for)f(general-purpose)g(panning)112
1442 y(o)o(v)o(er)e(widget.)17 b(A)12 b(vie)o(wport)e(object)h(pro)o(vides)g
(a)h(classical)g(windo)o(w)e(on)h(the)g(virtual)f(graphical)h(space)i(of)e
(an)h(underlying)112 1502 y(windo)o(w)m(.)27 b(In)14 b(ef)o(fect,)i(the)f
(underlying)d(widget)i(can)h(be)g(arbitrarily)e(lar)o(ge,)j(b)o(ut)e(only)f
(the)i(part)f(of)g(it)g(that)g(is)g(projected)112 1562 y(through)7
b(the)i(vie)o(wport')n(s)f(windo)o(w)g(is)i(visible.)j(The)d(amount)g(of)f
(the)g(underlying)e(windo)o(w)i(that)f(can)i(be)g(seen)g(depends)g(on)112
1621 y(the)f(size)i(of)f(the)g(vie)o(wport)e(windo)o(w)m(.)15
b(In)9 b(addition,)g(the)h(vie)o(wport')n(s)e(position)g(relati)o(v)o(e)i(to)
g(the)f(underlying)f(widget)i(can)g(be)112 1681 y(changed,)j(pro)o(viding)d
(panning.)20 b(A)13 b(vie)o(wport)e(is)h(usually)f(tied)g(to)h(other)g
(widgets)f(such)i(as)g(scrollbars)e(to)h(gi)o(v)o(e)g(the)g(user)112
1741 y(control)c(o)o(v)o(er)j(the)f(panning)g(\(cf.)15 b(Section)10
b(3.2.6\).)174 1840 y Ff(signature)16 b(VIEWPORT)g(=)213 1886
y(sig)252 1977 y(type)i(viewport)252 2069 y(val)h(mkViewpor)o(t)d(:)k(widget)
d(->)i(viewport)252 2160 y(val)g(widgetOf)d(:)j(viewport)e(->)i(widget)252
2206 y(val)g(getGeomet)o(ry)d(:)j(viewport)e(->)i({rect)e(:)j(rect,)d
(childSz)g(:)i(size})252 2251 y(val)g(setOrig)e(:)i(viewport)d(->)j(point)f
(->)h(unit)252 2297 y(val)g(setHorz)e(:)i(viewport)d(->)j(int)g(->)f(unit)252
2343 y(val)h(setVert)e(:)i(viewport)d(->)j(int)g(->)f(unit)252
2388 y(val)h(evtOf)e(:)j(viewport)c(->)j({rect)f(:)h(rect,)f(childSz)e(:)k
(size})d(event)213 2480 y(end)112 2593 y Fo(A)c Fh(viewport)f
Fo(is)h(obtained)f(by)h(applying)e Fh(mkViewport)h Fo(to)g(a)i(widget.)23
b(The)14 b(bounds)f(of)g(the)g(vie)o(wport)f(will)g(ha)o(v)o(e)i(the)112
2653 y(same)e(natural)f(size)g(as)h(the)f(underlying)e(widget,)i(b)o(ut)f
(can)i(be)g(arbitrarily)d(shrunk)h(or)h(gro)o(wn.)17 b(If)11
b(the)f(underlying)g(widget)732 2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i(15,)g
(1993)e(17:53)p eop
%%Page: 21 25
21 24 bop 991 -63 a Fo(21)112 82 y(is)12 b(potentially)e(lar)o(ge,)j(it)f(is)
g(therefore)g(usually)g(a)h(good)e(idea)i(to)e(wrap)i(a)g(vie)o(wport)e(in)g
(another)h(widget)g(to)g(constrain)f(its)112 142 y(size.)k(At)9
b(realization)f(time,)i(the)f(windo)o(w)f(of)h(the)g(underlying)e(widget)i
(is)g(made)h(a)g(subwindo)o(w)d(of)i(the)g(vie)o(wport)f(windo)o(w)m(.)112
202 y(Re)o(gardless)k(of)f(the)g(size)i(of)e(the)h(vie)o(wport')n(s)e(windo)o
(w)m(,)h(the)h(subwindo)o(w)e(is)h(precisely)h(the)g(size)g(requested)g(by)f
(the)g(child)112 262 y(widget.)174 342 y(In)j(the)f(current)h(model,)h(the)f
(vie)o(wport)f(cannot)h(e)o(xtend)g(be)o(yond)g(the)f(boundaries)h(of)f(the)h
(underlying)e(widget.)26 b(In)112 402 y(particular)n(,)8 b(it)f(can)i(be)f
(no)g(lar)o(ger)g(than)g(the)f(widget')n(s)g(windo)o(w)m(.)14
b(The)9 b(vie)o(wport)d(determines)j(a)f(rectangle)g(in)g(the)g(underlying)
112 462 y(widgets)h(coordinate)h(system.)174 542 y(There)21
b(are)g(v)o(arious)e(functions)g(for)h(monitoring)d(and)k(controlling)c(the)j
(vie)o(wport')n(s)f(position.)42 b(The)21 b(function)112 602
y Fh(getGeometry)7 b Fo(returns)i(the)h(underlying)d(widget')n(s)i(current)g
(size,)i(and)f(the)f(vie)o(wport')n(s)f(rectangle)i(in)f(the)h(child)f
(widget')n(s)112 662 y(coordinates.)14 b(The)c Fh(setOrig)e
Fo(function)g(can)i(be)g(used)f(to)g(mo)o(v)o(e)h(the)g(vie)o(wport')n(s)d
(origin)h(in)h(the)g(widget')n(s)f(coordinate)h(sys-)112 721
y(tem.)16 b(This)10 b(raises)h(the)g(e)o(xception)f Fh(LibBase.BadArg)e
Fo(if)i(the)g(ne)o(w)h(rectangle)f(is)h(ille)o(gal.)k(The)c(x)f(and)h(y)f
(coordinates)g(can)112 781 y(be)g(set)g(independently)e(using)h
Fh(setHorz)f Fo(and)i Fh(setVert)p Fo(.)k(These)d(functions)e(in)n(v)o(olv)o
(e)g(the)h(same)h(e)o(xception)f(as)h Fh(setOrig)p Fo(.)112
841 y(An)o(y)i(changes)h(to)e(the)h(vie)o(wport)f(con\256guration)g(are)i
(reported)e(through)g(the)h(e)o(v)o(ent)g(supplied)f(by)h Fh(evtOf)p
Fo(.)23 b(Monitoring)112 901 y(this)9 b(e)o(v)o(ent)i(allo)o(ws)e(these)i
(changes)g(to)f(be)g(re\257ected)i(in)d(an)o(y)i(associated)g(widgets)e(such)
i(as)g(scrollbars.)112 1040 y Fe(3.2.9)50 b(W)o(idget)11 b(set)112
1149 y Fo(Strictly)i(speaking,)j(a)g Fh(widget_set)d Fo(is)h(not)h(a)g
(widget.)29 b(It)14 b(pro)o(vides)h(a)g(mechanism)h(for)f(managing)g(a)g
(collection)f(of)112 1209 y(widgets,)e(some)i(of)e(which)g(can)i(be)f
(selected,)h(either)f(by)f(the)g(user)h(or)g(under)f(program)g(control.)22
b(A)12 b(typical)g(use)h(would)112 1268 y(in)n(v)o(olv)o(e)g(a)i(collection)e
(of)h(toggle)f(b)o(uttons,)h(each)h(setting)e(a)i(piece)f(of)g(shared)h
(program)f(state)g(to)g(some)h(v)o(alue.)26 b(Using)112 1328
y(a)13 b Fh(widget_set)p Fo(,)e(the)h(user)h(could)f(change)h(the)g(state)f
(by)g(clicking)g(on)g(one)h(of)f(the)g(b)o(uttons;)g(the)g(b)o(utton)f
(indicating)g(the)112 1388 y(pre)o(vious)e(state)h(setting)f(would)g
(automatically)g(be)i(unset.)732 2799 y Fj(Dr)o(aft)f(of)f(F)m(ebruary)i(15,)
g(1993)e(17:53)p eop
%%Page: 22 26
22 25 bop 991 -63 a Fo(22)174 82 y Ff(signature)16 b(WIDGET_SE)o(T)h(=)213
128 y(sig)252 219 y(exception)f(BadIndex)252 265 y(exception)g(MultipleCho)o
(ic)o(es)252 356 y(type)i(widget_set)291 447 y(\(*)h(type)f(set_item)f(=)i({)
311 493 y(*)59 b(widget)17 b(:)i(widget,)311 539 y(*)59 b(state)17
b(:)i(wstate,)311 584 y(*)59 b(pick_fn)16 b(:)k(bool)e(->)h(unit,)311
630 y(*)59 b(active_f)o(n)17 b(:)i(bool)f(->)h(unit)311 676
y(*)g(})311 721 y(*\))252 767 y(type)f(set_item)252 813 y(val)h(mkSetItem)d
(:)j({)390 858 y(widget)e(:)i(widget,)390 904 y(state)e(:)i(wstate,)390
950 y(pick_fn)d(:)k(bool)e(->)h(unit,)390 995 y(active_f)o(n)e(:)i(bool)f(->)
h(unit)350 1041 y(})h(->)e(set_item)252 1132 y(val)h(mkMultiSe)o(t)d(:)k
(root)e(->)h(set_item)d(list)i(->)h(\(widget_se)o(t)d(*)k(widget)d(list\))252
1178 y(val)i(mkSingleS)o(et)d(:)j(root)f(->)h(set_item)e(list)h(->)h
(\(widget_s)o(et)d(*)j(widget)f(list\))252 1269 y(val)h(setChosen)d(:)j
(widget_set)d(->)j(\(int)f(*)h(bool\))f(list)g(->)h(unit)252
1315 y(val)g(setActive)d(:)j(widget_set)d(->)j(\(int)f(*)h(bool\))f(list)g
(->)h(unit)252 1361 y(val)g(getChosen)d(:)j(widget_set)d(->)j(int)f(list)252
1406 y(val)h(getState)d(:)j(widget_set)d(->)j(Widget.wst)o(at)o(e)e(list)252
1498 y(val)i(insert)e(:)i(widget_set)d(->)j(\(int)f(*)h(set_item)e(list\))g
(->)i(widget)e(list)252 1543 y(val)i(append)e(:)i(widget_set)d(->)j(\(int)f
(*)h(set_item)e(list\))g(->)i(widget)e(list)213 1635 y(end)112
1736 y Fo(The)c Fh(mkMultiSet)f Fo(and)h Fh(mkSingleSet)e Fo(functions)h(are)
i(used)f(to)g(create)h(a)g(widget)e(set.)25 b(The)13 b(principal)f(dif)o
(ference)i(is)112 1796 y(that)d(the)i(former)f(allo)o(ws)g(multiple)f(items)h
(to)g(be)h(set,)g(whereas)h(the)e(latter)g(allo)o(ws)g(at)g(most)g(one)h
(item)f(to)g(be)h(set.)21 b(These)112 1856 y(functions)11 b(take)j(a)g
Fh(root)e Fo(and)i(a)g(list)e(of)h(items)g(to)g(be)h(included)e(in)h(the)g
(set.)25 b(The)o(y)14 b(return)e(a)i(list)f(of)g(wrapped)g(widgets,)112
1915 y(and)d(a)g Fh(widget_set)e Fo(v)o(alue)i(for)g(controlling)d(the)j
(set.)15 b(The)c Fh(widget_set)d Fo(does)i(no)g(placement)g(and)g(is)g(not)f
(a)i(composite)112 1975 y(widget.)j(The)d(return)e(widgets)h(must)g(still)f
(be)h(inserted)g(into)f(the)h(widget)f(hierarchy)h(through)f(some)i
(composite)f(widget.)174 2056 y(Each)f Fh(set_item)e Fo(speci\256es)j(an)e
(underlying)f(widget,)h(the)g(initial)f(state)h(of)g(the)g(widget,)h(a)g
(function)d(to)i(be)h(called)g(when)112 2115 y(the)k(widget)g(changes)i
(between)f(set)g(and)g(unset,)h(and)f(a)g(function)e(to)i(be)g(called)g(when)
g(a)g(transition)e(is)h(made)i(between)112 2175 y(acti)o(v)o(e)d(and)g
(inacti)o(v)o(e.)21 b(These)13 b(functions)e(are)i(only)e(called)h(due)g(to)g
(subsequent)f(transitions)g(in)g(the)h Fh(widget_set)p Fo(;)f(the)o(y)112
2235 y(are)g(not)e(applied)h(to)f(the)h(initial)f(widget)g(state.)174
2315 y(It)j(is)g(assumed)i(that)e(widgets)f(are)j(chosen)f(that)f
(graphically)f(re\257ect)i(the)g(current)f(state.)22 b(If)12
b(the)h(user)g(clicks)f(mouse)112 2375 y(b)o(utton)7 b(1)i(on)g(an)h(acti)o
(v)o(e)g(widget,)f(the)g(widget)g(is)g(put)f(in)h(the)g(set)h(state.)15
b(If)9 b(it)f(is)i(already)f(in)g(the)g(set)h(state,)g(nothing)d(happens.)112
2435 y(Otherwise,)14 b(if)g(it)f(is)g(in)g(a)i(singleton)d(set,)j(the)f
Fh(pick_fn)e Fo(of)i(an)o(y)g(currently)f(set)h(item)f(is)h(called)g(with)f
(false.)26 b(Then)14 b(the)112 2495 y Fh(pick_fn)7 b Fo(of)i(the)g(ne)o(w)h
(item)f(is)g(called)g(with)f(true.)15 b(If)9 b(the)g(user)g(clicks)g(mouse)h
(b)o(utton)e(2)h(on)f(an)i(acti)o(v)o(e)g(widget,)f(the)g(widget)112
2555 y(is)h(put)g(in)h(the)f(unset)h(state.)17 b(If)11 b(it)f(is)g(already)i
(in)e(the)h(unset)f(state,)i(nothing)d(happens.)17 b(Otherwise,)11
b(its)f Fh(pick_fn)g Fo(is)g(called)112 2614 y(with)h(false.)24
b(User)13 b(clicks)g(on)g(an)g(inacti)o(v)o(e)g(item)g(ha)o(v)o(e)h(no)e(ef)o
(fect.)24 b(All)12 b(input)g(en)n(vironment)g(e)o(v)o(ents,)i(including)d
(mouse)112 2674 y(clicks,)f(are)h(passed)g(to)f(the)g(underlying)e(widget)i
(after)g(processing)g(by)g(the)g(widget)f(set.)732 2799 y Fj(Dr)o(aft)h(of)f
(F)m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 23 27
23 26 bop 991 -63 a Fo(23)174 82 y(The)9 b(states)g(of)f(the)h(widgets)e(are)
j(under)e(program)g(control.)14 b(The)9 b Fh(setChosen)e Fo(function)g(can)i
(be)g(used)f(to)g(set)h(the)g(items)112 142 y(whose)i(indices)g(are)h(gi)o(v)
o(en)f(to)g(the)g(speci\256ed)h(state.)19 b(Note)11 b(that)g
Fh(setChosen)e Fo(af)o(fects)j(inacti)o(v)o(e)f(as)h(well)f(as)h(acti)o(v)o
(e)g(items.)112 202 y(The)h Fh(getChosen)d Fo(function)h(returns)h(a)h(list)e
(of)h(the)g(indices)g(of)g(currently)g(selected)h(items.)22
b(The)13 b Fh(setActive)d Fo(function)112 262 y(can)k(be)g(used)f(to)g(alter)
h(which)f(items)g(are)i(currently)d(acti)o(v)o(e.)26 b(The)14
b Fh(getState)e Fo(function)g(returns)h(a)h(list)e(of)i(the)f(current)112
321 y(widget)c(states)h(in)g(order)n(.)k(In)n(v)o(alid)c(indices)g(with)f
Fh(setChosen)f Fo(and)i Fh(setActive)f Fo(cause)i(the)f Fh(BadIndex)f
Fo(e)o(xception)h(to)f(be)112 381 y(raised.)174 462 y(The)g(composition)e(of)
h(a)h Fh(widget_set)e Fo(can)i(be)g(changed)g(dynamically)m(,)g(using)f(the)g
Fh(insert)g Fo(and)g Fh(append)g Fo(functions.)112 521 y(Semantics)j
(associated)h(with)e(inde)o(xing)g(are)i(the)f(same)h(as)g(with)e(the)h
(analogous)g(functions)e(in)i Fh(Box)g Fo(\(cf.)18 b(Section)10
b(3.2.2\).)112 581 y(The)g(returned)g(list)f(widgets)h(must)g(be)g(inserted)g
(into)f(some)i(composite)f(widget)g(to)f(be)i(realized.)174
662 y(If)d(multiple)e(widgets)i(in)f(a)i(set)f(state)h(are)g(passed)g(to)e
Fh(mkSingleSet)p Fo(,)g(or)h(if)g Fh(insert)f Fo(or)g Fh(append)g
Fo(cause)j(multiple)d(items)112 721 y(in)k(a)i(singleton)d(set)i(to)g(be)g
(in)f(a)i(set)f(state,)h(the)f(e)o(xception)g Fh(MultipleChoices)d
Fo(is)j(raised.)21 b(Ho)o(we)o(v)o(er)n(,)14 b(the)d Fh(setChosen)112
781 y Fo(processes)f(its)g(list)e(sequentially)m(,)h(as)i(though)d(the)i
(user)g(were)g(making)f(the)h(choices.)16 b(The)10 b(setting)f(of)g(an)o(y)h
(item)g(will)e(cause)112 841 y(a)i(currently)g(set)g(item)g(to)g(be)g(unset.)
112 1002 y Fg(3.3)57 b(Simple)16 b(W)o(idgets)112 1125 y Fo(Simple)c(widgets)
f(ha)o(v)o(e)j(no)e(subwidgets,)g(at)h(least)f(e)o(xplicitly)m(.)21
b(The)o(y)13 b(form)f(the)h(basic)f(set)h(from)f(which)g(more)h(comple)o(x)
112 1185 y(widgets)8 b(can)h(be)h(composed.)15 b(Simple)9 b(widgets)f(can)h
(be)h(modi\256ed)e(in)h(v)o(arious)f(ways.)15 b(P)o(arameters)c(can)e(be)h
(set)f(at)g(creation)112 1245 y(or)h(dynamically)m(.)15 b(The)c(widget)e(can)
i(be)g(wrapped)g(functionally)d(within)g(another)i(widget,)g(which)g(can)h
(interpose)f(control)112 1305 y(o)o(v)o(er)g(the)f(inner)g(widget')n(s)f
Fh(boundsOf)g Fo(function)f(or)j(its)e(input)g(and)i(control)e(e)o(v)o(ents.)
15 b(As)10 b(an)f(e)o(xample,)j(a)e(widget)e(might)g(set)112
1364 y(bounds)i(that)h(allo)o(w)g(it)g(to)g(be)h(stretched)g(or)f(shrunk.)18
b(A)12 b(programmer)g(wishing)e(to)h(nail)g(the)h(widget)f(do)o(wn)f(to)i(a)g
(speci\256c)112 1424 y(size)e(could)g(wrap)g(the)h(widget)e(in)h(another)f
(widget)h(that)f(could)h(reset)h(the)f(size)h(changes)g(to)f(zero)g(\(cf.)16
b(Section)10 b(3.2.7\).)174 1505 y(The)g(current)f(widget)g(set)g(is)h(not)e
(v)o(ery)i(rich)f(or)g(well-de)o(v)o(eloped,)g(nor)g(particularly)f(pleasing)
h(to)g(the)g(e)o(ye.)16 b(There)11 b(are)f(a)112 1565 y(v)o(ariety)d(of)i
(notable)f(omissions.)14 b(Some)9 b(of)f(the)g(implementations)g(are)h(not)f
(graphically)g(ef)o(\256cient.)14 b(Ho)o(we)o(v)o(er)n(,)d(the)d(current)112
1624 y(set)h(is)g(enough)g(to)f(demonstrate)i(ho)o(w)f(widgets)f(should)g(be)
i(written)e(and)h(interconnected)g(within)f(the)h Fl(eXene)h
Fo(frame)o(work.)112 1764 y Fe(3.3.1)50 b(Buttons)112 1872
y Fo(The)7 b Fh(Button)g Fo(structure)g(pro)o(vi)o(des)g(v)o(ario)o(us)g
(simpl)o(e)g(b)o(utt)o(ons)g(f)o(or)g(u)o(ser)g(inpu)o(t.)k(There)c(are)g
(two)g(dif)o(ferent)g(control)f(semantics.)112 1932 y(The)13
b(command)g(b)o(utton)e(semantics)i(simply)f(calls)h(a)g(gi)o(v)o(en)f
(function)f(whene)o(v)o(er)i(the)g(b)o(utton)e(is)h(pressed.)23
b(\(A)12 b(b)o(utton)f(is)112 1992 y(pressed)16 b(by)f(mo)o(ving)h(the)f
(mouse)h(o)o(v)o(er)h(the)f(b)o(utton)e(and)i(pressing)f(an)o(y)h(mouse)g(b)o
(utton.\))30 b(The)17 b(b)o(utton)d(will)h(usually)112 2052
y(indicate)e(graphically)g(that)g(it)g(has)h(been)g(pressed.)27
b(In)13 b(the)h(more)g(general)g(semantics,)i(the)e(b)o(utton)e(pro)o(vides)h
(an)h(e)o(v)o(ent)112 2112 y(re)o(gistering)c(b)o(utton)h(transitions)f(and)i
(the)f(b)o(utton-do)o(wn)f(state.)20 b(When)12 b(the)g(b)o(utton)e(is)i
(pressed,)h(the)f(b)o(utton)e(generates)j(a)112 2171 y Fh(BtnDown)8
b Fo(e)o(v)o(ent)h(indicating)f(the)h(mouse)h(b)o(utton)e(pressed.)15
b(It)9 b(continues)g(to)f(generate)j Fh(BtnDown)d Fo(e)o(v)o(ents)h(until)f
(the)h(b)o(utton)112 2231 y(is)g(released,)j(at)e(which)f(point)f(it)i
(generates)g(a)h Fh(BtnUp)e Fo(e)o(v)o(ent,)h(or)g(until)e(the)i(mouse)g(lea)
o(v)o(es)h(the)f(windo)o(w)m(,)g(at)g(which)f(point)f(it)112
2291 y(generates)j(a)f Fh(BtnExit)f Fo(e)o(v)o(ent.)732 2799
y Fj(Dr)o(aft)h(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 24 28
24 27 bop 991 -63 a Fo(24)174 82 y Ff(signature)16 b(BUTTON)h(=)213
128 y(sig)252 219 y(datatype)g(arrow_dir)291 265 y(=)j(AD_Up)291
310 y(|)g(AD_Down)291 356 y(|)g(AD_Left)291 402 y(|)g(AD_Right)252
493 y(datatype)d(button_ac)o(t)291 539 y(=)j(BtnDown)d(of)h(mbutton)291
584 y(|)i(BtnUp)d(of)i(mbutton)291 630 y(|)h(BtnExit)252 721
y(type)e(button)252 813 y(val)h(evtOf)e(:)j(button)d(->)i(button_ac)o(t)d
(event)252 858 y(val)j(widgetOf)d(:)j(button)f(->)h(widget)252
904 y(val)g(setActive)d(:)j(\(button)e(*)i(bool\))f(->)h(unit)252
950 y(val)g(getActive)d(:)j(button)e(->)i(bool)252 1041 y(val)g(mkArrowBt)o
(n)d(:)k(root)e(->)h({)409 1087 y(backgrnd)e(:)i(color)f(option,)409
1132 y(dir)h(:)g(arrow_dir)o(,)409 1178 y(foregrnd)e(:)i(color)f(option,)409
1224 y(sz)h(:)g(int)370 1269 y(})g(->)g(button)252 1361 y(val)g(mkArrowCm)o
(d)d(:)k(root)e(->)h({)409 1406 y(action)e(:)j(unit)e(->)h(unit,)409
1452 y(backgrnd)e(:)i(color)f(option,)409 1498 y(dir)h(:)g(arrow_dir)o(,)409
1543 y(foregrnd)e(:)i(color)f(option,)409 1589 y(sz)h(:)g(int)370
1635 y(})g(->)g(button)252 1726 y(val)g(mkTextBtn)d(:)j(root)f(->)h({)409
1772 y(rounded)e(:)i(bool,)409 1817 y(backgrnd)e(:)i(color)f(option,)409
1863 y(foregrnd)f(:)i(color)f(option,)409 1909 y(label)g(:)h(string)370
1954 y(})g(->)g(button)252 2046 y(val)g(mkTextCmd)d(:)j(root)f(->)h({)409
2091 y(rounded)e(:)i(bool,)409 2137 y(action)e(:)j(unit)e(->)h(unit,)409
2183 y(backgrnd)e(:)i(color)f(option,)409 2228 y(foregrnd)f(:)i(color)f
(option,)409 2274 y(label)g(:)h(string)370 2320 y(})g(->)g(button)213
2411 y(end)112 2525 y Fo(T)m(o)12 b(create)h(a)g(b)o(utton,)e(the)h(user)g
(supplies)f(a)i(display)e(root,)h(and)g(v)o(arious)g(display)f
(characteristics.)21 b(The)13 b Fh(foregrnd)e Fo(and)112 2584
y Fh(backgrnd)6 b Fo(colors)i(specify)g(optional)f(choices)h(for)g(fore)o
(ground)f(and)h(background)g(colors.)14 b(The)9 b(default)e(colors)h(are)h
(black)112 2644 y(and)h(white,)g(respecti)o(v)o(ely)m(.)732
2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 25 29
25 28 bop 991 -63 a Fo(25)174 82 y(Arro)o(w)11 b(b)o(uttons)g(require)h(a)h
(direction)e(parameter)i(indicating)e(which)g(way)h(the)h(arro)o(w)f(should)f
(point,)g(and)i(a)f(size,)i(a)112 142 y(square)c(of)f(that)g(size)i(being)e
(used)h(as)g(the)g(natural)f(size)h(of)g(the)g(b)o(utton.)j(If)c
Fh(sz)22 b(<)f(4)p Fo(,)11 b(the)e Fh(LibBase.BadArg)e Fo(e)o(xception)j(is)
112 202 y(raised.)174 282 y(T)m(e)o(xt)k(b)o(uttons)f(require)g(a)h(te)o(xt)g
(label)f(for)h(the)f(b)o(uttons.)24 b(The)15 b(b)o(utton)d(sets)i(its)f
(bounds)g(to)g(be)h(just)f(lar)o(ge)h(enough)f(to)112 342 y(contain)6
b(its)h(te)o(xt.)14 b(If)7 b Fh(rounded)f Fo(is)h(true,)h(the)f(te)o(xt)g(b)o
(utton)e(appears)k(within)c(a)j(rectangle)f(with)g(rounded)f(corners.)15
b(Otherwise,)112 402 y(no)9 b(frame)j(is)e(attached)g(to)g(a)h(te)o(xt)f(b)o
(utton.)j(T)m(e)o(xt)e(b)o(uttons)e(use)i(the)f Fh(8x13)g Fo(font.)174
482 y(The)j(action)f(attached)g(to)g(a)h(command)g(b)o(utton)e(is)h(in)n(v)o
(oked)f(on)h Fh(BtnUp)p Fo(.)21 b(Thus,)13 b(a)g(user)f(can)i(cancel)f(an)g
(action)e(after)112 542 y(pressing)e(a)h(b)o(utton)e(by)h(\256rst)h(mo)o
(ving)f(the)g(mouse)i(of)o(f)e(the)g(b)o(utton)g(and)g(then)h(releasing)f
(the)h(mouse)g(b)o(utton.)k(The)c(program)112 602 y(should)i(not)h
(synchronize)h(on)g(the)f(e)o(v)o(ent)i(of)e(a)i(command)g(b)o(utton;)e(a)i
(thread)f(is)g(spa)o(wned)g(to)g(monitor)e(this)h(e)o(v)o(ent)i(and)112
662 y(in)n(v)o(oke)9 b(the)h(action)g(routine.)174 742 y(Buttons)g(and)h
(toggle)g(b)o(uttons)f(\(cf.)20 b(Section)11 b(3.3.10\))g(are)i(actually)e
(constructed)g(as)h(the)g(cross-product)e(of)i(items)f(in)112
802 y(vie)o(w)g(and)h(control)e(modules.)19 b(The)12 b(structure)f
Fh(ButtonView)f Fo(describes)i(a)g(simple)f(state-vie)o(w)h(protocol,)f(and)g
(pro)o(vides)112 862 y(v)o(arious)d(visual)h(b)o(utton)f(representations)g
(\(arro)o(ws,)i(te)o(xt,)g(icons,)f(etc.\))16 b(accepting)9
b(this)g(protocol.)k(The)d Fh(ButtonCtrl)e Fo(and)112 922 y
Fh(ToggleCtrl)i Fo(structures)i(implement)g(input)f(control)g(semantics)i
(using)e(the)i(protocol.)20 b(The)13 b(b)o(uttons)e(pro)o(vided)g(in)h(the)
112 981 y Fh(Button)f Fo(and)h Fh(Toggle)f Fo(structures)h(are)h(just)e
(common)i(combinations)e(of)h(a)g(vie)o(w)g(and)h(a)f(control.)20
b(A)12 b(programmer)h(can)112 1041 y(easily)f(create)i(ne)o(w)f(b)o(uttons)f
(using)g(dif)o(ferent)g(combinations,)g(or)h(combining)e(a)j(ne)o(w)f(vie)o
(w)g(with)e(an)j(old)e(controller)f(or)112 1101 y(vice)f(v)o(ersa.)174
1181 y Fl(N.B.)g Fo(It)f(is)h(the)f(programmer')n(s)h(responsibility)d(to)i
(pro)o(vide)g(a)h(thread)f(to)h(synchronize)f(on)g(the)h(b)o(utton)e(e)o(v)o
(ent)i(supplied)112 1241 y(by)e(the)g Fh(evtOf)g Fo(function.)13
b(Otherwise,)c(the)g(b)o(utton)e(thread)i(will)e(block.)14
b(The)c(protocol)d(for)h(the)g(deli)o(v)o(ery)h(of)f(b)o(utton)f(e)o(v)o
(ents)112 1301 y(is)h(that)g(an)h(initial)e Fh(BtnDown)h Fo(and)h(a)g
(terminating)e Fh(BtnUp)h Fo(or)h Fh(BtnExit)e Fo(e)o(v)o(ent)j(are)f
(guaranteed)g(to)f(be)i(generated)f(and)g(must)112 1361 y(be)j(synchronized)g
(upon.)20 b(In)12 b(the)g(interim,)g(the)h(b)o(utton)d(widget)i(will)f
(supply)g(a)h Fh(BtnDown)f Fo(e)o(v)o(ent)i(e)o(v)o(ery)g(time)f(the)g
(client)112 1420 y(synchronizes)e(on)g(the)g(b)o(utton)e(e)o(v)o(ent)j(v)o
(alue.)112 1560 y Fe(3.3.2)50 b(Can)n(vas)112 1669 y Fo(The)10
b(can)n(v)o(as)i(widget)d(pro)o(vides)h(a)h(dra)o(wing)f(surface)h(that)e
(can)i(also)f(be)h(used)f(as)h(basis)g(for)f(b)o(uilding)e(ne)o(w)i(widgets.)
174 1768 y Ff(signature)16 b(CANVAS)h(=)213 1814 y(sig)252
1905 y(structure)f(D)k(:)f(DRAWING)252 1997 y(type)f(canvas)252
2088 y(val)h(mkCanvas)d(:)j(root)g(->)f(bounds)g(->)g(\(canvas)f(*)j(size)e
(*)h(in_env\))252 2179 y(val)g(widgetOf)d(:)j(canvas)f(->)h(widget)252
2225 y(val)g(sizeOf)e(:)i(canvas)f(->)g(size)252 2271 y(val)h(drawableO)o(fC)
o(anv)o(as)d(:)j(canvas)f(->)g(D.drawable)213 2362 y(end)112
2476 y Fo(T)m(o)10 b(create)i(a)f(can)n(v)o(as,)i(the)d(programmer)h(pro)o
(vides)f(a)h(display)f(root)g(and)g(a)h(preferred)g(bounds.)16
b(The)11 b Fh(mkCanvas)e Fo(function)112 2535 y(returns)j(a)i(can)n(v)o(as)h
(on)e(which)g(to)g(dra)o(w)m(,)j(the)d(current)g(size)h(of)f(the)h(can)n(v)o
(as)h(and)e(an)h(input)e(en)n(vironment.)24 b(The)14 b(function)112
2595 y Fh(drawableOfCanva)o(s)6 b Fo(returns)i(the)h(dra)o(wable)g(for)g(the)
f(can)n(v)o(as.)17 b(This)8 b(can)i(be)f(used)g(with)f(the)h(dra)o(wing)f
(operations)g(of)h(the)112 2655 y Fh(Drawing)h Fo(module)i(in)f(the)h
Fl(eXene)h Fo(library)m(.)19 b(The)13 b(dra)o(wable)f(is)f(not)g(a)o(v)o
(ailable)h(until)e(the)i(can)n(v)o(as)h(widget)e(is)h(realized.)21
b(A)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 26 30
26 29 bop 991 -63 a Fo(26)112 82 y(call)8 b(to)g Fh(drawableOfCanvas)d
Fo(beforehand)k(will)e(cause)j(the)e(calling)g(thread)g(to)g(block.)14
b(The)9 b(programmer)g(is)f(responsible)112 142 y(for)j(handling)f(the)h
(input)f(en)n(vironment)h(in)g(the)h(same)h(manner)f(as)g(the)g(programmer)f
(of)h(a)g(ra)o(w)g(widget)f(\(cf.)19 b(Chapter)12 b(5\).)112
202 y(There)f(is)f(also)h(a)g Fh(sizeOf)e Fo(function,)h(which)g(returns)g
(the)g(current)g(size)i(of)e(the)g(can)n(v)o(as.)18 b(The)11
b(actual)g(e)o(v)o(ent)g(of)f(the)g(can)n(v)o(as)112 262 y(being)f(resized)i
(is)f(reported,)g(as)h(usual,)g(through)d(the)i(input)f(en)n(vironment.)112
401 y Fe(3.3.3)50 b(Color)12 b(r)o(ectangle)112 510 y Fo(The)e
Fh(ColorRect)f Fo(structure)h(implements)g(a)h(widget)e(that)h(\256lls)f(its)
h(windo)o(w)f(with)g(a)i(\256x)o(ed)g(color)n(.)174 609 y Ff(signature)16
b(COLOR_REC)o(T)h(=)213 655 y(sig)252 746 y(val)i(mkColorRe)o(ct)d(:)j(root)f
(->)h(\(color)e(option)h(*)h(\(unit)f(->)h(bounds\)\))d(->)j(widget)213
838 y(end)112 951 y Fo(The)12 b Fh(mkColorRect)e Fo(takes)j(a)f
Fh(root)g Fo(v)o(alue,)h(plus)f(an)g(optional)e(color)i(and)g(a)h(bounds)e
(function.)20 b(The)13 b(resulting)e(widget)112 1011 y(uses)f(the)g(gi)o(v)o
(en)g(bounds)g(function)e(to)i(specify)g(its)g(size)h(requirements.)k(If)10
b(the)g(color)g(is)g Fh(NONE)p Fo(,)g(black)g(is)g(used.)112
1151 y Fe(3.3.4)50 b(Divider)112 1259 y Fo(The)10 b Fh(Divider)f
Fo(structure)h(pro)o(vides)g(for)f(\257e)o(xible)i(lines)f(to)f(be)i(used)f
(as)h(di)o(viders)e(between)i(other)f(widgets.)174 1359 y Ff(signature)16
b(DIVIDER)h(=)213 1405 y(sig)252 1496 y(val)i(mkHorzDiv)o(id)o(er)d(:)k(root)
e(->)g({color)g(:)h(color)f(option,)f(width)g(:)i(int})g(->)f(widget)252
1541 y(val)h(mkVertDiv)o(id)o(er)d(:)k(root)e(->)g({color)g(:)h(color)f
(option,)f(width)g(:)i(int})g(->)f(widget)213 1633 y(end)112
1747 y Fo(The)c(color)f(of)g(the)g(di)o(vider)f(is)h(speci\256ed)i(by)e(the)g
(color)g(option;)g(black)g(is)h(used)f(by)g(default.)24 b(In)13
b(a)h(horizontal)e(di)o(vider)n(,)112 1806 y(the)e(bounds)f(are)j(\256x)o(ed)
f(to)f Fh(width)f Fo(in)h(the)g(v)o(ertical)h(direction,)e(and)i(are)g
(arbitrarily)e(\257e)o(xible)h(in)g(the)h(horizontal)e(direction.)112
1866 y(A)15 b(v)o(ertical)g(di)o(vider)f(is)g(similar)h(with)f(the)h
(horizontal)e(and)j(v)o(ertical)f(roles)g(re)o(v)o(ersed.)30
b(A)16 b(ne)o(gati)o(v)o(e)f Fh(width)f Fo(raises)i(the)112
1926 y Fh(LibBase.BadArg)7 b Fo(e)o(xception.)112 2065 y Fe(3.3.5)50
b(Framed)13 b(widgets)112 2174 y Fo(V)-5 b(arious)11 b(basic)i(widgets)e
(with)f(te)o(xt)i(labels)g(do)f(not)g(possess)i(frames)g(or)e(boundaries.)20
b(This)11 b(allo)o(ws)h(them)g(to)f(be)h(used)g(in)112 2234
y(situations)g(where)i(frames)h(are)f(undesired.)25 b(F)o(ollo)o(wing)12
b(the)i Fl(eXene)h Fo(approach,)g(a)f(programmer)g(can)h(add)f(borders)f(by)
112 2294 y(wrapping)e(a)i(widget)f(in)g(a)h Fh(frame)e Fo(widget)h(\(cf.)22
b(Section)12 b(3.2.3\).)22 b(Ho)o(we)o(v)o(er)n(,)15 b(since)e(certain)f
(framed)h(widgets)f(are)h(such)112 2353 y(common)8 b(idioms,)g(the)f(library)
g(pro)o(vides)g(three)h(structures)f Fh(FramedButton)p Fo(,)f
Fh(FramedLabel)g Fo(and)i Fh(FramedToggle)d Fo(that)112 2413
y(pro)o(vide)k(this)g(wrapping.)14 b(The)c(resulting)f(types)g
Fh(fr_button)p Fo(,)g Fh(fr_label)g Fo(and)g Fh(fr_toggle)g
Fo(ha)o(v)o(e)i(the)e(same)j(semantics)112 2473 y(as)d(their)g(unframed)g
(brethren.)15 b(The)10 b(constructor)e(functions)f(takes)j(the)f(same)h(ar)o
(guments,)h(with)d(the)h(assumption)f(that)h(the)112 2533 y(shape)i(will)e
(be)h(rectangular)h(and)f(with)f(the)i(addition)d(of)i(a)h(border)f(width)f
(ar)o(gument.)16 b(If)10 b(this)g(last)g(ar)o(gument)h(is)f(ne)o(gati)o(v)o
(e,)112 2592 y(the)g(e)o(xception)g Fh(Frame.BadWidth)d Fo(is)j(raised.)16
b(The)11 b(fore)o(ground)e(color)h(is)g(used)g(as)h(the)f(frame)h(color)n(.)
732 2799 y Fj(Dr)o(aft)f(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 27 31
27 30 bop 991 -63 a Fo(27)112 82 y Fe(3.3.6)50 b(Label)112
191 y Fo(A)9 b(label)g(widget)f(allo)o(ws)g(the)h(programmer)g(to)g(put)f
(unadorned)g(te)o(xt)h(in)g(the)g(interface.)14 b(The)c(te)o(xt)f(and)g
(colors)g(are)g(mutable,)112 251 y(under)g(control)g(of)h(the)g(programmer)n
(.)174 350 y Ff(signature)16 b(LABEL)i(=)213 396 y(sig)252
487 y(type)g(label)252 578 y(val)h(mkLabel)e(:)i(root)f(->)h({)409
624 y(label)f(:)h(string,)409 670 y(font)f(:)h(string)f(option,)409
715 y(foregrnd)f(:)i(color)f(option,)409 761 y(backgrnd)f(:)i(color)f
(option,)409 807 y(align)g(:)h(halign)370 852 y(})g(->)g(label)252
944 y(val)g(widgetOf)d(:)j(label)f(->)h(widget)252 989 y(val)g(setLabel)d(:)j
(label)f(->)h(string)e(->)i(unit)252 1035 y(val)g(setBackgr)o(ou)o(nd)d(:)k
(label)d(->)i(color)f(option)f(->)i(unit)252 1081 y(val)g(setForegr)o(ou)o
(nd)d(:)k(label)d(->)i(color)f(option)f(->)i(unit)213 1172
y(end)112 1286 y Fo(A)13 b(label)g(is)g(created)h(by)e(supplying)f(a)j
(display)e(root,)h(an)h(initial)d(label)i(string,)g(an)g(optional)e(font,)i
(optional)f(fore)o(ground)112 1346 y(and)h(background)f(colors)g(and)h(an)h
(alignment.)23 b(On)12 b(the)h(screen,)i(a)f(label)f(consists)g(of)f(the)h
(string)f(written)g(in)g(the)h(gi)o(v)o(en)112 1405 y(fore)o(ground)8
b(color)g(\(black)h(by)g(default\))f(on)h(the)g(gi)o(v)o(en)g(background)f
(color)h(\(by)g(default,)f(the)h(parent')n(s)g(background\).)14
b(The)112 1465 y(font)d(ar)o(gument)i(speci\256es)h(the)e(name)i(of)e(the)h
(font)e(to)h(use)i(\(the)e Fh(8x13)g Fo(font)f(is)i(used)g(by)f(default\).)21
b(A)13 b(label)f(is)h(naturally)112 1525 y(high)e(enough)h(to)f(contain)h(an)
o(y)h(string)e(written)g(in)h(the)g(font,)h(and)f(wide)h(enough)e(to)h
(contain)g(the)g(current)g(string,)g(plus)g(a)112 1585 y(bit)d(of)h(padding)f
(around)h(the)g(string.)15 b(A)10 b(label)g(speci\256es)i(no)e(shrinking)e
(or)i(stretching.)15 b(If)10 b(the)g(windo)o(w)f(pro)o(vided)h(for)g(the)112
1644 y(label)g(is)g(lar)o(ger)g(than)g(necessary)m(,)i(the)e(te)o(xt)g(will)f
(be)i(aligned)f(within)e(the)i(windo)o(w)f(according)h(to)g(the)g
Fh(align)f Fo(parameter)n(.)174 1725 y(The)14 b(functions)f
Fh(setLabel)p Fo(,)g Fh(setForeground)f Fo(and)i Fh(setBackground)d
Fo(allo)o(w)i(the)h(program)g(to)f(modify)g(the)h(ap-)112 1785
y(pearance)h(of)e(the)h(label.)25 b(If)13 b(a)h(ne)o(w)g(label)g(is)f(too)g
(lar)o(ge)h(for)f(the)h(current)f(windo)o(w)m(,)h(the)f(widget)g(requests)h
(more)g(space.)112 1845 y(Otherwise,)c(the)g(ne)o(w)g(te)o(xt)h(is)f(written)
f(with)g(the)h(speci\256ed)h(alignment.)112 1984 y Fe(3.3.7)50
b(Scr)o(ollbar)112 2093 y Fo(The)13 b(scrollbar)f(widget)g(is)g(used)h(to)f
(indicate)g(a)h(position)e(and)i(a)g(size,)h(and)f(to)f(allo)o(w)g(the)h
(user)f(to)h(change)g(the)f(position.)112 2152 y(Scrollbars)f(are)j(used)e
(most)h(commonly)f(to)g(specify)g(the)g(vie)o(w)h(a)f(windo)o(w)g(gi)o(v)o
(es)g(on)g(a)h(logically)e(much)i(lar)o(ger)g(display)112 2212
y(area,)e(and)g(to)e(allo)o(w)h(the)g(user)h(to)e(pan)i(the)f(windo)o(w)f(o)o
(v)o(er)i(the)f(display)f(area.)732 2799 y Fj(Dr)o(aft)h(of)f(F)m(ebruary)i
(15,)g(1993)e(17:53)p eop
%%Page: 28 32
28 31 bop 991 -63 a Fo(28)174 82 y Ff(signature)16 b(SCROLLBAR)g(=)213
128 y(sig)252 219 y(datatype)h(scroll_ev)o(t)291 265 y(=)j(ScrUp)d(of)i(real)
291 310 y(|)h(ScrDown)d(of)h(real)291 356 y(|)i(ScrStart)c(of)j(real)291
402 y(|)h(ScrMove)d(of)h(real)291 447 y(|)i(ScrEnd)d(of)i(real)252
539 y(type)f(scrollbar)252 630 y(val)h(mkHScroll)o(ba)o(r)e(:)i(root)f(->)h
({color)e(:)i(color)f(option,sz)e(:)j(int})f(->)h(scrollbar)252
676 y(val)g(mkVScroll)o(ba)o(r)e(:)i(root)f(->)h({color)e(:)i(color)f
(option,sz)e(:)j(int})f(->)h(scrollbar)252 767 y(val)g(evtOf)e(:)j(scrollbar)
c(->)j(scroll_e)o(vt)d(event)252 813 y(val)j(widgetOf)d(:)j(scrollbar)e(->)h
(widget)252 858 y(val)h(setVals)e(:)i(scrollbar)d(->)j({sz:real)d(option,top)
o(:re)o(al)g(option})h(->)i(unit)213 950 y(end)112 1063 y Fo(The)10
b(functions)e Fh(mkHScrollbar)g Fo(and)h Fh(mkVScrollbar)f
Fo(make)i(horizontal)e(and)i(v)o(ertical)g(scrollbars,)g(respecti)o(v)o(ely)m
(.)15 b(The)112 1123 y(user)9 b(supplies)f(a)i(display)e(root,)h(an)h
(optional)d(color)i(and)g(a)h(size.)15 b(The)10 b(size)g(indicates)f(the)g
(desired)g(size)h(of)f(the)g(minor)f(axis,)112 1183 y(and)h(is)g(used)h(in)f
(the)g(bounds)g(with)f(no)h(stretch)g(or)g(shrink.)14 b(If)9
b Fh(dim)g Fo(is)h(non-positi)o(v)o(e,)e(the)h(e)o(xception)g
Fh(LibBase.BadArg)e Fo(is)112 1243 y(raised.)18 b(Along)10
b(the)h(major)h(axis,)f(the)g(scrollbar)g(allo)o(ws)g(arbitrary)f(stretching)
g(and)i(shrinking.)k(The)c(scrollbar)e(is)h(dra)o(wn)112 1302
y(in)e(the)h(gi)o(v)o(en)g(color)g(on)g(its)f(parent')n(s)h(background.)15
b(By)9 b(default,)h(the)g(color)g(is)g(black.)174 1383 y(Scroll)f(v)o(alues)g
(fall)g(in)g(the)g(range)h([0.0,1.0].)15 b(The)c Fh(setVals)d
Fo(function)g(allo)o(ws)h(an)h(application)e(or)h(another)h(widget)e(to)112
1443 y(specify)i(the)g(current)g(scrollbar)f(v)o(alues.)16
b(Thus,)11 b(the)f(call)174 1542 y Ff(setVals)17 b Fd(sb)i
Ff({sz)f(=)h(SOME)f(0.2,)g(top)h(=)g(SOME)f(0.5})112 1655 y
Fo(causes)8 b(the)g(start)f(of)g(the)g(scrollbar)g(curosr)g(or)h
(\252thumb\272)f(to)g(be)h(half)f(way)g(along)g(the)g(windo)o(w)g(and)g(be)h
(one-\256fth)e(the)i(windo)o(w)112 1715 y(size.)27 b(If)14
b(either)g Fh(sz)g Fo(or)g Fh(top)f Fo(is)h(not)f(gi)o(v)o(en,)j(the)e
(present)g(v)o(alue)g(is)g(retained.)27 b(The)14 b(scrollbar)g(v)o(alues)g
(are)h(additionally)112 1775 y(constrained)9 b(by)h Fh(top)21
b(+)h(sz)f(<=)h(1.0)p Fo(.)174 1856 y(When)14 b(the)f(user)h(interacts)g
(with)f(the)g(scrollbar)n(,)i(the)e(scrollbar)h(generates)g(an)g(e)o(v)o(ent)
g(of)g(type)f Fh(scroll_evt)p Fo(.)24 b(The)112 1915 y(follo)o(wing)6
b(protocols)i(are)i(associated)g(with)f(these)g(e)o(v)o(ents.)16
b Fh(ScrStart)7 b Fo(indicates)i(that)g(the)g(user)h(has)f(be)o(gun)h(to)e
(mo)o(v)o(e)j(the)112 1975 y(scrollbar)f(cursor)h(with)f(the)h(middle)f
(mouse)i(b)o(utton,)e(with)g(the)h(top)f(at)h(the)g(gi)o(v)o(en)g(relati)o(v)
o(e)g(position.)16 b(The)11 b(scrollbar)g(will)112 2035 y(continue)c(to)h
(generate)h Fh(ScrMove)e Fo(e)o(v)o(ents)i(as)g(the)g(user)f(continues)g(to)g
(mo)o(v)o(e)h(the)g(thumb)n(.)14 b(When)8 b(the)h(user)f(has)h(stopped,)g
(the)112 2095 y Fh(ScrEnd)f Fo(reports)g(this)g(with)h(the)g(\256nal)g(top)f
(position.)13 b(During)8 b(this)g(interaction,)g(the)h(scrollbar)g
(automatically)f(updates)h(its)112 2154 y(v)o(alues)h(and)g(display)m(.)174
2235 y(The)g Fh(ScrUp)f Fo(and)g Fh(ScrDown)f Fo(e)o(v)o(ents)i(are)h
(discrete)e(e)o(v)o(ents)h(associated)h(with)d(the)h(user)h(clicking)e(on)i
(the)f(scrollbar)g(with)112 2295 y(b)o(uttons)d(1)h(and)h(3)g(respecti)o(v)o
(ely)m(.)15 b(The)8 b(application)e(can)j(interpret)d(these)i(e)o(v)o(ents)h
(as)f(appropriate.)14 b(By)7 b(con)n(v)o(ention,)h(the)f(user)112
2355 y(has)j(indicated)e(a)j(desire)e(to)g(mo)o(v)o(e)i(the)e(application)g
(windo)o(w)f(up)h(or)h(do)o(wn,)f(with)f(the)i(v)o(alue)f(being)g(the)h
(indicated)f(relati)o(v)o(e)112 2414 y(position.)j(F)o(or)e(e)o(xample,)h
(one)e(application)f(might)g(use)i Fh(ScrUp)21 b Fj(v)10 b
Fo(to)f(mo)o(v)o(e)h(its)f(windo)o(w)f(up)h(to)g(the)g(v)o(alue)g
(corresponding)112 2474 y(to)i Fj(v)p Fo(.)20 b(A)11 b(te)o(xt)h(windo)o(w)e
(might)h(instead)g(interpret)g(this)f(e)o(v)o(ent)i(by)g(mo)o(ving)f(the)g
(top)g(line)g(of)g(the)h(windo)o(w)e(to)h(the)h(position)112
2534 y(indicated)f(by)h(the)f(user)n(.)21 b(As)12 b(these)h(e)o(v)o(ents)f
(are)h(application-dependent,)e(it)g(is)h(up)g(to)f(the)h(application)f(to)g
(reposition)f(its)112 2594 y(vie)o(w)g(and)g(then)g(use)g Fh(setVals)f
Fo(to)h(re)o(gister)g(this)g(ne)o(w)g(vie)o(w)g(with)f(the)h(scrollbar)n(.)
174 2674 y Fl(N.B.)d Fo(It)g(is)g(the)g(programmer')n(s)g(responsibility)e
(to)h(pro)o(vide)h(a)g(thread)g(to)g(synchronize)g(on)g(the)g(scrollbar)f(e)o
(v)o(ent)i(supplied)732 2799 y Fj(Dr)o(aft)i(of)f(F)m(ebruary)i(15,)g(1993)e
(17:53)p eop
%%Page: 29 33
29 32 bop 991 -63 a Fo(29)112 82 y(by)9 b(the)i Fh(evtOf)e
Fo(function.)14 b(Otherwise,)c(the)g(scrollbar)g(thread)g(will)f(block.)112
222 y Fe(3.3.8)50 b(Slider)112 330 y Fo(The)13 b(slider)g(widget)f(pro)o
(vides)h(an)h(analogue)f(means)h(for)f(a)h(user)f(to)g(supply)f(a)i
(numerical)f(v)o(alue.)24 b(It)13 b(is)g(comparable)h(to)112
390 y(a)e(scrollbar)n(,)h(ha)o(ving)e(a)i(slide)f(piece)h(that)e(can)i(be)f
(mo)o(v)o(ed)h(along)f(a)h(track)f(using)f(an)o(y)i(mouse)f(b)o(utton.)19
b(The)13 b(v)o(alue)f(v)o(aries)112 450 y(linearly)c(with)h(the)h(position)e
(of)i(the)g(slide)f(piece.)16 b(Unlike)9 b(a)h(scrollbar)n(,)h(a)f(slider)g
(supports)e(a)j(state)f(of)g(only)f(a)h(single)g(v)o(alue)112
510 y(rather)g(than)g(a)g(range)h(of)f(v)o(alues.)174 609 y
Ff(signature)16 b(SLIDER)h(=)213 655 y(sig)252 701 y(type)h(slider)252
792 y(val)h(mkHSlider)d(:)j(root)f(->)h({)409 838 y(foregrnd)e(:)i(color)f
(option,)409 883 y(wid)h(:)g(int,)409 929 y(init)f(:)h(int,)409
975 y(scale)f(:)h(int)370 1020 y(})g(->)g(slider)252 1112 y(val)g(mkVSlider)d
(:)j(root)f(->)h({)409 1157 y(foregrnd)e(:)i(color)f(option,)409
1203 y(wid)h(:)g(int,)409 1249 y(init)f(:)h(int,)409 1294 y(scale)f(:)h(int)
370 1340 y(})g(->)g(slider)252 1431 y(val)g(widgetOf)d(:)j(slider)f(->)h
(widget)252 1477 y(val)g(evtOf)e(:)j(slider)d(->)i(int)f(event)252
1523 y(val)h(setValue)d(:)j(slider)f(->)h(int)f(->)h(unit)252
1568 y(val)g(getValue)d(:)j(slider)f(->)h(int)252 1614 y(val)g(getScale)d(:)j
(slider)f(->)h(int)213 1705 y(end)112 1819 y Fo(T)m(o)13 b(create)i(a)g
(slider)n(,)g(the)f(programmer)g(supplies)f(the)h(display)f(root,)h(an)g
(optional)e(fore)o(ground)h(color)g(\(with)g(black)h(the)112
1879 y(default\),)g(an)g(inte)o(ger)g(v)o(alue)g(specifying)f(the)g
(\252width\272)h(\(the)g(size)g(of)g(the)g(slider)f(perpendicular)g(to)h(the)
f(slide)h(track\),)h(a)112 1938 y(scale)c(and)g(an)g(initial)e(v)o(alue.)17
b(The)12 b Fh(mkHSlider)d Fo(function)g(returns)h(a)h(slider)g(widget)e(with)
h(a)i(horizontal)d(slide)h(track,)i(and)112 1998 y Fh(mkVSlider)c
Fo(returns)i(one)g(with)f(a)i(v)o(ertical)f(track.)174 2079
y(The)h(slider)e(is)h(dra)o(wn)h(in)f(the)g(speci\256ed)h(color)e(on)h(its)g
(parent')n(s)f(background.)15 b(The)c(size)g(of)f(the)g(slider)f
(perpendicular)112 2139 y(to)g(the)h(slide)f(track)i(is)f(\256x)o(ed)g(to)g
(the)f(v)o(alue)i(of)e Fh(wid)p Fo(.)15 b(It)9 b(is)h(arbitrarily)f(\257e)o
(xible)h(along)f(the)h(dimension)f(parallel)h(to)f(the)h(slide)112
2198 y(track.)174 2279 y(The)e(slider')n(s)e(v)o(alue)h(will)e(fall)i(in)f
(the)h(range)g Fh([0,scale])p Fo(.)13 b(The)8 b(initial)d(slider)h(v)o(alue)h
(is)g Fh(init)p Fo(.)13 b(The)8 b(slider)f(constructors)112
2339 y(require)j(that)f Fh(0)22 b(<=)f(init)g(<=)h(scale)9
b Fo(and)i Fh(scale)20 b(>)i(0)p Fo(.)16 b(The)o(y)11 b(raise)g(the)f
Fh(LibBase.BadArg)d Fo(e)o(xception)k(otherwise.)112 2398 y(Clients)f
(wishing)g(a)j(dif)o(ferent)e(range)h(format)f(\(e.g.,)j Fh([~5,10])p
Fo(\),)d(a)h(dif)o(ferent)f(range)h(type)g(\(e.g.,)h(reals\),)g(or)f(a)g
(non-linear)112 2458 y(function)c(can)j(wrap)g(the)f(widget)f(as)i(necessary)
m(.)174 2539 y(The)f(functions)f Fh(getValue)f Fo(and)i Fh(getScale)e
Fo(allo)o(w)h(one)h(to)f(query)g(the)h(slider')n(s)f(state.)15
b(The)c Fh(setValue)d Fo(can)i(be)g(used)112 2598 y(to)h(change)h(the)g
(slider')n(s)f(v)o(alue,)h(which)g(is)f(re\257ected)i(in)e(the)h(position)e
(of)h(the)h(slide)f(piece.)21 b(An)11 b(in)n(v)o(alid)g(v)o(alue)h(will)e
(raise)112 2658 y(the)g Fh(LibBase.BadArg)d Fo(e)o(xception.)732
2799 y Fj(Dr)o(aft)j(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 30 34
30 33 bop 991 -63 a Fo(30)174 82 y(The)13 b Fh(evtOf)g Fo(function)e(returns)
h(an)i(inte)o(ger)e(e)o(v)o(ent)i(associated)g(with)d(the)i(changing)g(of)f
(the)h(slider')n(s)f(v)o(alue.)24 b(As)13 b(the)112 142 y(user)g(mo)o(v)o(es)
i(the)e(slide)g(piece)h(along)f(the)g(track)g(or)h(the)f(slider)f(v)o(alue)i
(is)f(changed)h(by)f Fh(setValue)p Fo(,)g(the)g(slider)g(uses)h(the)112
202 y(e)o(v)o(ent)c(to)g(report)f(the)h(current)g(v)o(alue.)174
282 y Fl(N.B.)h Fo(It)f(is)g(the)g(programmer')n(s)h(responsibility)d(to)h
(pro)o(vide)h(a)h(thread)g(to)e(synchronize)i(on)f(the)g(slider)g(e)o(v)o
(ent)h(supplied)112 342 y(by)e(the)i Fh(evtOf)e Fo(function.)14
b(Otherwise,)c(the)g(slider)g(thread)g(will)f(block.)112 482
y Fe(3.3.9)50 b(T)-5 b(extList)112 590 y Fo(A)11 b(te)o(xt)h(list)e(pro)o
(vides)h(the)h(user)g(with)e(a)i(list)f(of)g(strings,)h(and)f(allo)o(ws)g
(the)h(user)g(to)f(select)h(items)g(from)f(the)h(list.)18 b(The)12
b(user)112 650 y(selects)g(an)g(item)f(by)g(clicking)g(on)g(it)g(with)f(the)i
(left)f(mouse)h(b)o(utton.)17 b(The)12 b(user)g(can)h(unselect)e(an)h(item)g
(by)f(clicking)f(on)h(it)112 710 y(with)c(the)i(middle)g(b)o(utton.)k(The)d
(widget)e(reports)g(user)h(selections)g(as)h(e)o(v)o(ents,)g(which)f(can)g
(be)h(tied)e(to)g(application-speci\256c)112 769 y(actions.)14
b(There)d(are)f(two)f(types)g(of)g(list)g(beha)o(vior)n(,)h(viz.,)g(lists)f
(allo)o(wing)e(multiple)i(selections)g(and)h(lists)e(allo)o(wing)g(at)i(most)
112 829 y(one)i(selection.)22 b(In)12 b(the)h(single)e(selection)i(case,)i
(selecting)d(a)h(ne)o(w)g(item)f(automatically)g(causes)i(a)f(pre)o(viously)e
(selected)112 889 y(item)f(to)f(be)i(unselected)g(\(cf.)k(Section)10
b(3.2.9\).)174 989 y Ff(signature)16 b(TEXT_LIST)g(=)213 1034
y(sig)252 1126 y(exception)g(BadIndex)252 1171 y(exception)g(MultipleCho)o
(ic)o(es)252 1263 y(type)i('a)h(text_list)252 1308 y(datatype)e('a)i
(list_evt)d(=)j(Set)g(of)g('a)f(|)i(Unset)d(of)i('a)252 1354
y(datatype)e(list_mode)f(=)j(OneSet)e(|)j(MultiSet)252 1445
y(type)e('a)h(list_item)d(\(*)j(=)g(\(string)e(*)i('a)g(*)h(wstate\))c(*\))
252 1491 y(val)j(mkItem)e(:)i(\(string)e(*)i('a)g(*)g(W.wstate\))e(->)h('a)h
(list_item)252 1582 y(val)g(mkHList)e(:)i(root)f(->)h({)409
1628 y(mode)f(:)h(list_mode,)409 1674 y(backgrnd)e(:)i(color)f(option,)409
1719 y(foregrnd)f(:)i(color)f(option,)409 1765 y(items)g(:)h('2a)g(list_ite)o
(m)e(list)370 1811 y(})i(->)g('2a)f(text_list)252 1902 y(val)h(mkVList)e(:)i
(root)f(->)h({)409 1948 y(mode)f(:)h(list_mode,)409 1993 y(backgrnd)e(:)i
(color)f(option,)409 2039 y(foregrnd)f(:)i(color)f(option,)409
2085 y(items)g(:)h('2a)g(list_ite)o(m)e(list)370 2130 y(})i(->)g('2a)f
(text_list)252 2222 y(val)h(evtOf)e(:)j('a)e(text_list)f(->)h('a)h(list_evt)e
(event)252 2267 y(val)i(widgetOf)d(:)j('a)g(text_list)d(->)j(widget)252
2359 y(val)g(setChosen)d(:)j('a)g(text_list)d(->)j(\(int)f(*)h(bool\))f(list)
g(->)h(unit)252 2404 y(val)g(setActive)d(:)j('a)g(text_list)d(->)j(\(int)f(*)
h(bool\))f(list)g(->)h(unit)252 2450 y(val)g(getChosen)d(:)j('a)g(text_list)d
(->)j(int)f(list)252 2496 y(val)h(getState)d(:)j('a)g(text_list)d(->)j
(wstate)f(list)213 2587 y(end)732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i
(15,)g(1993)e(17:53)p eop
%%Page: 31 35
31 34 bop 991 -63 a Fo(31)112 82 y(T)m(o)13 b(create)h(a)g(te)o(xt)e(list,)h
(the)g(programmer)h(supplies)e(the)h(display)f(root,)h(optional)f(fore)o
(ground)g(and)h(background)f(colors)112 142 y(\(with)g(black)i(and)h(white)e
(the)h(respecti)o(v)o(e)h(defaults\),)f(the)g(selection)g(mode)g(of)g(the)g
(widget,)h(and)f(a)g(list)f(of)h(items.)27 b(The)112 202 y
Fh(mkHList)8 b Fo(function)g(returns)h(a)h(horizontal)f(list)f(widget)h
(while)g Fh(mkVList)f Fo(returns)i(one)f(with)g(a)h(v)o(ertical)g
(orientation.)j(The)112 262 y(selection)7 b(mode)i(speci\256es)g(which)e(of)h
(the)g(two)f(list)g(beha)o(viors)h(is)g(desired,)h(with)d Fh(OneSet)h
Fo(and)i Fh(MultiSet)d Fo(corresponding)112 321 y(respecti)o(v)o(ely)j(to)g
(allo)o(wing)e(at)j(most)f(one)g(selection)g(and)h(allo)o(wing)d(multiple)h
(selections.)15 b(An)9 b(item)g(is)g(essentially)g(a)h(triple)112
381 y(of)f(a)h(string,)f(a)h(v)o(alue)g(and)f(an)h(initial)e(state.)15
b(The)c(string)d(speci\256es)j(the)e(te)o(xt)g(displayed)g(in)g(the)h(list.)k
(The)c(v)o(alue)g(is)f(returned)112 441 y(when)g(the)h(user)g(selects)g(the)g
(item.)15 b(The)10 b(initial)e(state)i(speci\256es)h(whether)e(or)g(not)g
(the)h(item)g(is)f(acti)o(v)o(e,)i(and)f(whether)f(or)g(not)112
501 y(the)h(item)g(is)g(set.)174 581 y(The)d(set)h(of)e(selected)i(and)f
(acti)o(v)o(e)h(items)f(can)g(be)h(controlled)d(by)i(the)g(program)f(using)g
(the)h Fh(setChosen)e Fo(and)i Fh(setActive)112 641 y Fo(functions.)13
b(The)e Fh(getChosen)e Fo(and)h Fh(getState)f Fo(allo)o(w)g(the)i(program)f
(to)f(query)h(the)g(state)h(of)f(the)g(list.)174 721 y(The)j
Fh(evtOf)e Fo(function)g(returns)h(an)h Fh('a)21 b(list_evt)11
b Fo(e)o(v)o(ent)i(associated)g(with)e(items)i(being)f(selected)h(or)f
(unselected.)112 781 y(The)g Fh(list_evt)e Fo(indicates)i(whether)f(the)h
(user)g(has)g(selected)h(\()p Fh(Set)p Fo(\))e(or)h(unselected)g(\()p
Fh(Unset)p Fo(\))e(an)i(item,)h(along)e(with)g(the)112 841
y(v)o(alue)g(associated)g(with)f(the)h(item.)18 b(In)11 b(the)g
Fh(OneSet)e Fo(mode,)j(in)f(which)g(the)f(widget)h(automatically)f(unsets)h
(the)g(currently)112 901 y(selected)g(item)f(when)g(a)h(ne)o(w)f(one)h(is)f
(chosen,)h(the)f(widget)f(supplies)h(an)g Fh(Unset)g Fo(e)o(v)o(ent)g(before)
h(reporting)d(the)i Fh(Set)g Fo(e)o(v)o(ent.)174 981 y(The)f(constraints)e
(and)i(e)o(xceptions)f(associated)i(with)d(creating)h(and)h(using)e(a)j(te)o
(xt)e(list)f(are)i(described)g(in)f(Section)g(3.2.9.)174 1062
y Fl(N.B.)i Fo(It)g(is)f(the)h(programmer')n(s)g(responsibility)d(to)i(pro)o
(vide)g(a)i(thread)e(to)h(synchronize)f(on)h(the)f(list)g(e)o(v)o(ent)h
(supplied)f(by)112 1122 y(the)h Fh(evtOf)f Fo(function.)14
b(Otherwise,)c(the)g(list)f(widget)h(will)f(block.)112 1261
y Fe(3.3.10)50 b(T)-5 b(oggles)112 1370 y Fo(T)m(oggles)8 b(are)h(b)o(uttons)
e(that)h(maintain)g(an)h(on-of)o(f)f(state.)15 b(The)9 b(user)g(changes)g
(the)g(toggle')n(s)e(state)i(by)f(clicking)g(on)g(the)g(b)o(utton)112
1430 y(with)j(an)o(y)h(mouse)h(b)o(utton.)19 b(As)13 b(with)e(ordinary)g(b)o
(uttons,)g(toggle)g(b)o(uttons)g(can)i(also)f(be)h(acti)o(v)o(e)g(or)e
(inacti)o(v)o(e.)21 b(A)13 b(b)o(utton')n(s)112 1489 y(display)c(usually)g
(indicates)h(both)f(aspects)j(of)d(the)i(b)o(utton')n(s)d(state.)732
2799 y Fj(Dr)o(aft)i(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 32 36
32 35 bop 991 -63 a Fo(32)174 82 y Ff(signature)16 b(TOGGLE)h(=)213
128 y(sig)252 174 y(type)h(toggle)252 265 y(val)h(widgetOf)d(:)j(toggle)f(->)
h(widget)252 310 y(val)g(getState)d(:)j(toggle)f(->)h(bool)252
356 y(val)g(setState)d(:)j(\(toggle)e(*)j(bool\))d(->)i(unit)252
402 y(val)g(setActive)d(:)j(\(toggle)e(*)i(bool\))f(->)h(unit)252
447 y(val)g(getActive)d(:)j(toggle)e(->)i(bool)252 539 y(val)g(mkToggleC)o
(he)o(ck)d(:)k(root)e(->)g({)409 584 y(state)g(:)h(wstate,)409
630 y(action)e(:)j(bool)e(->)h(unit,)409 676 y(color)f(:)h(color)f(option,)
409 721 y(sz)h(:)g(int)370 767 y(})g(->)g(toggle)252 858 y(val)g(mkToggleT)o
(ex)o(t)e(:)i(root)f(->)h({)409 904 y(state)f(:)h(wstate,)409
950 y(rounded)e(:)i(bool,)409 995 y(action)e(:)j(bool)e(->)h(unit,)409
1041 y(backgrnd)e(:)i(color)f(option,)409 1087 y(foregrnd)f(:)i(color)f
(option,)409 1132 y(label)g(:)h(string)370 1178 y(})g(->)g(toggle)252
1269 y(val)g(mkToggleS)o(wi)o(tch)d(:)j(root)f(->)h({)409 1315
y(state)f(:)h(wstate,)409 1361 y(action)e(:)j(bool)e(->)h(unit,)409
1406 y(backgrnd)e(:)i(color)f(option,)409 1452 y(foregrnd)f(:)i(color)f
(option)370 1498 y(})h(->)g(toggle)252 1589 y(val)g(mkToggleC)o(ir)o(cle)d(:)
j(root)f(->)h({)409 1635 y(state)f(:)h(wstate,)409 1680 y(action)e(:)j(bool)e
(->)h(unit,)409 1726 y(backgrnd)e(:)i(color)f(option,)409 1772
y(foregrnd)f(:)i(color)f(option,)409 1817 y(radius)f(:)j(int)370
1863 y(})f(->)g(toggle)252 1954 y(val)g(mkToggleI)o(co)o(n)e(:)i(root)f(->)h
({)409 2000 y(state)f(:)h(wstate,)409 2046 y(action)e(:)j(bool)e(->)h(unit,)
409 2091 y(backgrnd)e(:)i(color)f(option,)409 2137 y(foregrnd)f(:)i(color)f
(option,)409 2183 y(icon)g(:)h(tile)370 2228 y(})g(->)g(toggle)213
2320 y(end)112 2433 y Fo(All)9 b(constructors)h(take)h(an)g(initial)d(toggle)
i(state)h(and)f(an)h(action)g(function)e(that)h(is)g(called)h(whene)o(v)o(er)
h(the)e(toggle)g(changes)112 2493 y(from)j(on)h(to)g(of)o(f)f(or)h(from)g(of)
o(f)f(to)h(on.)26 b(The)15 b(ne)o(w)f(v)o(alue,)i(with)d(on)h(mapped)g(to)g
(true,)h(of)o(f)e(mapped)i(to)e(false,)j(is)e(passed)112 2553
y(to)g(the)g(action)h(function.)27 b(The)16 b(action)e(function)g(is)g(not)g
(in)n(v)o(oked)g(on)h(the)f(initial)f(toggle)h(state.)29 b(The)16
b(v)o(arious)e(toggle)112 2613 y(constructors)c(produce)g(widgets)h(dif)o
(fering)e(only)h(in)g(the)h(appearance)i(of)e(the)f(widget.)17
b(These)12 b(dif)o(ferences)g(are)g(re\257ected)112 2672 y(in)d(the)h
(remaining)g(constructor)f(ar)o(guments.)732 2799 y Fj(Dr)o(aft)h(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 33 37
33 36 bop 991 -63 a Fo(33)174 82 y Fh(mkToggleCheck)13 b Fo(produces)j(a)g
(check)h(mark)f(toggle)f(within)f(a)i(square)g(widget.)31 b(The)17
b Fh(sz)e Fo(parameter)i(indicates)112 142 y(the)g(desired)g(size)h(of)f(a)h
(side.)36 b(The)18 b(widget)f(bounds)f(are)i(set)g(to)f(a)g(\256x)o(ed)h
(square)g(of)f(this)f(size.)38 b(If)17 b Fh(sz)k(<)h(14)p Fo(,)d(the)112
202 y Fh(LibBase.BadArg)10 b Fo(e)o(xception)i(is)h(raised.)23
b(The)13 b(toggle)f(is)g(dra)o(wn)h(in)g(the)f(speci\256ed)i(color)e(\(black)
g(by)h(default\))e(on)i(the)112 262 y(parent')n(s)c(background.)174
342 y Fh(mkToggleText)c Fo(produces)k(a)f(te)o(xt)g(b)o(utton)e(toggle.)14
b(The)9 b(display)e(parameters)i(ha)o(v)o(e)g(the)f(same)i(use)e(as)h(in)e
Fh(mkTextBtn)112 402 y Fo(\(cf.)15 b(Section)10 b(3.3.1\).)174
482 y(The)i Fh(mkToggleSwitch)c Fo(toggle)i(is)h(represented)h(by)f(a)h
(rocker)f(switch)f(of)h(\256x)o(ed)h(bounds.)17 b(The)12 b(switch)f(is)g(dra)
o(wn)g(in)112 542 y(the)f(fore)o(ground)f(color)g(\(black)i(by)e(default\))h
(on)f(a)i(\256eld)f(of)g(the)h(background)e(color)h(\(white)f(by)h
(default\).)174 623 y(The)15 b Fh(mkCircleToggle)d Fo(b)o(utton)i(appears)h
(as)h(a)f(circular)g(b)o(utton,)g(with)f(the)g Fh(radius)g
Fo(parameter)i(specifying)e(the)112 682 y(desired)e(radius.)23
b(The)14 b(widget')n(s)d(bounds)h(will)g(be)h(a)g(\256x)o(ed)h(square)f
(slightly)e(lar)o(ger)i(than)f(what)h(is)g(necessary)h(to)e(hold)g(a)112
742 y(circle)e(of)f(the)h(gi)o(v)o(en)g(radius.)k(If)c Fh(radius)20
b(<)i(4)p Fo(,)10 b(the)g Fh(LibBase.BadArg)d Fo(e)o(xception)j(is)g(raised.)
15 b(The)10 b(widget)f(is)h(dra)o(wn)g(in)112 802 y(the)g(fore)o(ground)f
(color)g(\(black)i(by)e(default\))h(on)f(a)i(\256eld)f(of)g(the)h(background)
e(color)h(\(white)f(by)h(default\).)174 883 y(The)f(toggle)d(produced)i(by)g
Fh(mkIconToggle)e Fo(displays)h(the)h(ar)o(gument)g(icon,)g(using)g(the)f
(fore)o(ground)g(and)i(background)112 942 y(colors)g(supplied.)k(As)d(usual,)
g(these)g(colors)f(are)h(black)g(and)f(white,)g(respecti)o(v)o(ely)m(,)i(by)e
(default.)14 b(The)c(widget')n(s)e(bounds)h(are)112 1002 y(\256x)o(ed)h(at)h
(the)f(size)h(of)f(the)g(icon.)174 1083 y(As)g(toggles)f(are)i(implemented)f
(using)f(the)h(same)i(b)o(utton)c(vie)o(ws)i(as)h(the)f(b)o(uttons)f
(described)h(abo)o(v)o(e)h(in)e(Section)h(3.3.1,)112 1142 y(most)15
b(of)g(the)h(remarks)g(in)f(that)g(section)h(apply)e(here.)32
b(The)17 b(only)d(dif)o(ference)i(is)f(that)g(toggles)g(supply)g(the)g
(functions)112 1202 y Fh(getState)8 b Fo(to)h(query)h(the)f(toggle)g(state)h
(and)g Fh(setState)e Fo(to)i(set)g(the)f(toggle)g(state.)15
b(The)c(program)f(can)g(change)h(a)f(toggle')n(s)112 1262 y(state)g(e)o(v)o
(en)h(if)f(the)g(toggle)f(is)h(inacti)o(v)o(e.)112 1423 y Fg(3.4)57
b(T)-5 b(ext)14 b(W)o(idgets)112 1546 y Fo(W)n(idgets)f(pro)o(viding)f(te)o
(xtual)h(input)f(form)h(a)h(special)g(class)h(of)e(widgets.)25
b(Going)12 b(be)o(yond)i(a)g(simple)f(mouse)h(interface,)112
1606 y(these)c(widgets)g(are)h(combinations)f(of)g(virtual)f(terminals)h(and)
h(editors.)k(The)c(underlying)d(model)j(is)f(more)h(comple)o(x,)g(b)o(ut)112
1666 y(the)f(user)g(is)g(familiar)f(with)g(the)h(model)g(and)h(e)o(xpects)g
(a)g(richer)n(,)f(more)h(complicated)f(set)h(of)e(interactions.)14
b(In)c(this)g(section,)112 1726 y(we)f(describe)h(an)g(initial)d(set)j(of)f
(widgets)f(whose)i(interface)f(is)g(principally)e(based)j(on)f(the)g(ke)o
(yboard)g(and)h(characters.)16 b(The)112 1785 y(te)o(xt)11
b(widgets)g(are)h(probably)e(the)i(least)f(fully)f(de)o(v)o(eloped)i(of)f
(the)h Fl(eXene)h Fo(widget)d(set.)20 b(F)o(or)11 b(e)o(xample,)j(there)d(is)
h(currently)112 1845 y(no)d(support)g(for)h(te)o(xt)g(selection.)112
1985 y Fe(3.4.1)50 b(StrEdit)112 2093 y Fo(The)7 b Fh(StrEdit)f
Fo(structure)g(pro)o(vides)g(a)i(simple)e(string)g(editing)f(widget.)13
b(As)8 b(the)e(user)h(types,)h(the)f(corresponding)e(characters)112
2153 y(are)j(entered)g(at)g(the)f(cursor)h(position.)k(The)d(backspace)g
(character)g(\()p Fh("\\)1135 2146 y(^)1135 2153 y(H")p Fo(\))e(can)h(be)g
(used)g(to)f(erase)i(the)f(character)h(preceding)112 2213 y(the)i(cursor)n(.)
21 b(The)12 b(entire)g(string)f(can)h(be)h(deleted)f(by)f(typing)g
Fh("\\)1066 2206 y(^)1066 2213 y(X")p Fo(.)19 b(The)13 b(user)f(can)h
(reposition)d(the)i(cursor)g(by)g(clicking)112 2273 y(the)d(mouse)i(on)f(the)
g(desired)g(character)n(.)16 b(If)10 b(the)g(insertion)e(or)i(deletion)f(of)g
(a)i(character)g(would)e(cause)i(the)f(cursor)g(to)g(mo)o(v)o(e)112
2332 y(of)o(f)f(the)h(windo)o(w)m(,)g(the)g(widget)g(shifts)f(the)h(windo)o
(w')n(s)f(vie)o(w)h(appropriately)m(.)732 2799 y Fj(Dr)o(aft)g(of)f(F)m
(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 34 38
34 37 bop 991 -63 a Fo(34)174 82 y Ff(signature)16 b(STREDIT)h(=)213
128 y(sig)252 219 y(type)h(str_edit)252 310 y(val)h(mkStrEdit)d(:)j(root)f
(->)h({)409 356 y(foregrnd)e(:)i(color)f(option,)409 402 y(backgrnd)f(:)i
(color)f(option,)409 447 y(initval)f(:)i(string,)409 493 y(minlen)e(:)j(int)
370 539 y(})f(->)g(str_edit)252 630 y(val)g(setString)d(:)j(str_edit)e(->)h
(string)g(->)h(unit)252 676 y(val)g(getString)d(:)j(str_edit)e(->)h(string)
252 721 y(val)h(shiftWin)36 b(:)19 b(str_edit)e(->)h(int)h(->)g(unit)252
767 y(val)g(widgetOf)d(:)j(str_edit)e(->)i(widget)213 858 y(end)174
993 y Fo(The)c Fh(mkStrEdit)f Fo(function)f(takes)i(a)h(display)e(root,)h
(optional)e(fore)o(ground)h(and)h(background)f(colors)h(\(black)g(and)112
1053 y(white,)f(by)f(default\),)h(an)g(initial)e(string)g(and)i(a)g(minimum)f
(length.)25 b(Initially)m(,)13 b(the)g(cursor)h(is)f(placed)h(at)g(the)g(end)
f(of)h(the)112 1112 y(string.)174 1193 y(The)i(widget)e(uses)i(the)f(font)f
Fh(9x15)p Fo(.)30 b(The)16 b(natural)f(height)f(of)h(the)g(widget)f(is)h(the)
g(font)g(height,)h(with)e(no)h(v)o(ertical)112 1253 y(shrinking)9
b(or)i(stretching.)19 b(Horizontally)m(,)10 b(the)i(natural)f(size)h
(speci\256es)h(enough)e(space)i(to)e(display)f(all)i(the)f(characters)i(in)
112 1313 y(the)8 b(string)f(or)i Fh(minlen)e Fo(characters,)k(which)d(e)o(v)o
(er)i(is)e(lar)o(ger)n(.)15 b(The)9 b(widget)f(will)f(e)o(xpand)i
(inde\256nitely)m(,)f(b)o(ut)g(will)f(only)h(shrink)112 1372
y(to)k(the)h Fh(minlen)f Fo(minimum.)23 b(Whene)o(v)o(er)14
b(the)f(widget')n(s)f(string)g(goes)h(from)g(\256tting)e(to)i(not)f
(\256tting)g(within)f(the)i(widget')n(s)112 1432 y(windo)o(w)m(,)c(or)h(vice)
h(v)o(ersa,)g(it)f(requests)g(its)g(parent)g(to)g(resize)h(it.)174
1513 y(Note)c(that)g(the)g(widget)f(does)i(not)e(pro)o(vide)h(the)g(user)g
(the)h(ability)d(to)i(mo)o(v)o(e)h(the)f(widget')n(s)f(windo)o(w)h(o)o(v)o
(er)g(the)h(te)o(xt.)14 b(It)6 b(does)112 1572 y(pro)o(vide)11
b(the)h Fh(shiftWin)f Fo(function,)h(which)g(an)g(application)f(can)i(use)g
(to)f(pro)o(vide)f(this)h(interface)g(\(cf.)21 b(the)12 b Fh(FieldEdit)112
1632 y Fo(widget)e(belo)o(w\).)19 b(Using)11 b Fh(shiftWin)20
b(v)11 b Fo(mo)o(v)o(es)i(the)e(widget)g(vie)o(w)g Fh(|v|)h
Fo(characters)g(to)f(the)h(left)f(if)g Fh(v)g Fo(is)h(ne)o(gati)o(v)o(e)g
(and)f(to)112 1692 y(the)f(right)e(if)i Fh(v)g Fo(is)g(positi)o(v)o(e.)174
1773 y(The)h Fh(setString)d Fo(and)j Fh(getString)d Fo(functions)h(allo)o(w)h
(the)g(application)e(to)i(query)g(and)g(set)h(the)f(widget')n(s)f(string.)112
1912 y Fe(3.4.2)50 b(FieldEdit)112 2021 y Fo(The)14 b Fh(FieldEdit)e
Fo(structure)h(pro)o(vides)g(a)h(widget)f(deri)o(v)o(ed)h(from)f(the)h
(string)e(edit)h(widget)g(abo)o(v)o(e.)27 b(The)14 b(interface)g(and)112
2080 y(interaction)d(are)j(almost)g(identical.)23 b(The)14
b(only)e(dif)o(ference)h(is)g(that)g(the)g(\256eld)g(edit)g(widget)f(pro)o
(vides)h(scroll)f(b)o(uttons)g(to)112 2140 y(allo)o(w)c(the)i(user)f(to)g(mo)
o(v)o(e)i(the)e(vie)o(w)h(of)f(the)g(underlying)f(te)o(xt)h(when)g(it)g(does)
h(not)e(all)i(\256t)f(within)e(the)j(windo)o(w)m(.)k(The)c(b)o(uttons)112
2200 y(are)h(only)e(made)i(a)o(v)o(ailable)f(when)h(this)e(situation)f
(arises.)732 2799 y Fj(Dr)o(aft)i(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 35 39
35 38 bop 991 -63 a Fo(35)174 82 y Ff(signature)16 b(FIELD_EDI)o(T)h(=)213
128 y(sig)252 219 y(type)h(field_edit)252 310 y(val)h(mkFieldEd)o(it)d(:)j
(root)f(->)h({)409 356 y(foregrnd)e(:)i(color)f(option,)409
402 y(backgrnd)f(:)i(color)f(option,)409 447 y(initval)f(:)i(string,)409
493 y(minlen)e(:)j(int)370 539 y(})f(->)g(field_edit)252 630
y(val)g(setString)d(:)j(field_edit)d(->)j(string)e(->)i(unit)252
676 y(val)g(getString)d(:)j(field_edit)d(->)j(string)252 721
y(val)g(widgetOf)d(:)j(field_edit)d(->)j(widget)213 813 y(end)112
986 y Fe(3.4.3)50 b(V)n(irtual)12 b(terminal)112 1094 y Fo(The)f(virtual)e
(terminal)h(widget)f(pro)o(vides)h(a)h(simple)g(way)f(to)g(support)f
(traditional)f(IO)j(stream-based)g(applications)1806 1079 y
Fc(1)1822 1094 y Fo(.)16 b(It)10 b(is)112 1154 y(implemented)i(on)g(top)g(of)
h(the)f(te)o(xt)h(widget)e(\(see)j(Section)e(3.4.4\),)i(adding)e(a)h(de)o
(vice)g(dri)o(v)o(er)f(for)g(the)h(ke)o(yboard)f(and)h(the)112
1214 y Fh(instream)p Fo(/)p Fh(outst)o(ream)7 b Fo(interface.)15
b(The)c(structure)f Fh(Vtty)f Fo(has)i(the)f(signature)g Fh(VTTY)p
Fo(:)174 1313 y Ff(signature)16 b(VTTY)i(=)213 1359 y(sig)252
1405 y(structure)e(CIO)j(:)g(CONCUR_IO)252 1496 y(type)f(vtty)252
1587 y(val)h(mkVtty)e(:)i(root)f(->)h({rows)f(:)h(int,)f(cols)g(:)h(int})f
(->)h(vtty)252 1633 y(val)g(openVtty)d(:)j(vtty)g(->)f(\(CIO.instr)o(eam)e(*)
j(CIO.outstr)o(eam)o(\))252 1679 y(val)g(widgetOf)d(:)j(vtty)g(->)f(widget)
213 1770 y(end)g(\(*)h(VTTY)f(*\))112 1884 y Fo(See)9 b(the)f
Fl(CML)h Fo(manual)f(for)g(the)h(details)e(of)i(the)f(operations)f(pro)o
(vided)h(by)g(the)g Fh(CIO)g Fo(structure)g(\([Rep90)o(]\).)14
b(Writing)7 b(on)h(the)112 1943 y Fh(outstream)e Fo(displays)h(te)o(xt)h(in)f
(the)h(windo)o(w)m(.)14 b(User)8 b(input)f(is)g(line-b)o(uf)o(fered:)13
b(it)7 b(is)h(only)e(a)o(v)o(ailable)j(on)e(the)h Fh(instream)e
Fo(after)112 2003 y(the)11 b(user)h(has)h(typed)e(a)i(carriage)f(return)f(\()
p Fh("\\)772 1996 y(^)772 2003 y(M")p Fo(\))g(or)h(ne)o(wline)f(\()p
Fh("\\n")p Fo(\).)20 b(An)11 b(input)g(line)g(can)i(be)f(edited,)g(with)f
(backspace)112 2063 y(\()p Fh("\\)170 2056 y(^)170 2063 y(H")p
Fo(\))e(and)i(delete)g(\()p Fh("\\127")p Fo(\))e(erasing)i(the)g(pre)o
(viously)e(input)g(character)n(.)17 b(T)m(ab)11 b(characters)i(are)e(not)f
(handled)g(correctly)m(,)112 2123 y(nor)f(does)i(the)f Fh(vtty)f
Fo(pro)o(vide)h(a)h(visible)e(cursor)n(.)112 2262 y Fe(3.4.4)50
b(T)-5 b(ext)112 2371 y Fo(The)12 b(te)o(xt)g(widget)g(is)g(a)h(lo)o(w-le)o
(v)o(el)e(widget)g(for)h(managing)g(a)h(windo)o(w)e(of)h(te)o(xt.)21
b(It)12 b(pro)o(vides)f(limited)g(highlighting)o(,)g(and)112
2431 y(a)h(single)g(font;)g(a)h(prototype)e(te)o(xt)h(widget)f(supporting)f
(multipl)h(fontsand)g(color)h(has)h(been)g(implemented,)g(and)f(will)f(be)112
2490 y(included)e(in)h(the)g(ne)o(xt)g(release.)p 112 2518
720 2 v 157 2545 a Fb(1)171 2557 y Fa(Thanks)d(to)i(Thomas)e(Y)m(an)g(for)h
(\256nishing)g(our)f(implementation)g(of)h(this)g(widget.)732
2799 y Fj(Dr)o(aft)i(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 36 40
36 39 bop 991 -63 a Fo(36)174 82 y Ff(signature)16 b(TEXT_WIDG)o(ET)g(=)213
128 y(sig)252 219 y(datatype)h(char_coor)o(d)g(=)i(ChrCrd)e(of)i({col)f(:)h
(int,)f(row)h(:)g(int})252 310 y(type)f(text_widge)o(t)252
402 y(val)h(mkTextWid)o(ge)o(t)e(:)i(root)f(->)h({rows)e(:)j(int,)e(cols)g(:)
h(int})f(->)h(text_widge)o(t)252 493 y(val)g(widgetOf)55 b(:)20
b(text_widg)o(et)c(->)j(widget)252 539 y(val)g(charSizeO)o(f)d(:)k(text_widg)
o(et)c(->)j({rows)f(:)h(int,)f(cols)g(:)h(int})252 584 y(val)g(sizeOf)95
b(:)20 b(text_widg)o(et)c(->)j(size)252 676 y(val)g(ptToCoord)55
b(:)19 b(text_widge)o(t)e(->)h(point)g(->)h(char_coord)252
721 y(val)g(coordToRe)o(ct)d(:)j(text_widge)o(t)e(->)h(char_coord)e(->)j
(rect)252 813 y(val)g(scrollUp)55 b(:)20 b(text_widg)o(et)c(->)j({from)f(:)h
(int,)f(nlines)f(:)i(int})f(->)h(unit)252 858 y(val)g(scrollDow)o(n)d(:)k
(text_widg)o(et)c(->)j({from)f(:)h(int,)f(nlines)f(:)i(int})f(->)h(unit)252
950 y(val)g(writeText)d(:)j(text_widge)o(t)d(->)j({at:)f(char_coord)o(,)f
(text)h(:)h(string})e(->)i(unit)252 995 y(val)g(highlight)o(Te)o(xt)d(:)k
(text_wid)o(get)c(->)j({at:)f(char_coor)o(d,)e(text)i(:)h(string})e(->)i
(unit)252 1087 y(val)g(insertLn)d(:)j(text_widget)d(->)j({lnum)e(:)j(int,)e
(text)g(:)h(string})e(->)i(unit)252 1132 y(val)g(deleteLn)d(:)j(text_widget)d
(->)j(int)f(->)h(unit)252 1178 y(val)g(deleteLns)d(:)j(text_widge)o(t)d(->)j
({lnum)f(:)h(int,)f(nlines)g(:)h(int})f(->)h(unit)252 1269
y(val)g(clearToEO)o(L)d(:)k(text_widg)o(et)c(->)j(char_coor)o(d)e(->)h(unit)
252 1315 y(val)h(clearToEO)o(S)d(:)k(text_widg)o(et)c(->)j(char_coor)o(d)e
(->)h(unit)252 1406 y(val)h(moveCurso)o(r)d(:)k(text_widg)o(et)c(->)j
(char_coor)o(d)e(->)h(unit)252 1452 y(val)h(cursorPos)35 b(:)20
b(text_widg)o(et)c(->)j(char_coor)o(d)252 1498 y(val)g(cursorOn)55
b(:)20 b(text_widg)o(et)c(->)j(unit)252 1543 y(val)g(cursorOff)35
b(:)20 b(text_widg)o(et)c(->)j(unit)213 1635 y(end)f(\(*)h(TEXT_WIDGE)o(T)e
(*\))732 2799 y Fj(Dr)o(aft)10 b(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 37 41
37 40 bop 112 414 a Fi(Chapter)19 b(4)112 643 y Fm(Menus)112
889 y Fo(The)13 b Fl(eXene)g Fo(widgets)f(currently)f(pro)o(vide)h(a)h
(simple)f(form)g(of)g(pop-up)f(menu)i(support)e(in)g(the)i(structure)e
Fh(SimpleMenu)p Fo(.)112 949 y(Figure)g(4.1)h(has)h(the)f(signature)f(of)h
(this)f(structure.)21 b(A)12 b Fh(menu)f Fo(v)o(alue)i(speci\256es)g(the)f
(structure)f(of)h(a)h(menu)f(and)h(the)f(v)o(alue)174 1067
y Ff(signature)k(SIMPLE_ME)o(NU)g(=)213 1113 y(sig)252 1158
y(datatype)h('a)i(menu)f(=)h(MENU)f(of)h('a)g(menu_item)d(list)252
1204 y(and)j('a)g(menu_ite)o(m)291 1250 y(=)h(MenuItem)c(of)j(\(string)e(*)i
('a\))291 1295 y(|)h(Submenu)d(of)h(\(string)f(*)j('a)e(menu\))252
1387 y(val)h(attachMen)o(u)d(:)k(\(widget)d(*)i(mbutton)e(list)h(*)h('1a)f
(menu\))370 1432 y(->)h(\(widget)e(*)i('1a)f(event\))252 1524
y(val)h(attachLab)o(el)o(edM)o(enu)d(:)j(\(widget)e(*)i(mbutton)e(list)h(*)h
(string)f(*)h('1a)f(menu\))370 1569 y(->)h(\(widget)e(*)i('1a)f(event\))252
1661 y(datatype)f(menu_pos)f(=)k(Absolute)c(of)j(point)f(|)h(Item)f(of)h(int)
252 1752 y(datatype)e(where_inf)o(o)g(=)291 1798 y(WI)i(of)370
1843 y(but)f(:)i(mbutton,)370 1889 y(pt)f(:)g(point,)370 1935
y(scr_pt)e(:)i(point,)370 1980 y(time)f(:)h(time)252 2117 y(val)g(buttonMen)o
(u)d(:)k(\(widget)d(*)i(mbutton)e(list)h(*)h('1a)f(menu)h(*)g(\(where_in)o
(fo)d(->)j(menu_pos\))o(\))370 2163 y(->)g(\(widget)e(*)i('1a)f(event\))252
2254 y(val)h(popupMenu)d(:)j(\(root)f(*)h('1a)f(menu)g(*)i(string)d(option\))
370 2300 y(->)i(\(mbutton)d(*)k(menu_pos)c(*)j(point)f(*)h(mouse_msg)d
(addr_msg)h(event\))370 2346 y(->)i('1a)f(option)g(event)213
2437 y(end)795 2570 y Fo(Figure)9 b(4.1:)15 b(Simple)10 b(menus)112
2674 y(associated)j(with)e(each)j(entry)m(.)22 b(The)13 b Fh(Submenu)e
Fo(constructor)g(is)i(used)g(for)f(de\256ning)f(hierarchical)i(menus.)22
b(The)14 b(display)991 2799 y(37)p eop
%%Page: 38 42
38 41 bop 991 -63 a Fo(38)112 82 y(form)11 b(of)g(these)g(menus)h(is)f
(essentially)g(that)g(used)g(by)g Fl(twm)g Fo([)p Fl(?)p Fo(].)18
b(The)12 b(menu)f(remains)h(displayed)f(and)g(acti)o(v)o(e)h(as)g(long)e(as)
112 142 y(some)g(mouse)g(b)o(utton)e(is)i(depressed.)16 b(The)10
b(user')n(s)g(choice)g(corresponds)f(to)g(the)h(item)f(under)h(the)f(mouse)i
(cursor)e(when)h(the)112 202 y(last)g(mouse)g(b)o(utton)f(is)h(released.)174
282 y(Once)j(a)h(menu)f(has)h(been)f(de\256ned,)i(there)e(are)h(v)o(arious)e
(ways)h(it)f(can)i(be)f(used.)24 b(The)14 b(simplest)e(way)h(is)g(to)f
(attach)h(it)112 342 y(to)e(a)h(widget)f(using)g(one)i(of)e(the)h(two)f
(attach)h(functions.)19 b(F)o(or)12 b(menus)h(without)d(labels,)i(use)h
Fh(attachMenu)p Fo(;)d(if)i(a)g(label)g(is)112 402 y(desired,)g(then)f(use)h
Fh(attachLabeledMenu)o Fo(.)17 b(The)12 b(result)f(of)g(attaching)g(a)h(menu)
g(to)f(a)h(widget)f(is)g(a)h(ne)o(w)g(widget)f(and)g(an)112
462 y(e)o(v)o(ent)h(v)o(alue)f(that)g(pro)o(vides)g(the)h(user')n(s)g(menu)g
(choices)g(as)g(a)g(stream)h(of)e Fl(CML)h Fo(e)o(v)o(ents.)20
b(When)12 b(attaching)f(a)h(menu)g(to)f(a)112 521 y(widget,)d(the)g
(programmer)h(speci\256es)h(the)e(mouse)h(b)o(uttons)e(that)h(are)i(to)e(be)h
(used)f(to)g(pop)g(up)h(the)f(menu.)15 b(If)8 b(the)h(user)g(presses)112
581 y(a)k(speci\256ed)g(mouse)g(b)o(utton)e(while)h(the)g(cursor)h(is)f(o)o
(v)o(er)i(the)e(widget)g(to)g(which)g(the)g(menu)h(is)g(attached,)h(then)e
(the)g(menu)112 641 y(will)f(be)i(popped)f(up.)23 b(An)o(y)13
b(other)f(mouse)h(b)o(utton)e(press)i(e)o(v)o(ents,)i(and)e(all)f(other)g
(mouse)i(e)o(v)o(ents,)g(are)g(passed)f(on)g(to)f(the)112 701
y(underlying)7 b(widget.)15 b(If)9 b(the)h(user)g(selects)h(a)f(menu)h(item,)
f(then)f(the)h(associated)h(v)o(alue)e(is)h(reported)g(through)e(the)h(e)o(v)
o(ent.)16 b(If)112 760 y(the)10 b(user)g(does)h(not)e(select)i(an)g(item,)f
(no)g(e)o(v)o(ent)h(is)f(generated.)174 841 y(Figure)g(2.3)g(and)g(the)g
(accompan)o(ying)h(te)o(xt)f(pro)o(vide)g(an)g(e)o(xample)i(of)e(the)g(this)f
(use)i(of)f(menus.)174 922 y(The)h Fh(buttonMenu)e Fo(function)h(is)g(the)h
(same)h(as)g Fh(attachMenu)p Fo(,)d(e)o(xcept)j(it)e(pro)o(vides)g(control)g
(o)o(v)o(er)h(menu)h(placement.)112 981 y(In)e(particular)n(,)g(as)h(its)f
(name)i(suggests,)e Fh(buttonMenu)f Fo(can)i(be)g(used)g(to)f(implement)g
(menu)h(b)o(uttons)e(\(see)i(Section)f(4.0.5\).)112 1041 y(When)k(a)g(mouse)g
(b)o(utton)f(press)h(triggers)f(the)g(display)g(of)h(the)f(menu,)j(the)d
(user)o(-supplied)g(function)g(is)g(in)n(v)o(oked,)h(being)112
1101 y(passed)d(a)h(v)o(alue)f(of)g(type)g Fh(where_info)p
Fo(.)16 b(This)11 b(is)g(essentially)g(the)g(information)e(supplied)h(by)h
(the)g Fh(MOUSE_FirstDown)112 1161 y Fo(e)o(v)o(ent)j(corresponding)e(to)h
(the)h(b)o(utton)e(press.)26 b(The)15 b(function)d(returns)h(a)i(hint)d(as)j
(to)e(where)h(the)g(menu)g(should)f(appear)n(.)112 1220 y(If)e(the)h
(function)f(returns)g Fh(Absolute)20 b Fj(pt)p Fo(,)12 b(the)g(upper)g(left)f
(corner)i(of)e(the)h(menu)g(will)f(be)i(placed)f(at)g Fj(pt)p
Fo(,)g(gi)o(v)o(en)g(in)f(screen)112 1280 y(coordinates.)j(If)c(the)g
(function)e(returns)h Fh(Item)21 b Fj(n)p Fo(,)11 b(the)e(menu)i(will)d(be)j
(positioned)d(so)i(that)f(the)h(mouse)g(cursor)g(is)g(centered)112
1340 y(o)o(v)o(er)i(item)g Fj(n)g Fo(of)f(the)h(menu,)h(inde)o(x)o(ed)f(from)
g(0.)20 b(The)12 b(\256rst)g(form)g(can)g(be)g(used)h(to)e(implement)g(menu)i
(b)o(uttons;)d(the)i(latter)112 1400 y(form)e(can)i(be)f(used)g(to)f
(redisplay)g(a)i(menu)f(with)e(the)i(last)g(selected)g(item)g(chosen)g(by)g
(default.)16 b(The)11 b(code)g(will)f(honor)g(the)112 1460
y(position)e(hint)h(unless)h(it)f(has)i(to)f(shift)f(the)h(menu)h(to)e(make)i
(sure)g(it)e(\256ts)h(on)g(the)g(screen.)174 1540 y(At)d(times,)h(these)g
(high-le)o(v)o(el)e(menu)i(interfaces)g(to)f(not)f(pro)o(vide)h(enough)g
(control.)13 b(F)o(or)7 b(these)h(situations,)f(the)g(structure)112
1600 y(pro)o(vides)13 b(the)g Fh(popupMenu)f Fo(function.)24
b(This)14 b(lo)o(w-le)o(v)o(el)f(routine)f(takes)i(a)g Fh(root)p
Fo(,)g(a)g Fh(menu)f Fo(and)h(an)g(optional)e(string.)24 b(It)112
1660 y(returns)13 b(a)i(function)d(that)i(can)h(be)f(used)h(to)e(acti)o(v)o
(ate)i(a)g(pop-up)d(menu)j(on)f(the)g(gi)o(v)o(en)g(display)m(.)26
b(T)m(o)14 b(use)h(the)f(acti)o(v)o(ation)112 1719 y(function,)i(a)g(thread)g
(waits)f(for)g(some)i(mouse)f(b)o(utton)f(press)h(and)g(then)f(calls)i(the)e
(acti)o(v)o(ation)g(function)f(with)h(a)h(tuple)112 1779 y
Fh(\()p Fj(btn)p Fh(,)k Fj(pos)p Fh(,)h Fj(pt)p Fh(,)g Fj(mouse)p
Fh(\))p Fo(.)16 b(The)11 b Fj(btn)e Fo(ar)o(gument)i(denotes)f(the)g(pressed)
h(mouse)g(b)o(utton.)j(The)e Fj(pos)e Fo(parameter)h(pro)o(vides)112
1839 y(control)e(of)i(menu)h(placement,)g(as)g(described)f(in)g(the)g(pre)o
(vious)f(paragraph.)17 b(The)12 b Fj(pt)f Fo(parameter)h(is)f(the)g(mouse)g
(position,)112 1899 y(in)j(screen)i(coordinates,)g(reported)e(with)g(the)g(b)
o(utton)g(press)h(e)o(v)o(ent.)29 b(Finally)m(,)16 b(the)f
Fj(mouse)g Fo(parameter)g(is)g(the)g(widget')n(s)112 1958 y(mouse)f(e)o(v)o
(ent)g(stream.)27 b(The)14 b(function)f(returns)g(a)h Fl(CML)g
Fo(e)o(v)o(ent.)26 b(The)15 b(menu)f(will)f(be)h(displayed)f(and)h(managed)h
(by)e(a)112 2018 y(separate)f(thread,)g(getting)e(its)h(input)f(from)i(the)f
(mouse)h(e)o(v)o(ent)g(stream.)20 b(The)12 b(protocol)e(requires)i(that)f
(the)g(calling)g(thread)112 2078 y(does)f(not)f(read)i(e)o(v)o(ents)g(from)f
(that)g(stream)h(until)d(it)i(is)g(noti\256ed,)f(through)g(synchronization)g
(on)g(the)i(menu)f(e)o(v)o(ent,)h(that)f(the)112 2138 y(menu)g(thread)g(is)h
(done.)k(If)10 b(the)g(user)h(did)f(not)f(make)i(a)g(choice,)g(the)g(e)o(v)o
(ent)f(will)f(e)o(v)o(aluate)i(to)f Fh(NONE)p Fo(.)g(Otherwise,)g(the)h(v)o
(alue)112 2198 y(associated)g(with)e(the)h(chosen)g(menu)h(item)f(will)f(be)i
(supplied.)112 2337 y Fe(4.0.5)50 b(Menu)12 b(b)o(utton)112
2446 y Fo(A)f(menu)g(b)o(utton)f(is)g(a)i(te)o(xt)f(b)o(utton)e(with)h(a)i
(menu)f(attached.)18 b(When)12 b(the)f(user)g(presses)h(an)o(y)g(mouse)f(b)o
(utton)f(on)g(the)h(menu)112 2505 y(b)o(utton,)e(the)h(menu)g(is)g(displayed)
g(as)h(a)g(pull-do)o(wn)d(menu.)15 b(The)o(y)c(can)g(be)g(combined)f(to)g
(form)g(menu)g(bars.)732 2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i(15,)g(1993)e
(17:53)p eop
%%Page: 39 43
39 42 bop 991 -63 a Fo(39)174 82 y Ff(signature)16 b(MENU_BUTT)o(ON)g(=)213
128 y(sig)252 174 y(structure)g(Menu)i(:)i(SIMPLE_ME)o(NU)252
265 y(val)f(mkMenuBut)o(to)o(n)e(:)i(root)f(->)h(\(string)e(*)i('1a)f
(Menu.menu\))370 310 y(->)h(\(widget)e(*)i('1a)f(event\))213
402 y(end)112 516 y Fo(The)11 b Fh(mkMenuButton)e Fo(function)g(takes)i(a)h
Fh(root)p Fo(,)e(and)h(a)h(label)f(and)g(a)g(menu,)h(and)f(returns)f(a)i
(widget)e(plus)g(an)h(e)o(v)o(ent.)18 b(The)112 575 y(widget)8
b(appears)j(as)f(a)g(plain)e(rectangular)i(te)o(xt)f(b)o(utton,)g(using)f
(the)h(supplied)g(label.)15 b(If)9 b(the)g(user)h(makes)g(a)g(selection)g
(using)112 635 y(the)g(menu,)h(the)f(selection)g(is)g(reported)f(through)g
(the)h(e)o(v)o(ent)h(v)o(alue.)732 2799 y Fj(Dr)o(aft)f(of)f(F)m(ebruary)i
(15,)g(1993)e(17:53)p eop
%%Page: 40 44
40 43 bop 112 414 a Fi(Chapter)19 b(5)112 643 y Fm(W)n(idget)24
b(Inter)n(nals)112 889 y Fo(W)m(e)14 b(no)o(w)g(turn)f(to)h(the)g(internal)f
(widget)g(structure)g(and)i(the)f(lo)o(w-le)o(v)o(el)f(details)h(of)f(b)o
(uilding)f(a)j(widget.)26 b(The)15 b(creation)112 949 y(of)e(a)i
Fh(widget)e Fo(v)o(alue)h(is)g(usually)f(a)h(simple)g(af)o(fair)n(,)h(in)n(v)
o(olving)d(some)j(initial)d(parameter)j(computation,)f(the)g(allocation)112
1009 y(of)d(certain)g(resources)i(such)e(as)i(fonts,)e(colors)g(and)h
(pixmaps,)g(and)f(perhaps)h(the)f(spa)o(wning)g(of)h(a)g(thread)f(to)g
(encapsulate)112 1068 y(mutable)f(widget)g(data.)18 b(No)11
b Fl(eXene)h Fo(windo)o(ws)e(are)i(created)g(at)f(this)f(stage.)18
b(The)11 b(widget)f(v)o(alue)h(returned)g(by)f Fh(mkWidget)112
1128 y Fo(encapsulates)g(the)f(associated)i Fh(root)d Fo(v)o(alue,)i(a)h
Fh(boundsOf)d Fo(function)g(and)h(a)h Fh(realize)e Fo(function)g(\(see)j
(Section)e(2.3\).)15 b(The)112 1188 y(semantics)f(of)g(the)g
Fh(boundsOf)e Fo(function)g(were)j(described)f(abo)o(v)o(e.)27
b(Here)15 b(we)f(discuss)g(what)g(should)e(happen)i(when)g(a)112
1248 y(widget')n(s)9 b Fh(realize)g Fo(function)f(is)i(called.)174
1328 y(First,)h(we)h(note)f(that)g(in)f(the)h Fl(eXene)i Fo(widget)e(library)
m(,)g(the)g(parent)g(widget)g(controls)f(the)h(child')n(s)f(windo)o(w)g
(resources.)112 1388 y(The)h(parent)f(allocates)h(the)f(child')n(s)g(windo)o
(w;)f(it)g(positions)g(the)h(windo)o(w;)f(it)h(changes)h(its)f(size;)h(it)f
(deletes)h(it.)k(If)10 b(the)g(child)112 1448 y(needs)k(an)o(y)g(of)g(these)g
(actions)f(performed,)i(then)f(it)f(asks)h(the)f(parent)h(to)f(perform)h(the)
f(action.)26 b(A)14 b(child)e(should)h(ne)o(v)o(er)112 1508
y(directly)c(alter)h(the)g(e)o(xternal)g(con\256guration)f(of)h(its)g(windo)o
(w;)e(it)i(should)f(only)g(deal)i(with)e(what)h(is)g(inside)g(its)f(windo)o
(w)m(.)174 1588 y(The)k(parent)g(widget)f(in)n(v)o(okes)g(the)h(child')n(s)f
Fh(realize)f Fo(function,)i(passing)f(in)g(three)h(ar)o(guments.)24
b(One)13 b(ar)o(gument)g(is)112 1648 y(the)g(input)g(en)n(vironment.)25
b(This)14 b(is)g(the)g(v)o(alue)g(through)e(which)h(the)h(child)f(recei)o(v)o
(es)j(all)d(of)h(its)f(input)f(and)i(by)g(which)f(it)112 1708
y(communicates)j(with)e(its)g(parent.)30 b(This)15 b(will)f(be)h(discussed)g
(in)g(detail)f(belo)o(w)m(.)30 b(The)16 b(remaining)e(ar)o(guments)i(are)g
(the)112 1768 y(child')n(s)9 b(windo)o(w)g(and)i(its)f(size.)16
b(The)11 b(windo)o(w')n(s)e(origin)g(and)i(size)g(are)g(presumably)f(set)h
(by)f(the)h(parent)f(using)f(the)i(child')n(s)112 1827 y Fh(boundsOf)c
Fo(function.)14 b(This)9 b(windo)o(w)f(is)h(the)h(child')n(s)e(can)n(v)o(as.)
16 b(It)9 b(can)h(dra)o(w)g(on)f(the)g(windo)o(w)f(using)h(an)o(y)h(of)f(the)
g(functions)112 1887 y(supplied)g(in)g(the)h Fh(Draw)g Fo(structure)g(in)f
(the)h(base)h(library)m(.)k(The)c(size)g(is)f(supplied)f(for)h(con)n(v)o
(enience.)174 1968 y(A)15 b(widget')n(s)e Fh(realize)g Fo(function)g(must)i
(do)f(the)h(follo)o(wing:)20 b(con\256gure)15 b(itself)f(corresponding)f(to)h
(the)h(gi)o(v)o(en)f(size)112 2027 y(and)f(spa)o(wn)g(the)g(necessary)h
(threads)f(to)f(handle)h(graphics)g(operations)f(and)h(e)o(v)o(ents)g(on)g
(its)f(input)g(en)n(vironment.)22 b(If)13 b(the)112 2087 y(widget)7
b(is)h(a)g(composite)g(widget,)g(then)g(the)g Fh(realize)f
Fo(function)f(must)i(also)g(layout)f(its)h(children,)g(allocate)g(their)f
(windo)o(ws,)112 2147 y(arrange)k(to)f(handle)h(input)e(to)h(and)h(from)g
(the)f(children,)h(and)g(recursi)o(v)o(ely)f(call)h(their)f
Fh(realize)g Fo(functions.)15 b(A)c(composite)112 2207 y(widget)e(is)h(also)g
(responsible)g(for)g(mapping)f(its)h(children')n(s)f(windo)o(ws)g(\(using)h
(the)g Fl(eXene)i Fo(function)c Fh(mapWin)p Fo(\).)14 b(A)d(simple)112
2266 y(widget)e(should)g(not)g(map)i(or)f(unmap)h(itself.)174
2347 y(All)e(windo)o(w)g(system)h(e)o(v)o(ents)g(come)h(to)e(a)i(windo)o(w)e
(through)f(its)h(input)f(en)n(vironment.)15 b(This)9 b(en)n(vironment)h(is)f
(de\256ned)112 2407 y(in)g(the)h Fh(WindowEnv)f Fo(structure.)991
2799 y(40)p eop
%%Page: 41 45
41 44 bop 991 -63 a Fo(41)174 82 y Ff(datatype)16 b(in_env)i(=)h(InEnv)f(of)g
({)252 128 y(m)h(:)h(mouse_msg)c(addr_msg)g(event,)252 174
y(k)j(:)h(kbd_msg)d(addr_msg)f(event,)252 219 y(ci)j(:)g(cmd_in)f(addr_msg)e
(event,)252 265 y(co)j(:)g(cmd_out)e(->)i(unit)f(event)213
310 y(})112 417 y Fo(It)13 b(is)g(assumed)i(that)e(a)i(widget)d(will)h(spa)o
(wn)h(one)g(or)f(more)i(threads)e(to)h(be)g(able)g(to)f(synchronize)g(on)h
(the)f Fh(m)p Fo(,)i Fh(k)p Fo(,)g(and)f Fh(ci)112 477 y Fo(e)o(v)o(ents)c
(immediately)m(.)15 b(The)10 b Fh(addr_msg)e Fo(implicitly)f(contains)i(a)i
(windo)o(w)d(path)h(that)g(speci\256es)i(the)e(tar)o(get)h(windo)o(w)e(of)i
(the)112 537 y(accompan)o(ying)i(v)o(alue.)22 b(This)12 b(path)g(is)g(only)f
(of)h(concern)h(to)e(composite)i(widgets,)f(and)g(will)f(be)i(discussed)f
(belo)o(w)m(.)21 b(F)o(or)112 597 y(no)o(w)m(,)11 b(we)g(assume)h(that)e(a)h
(widget)f(has)h(recei)o(v)o(ed)h(an)e(e)o(v)o(ent)h(tar)o(geted)g(for)f(it)g
(and)h(has)g(stripped)f(of)o(f)g(the)g(windo)o(w)g(path)g(part)112
657 y(\(using)f(the)h Fl(eXene)i Fo(function)c Fh(msgBodyOf)p
Fo(\))h(and)h(is)g(left)g(with)f(the)h(base)h(v)o(alue.)112
816 y Fg(5.1)57 b(K)o(eyboard)15 b(and)g(Mouse)f(Ev)o(ents)112
939 y Fo(K)o(e)o(yboard)d(e)o(v)o(ents)h(are)g(reported)f(as)h(either)f(ke)o
(y)g(presses)i(or)e(ke)o(y)g(releases.)20 b(The)12 b(related)f(v)o(alues)h
(specify)f(an)h Fl(X)f Fo(ke)o(ysym)112 999 y(v)o(alue)i(and)g(the)g(state)g
(of)g(the)g(modi\256er)g(ke)o(ys.)25 b(K)o(e)o(ysyms)14 b(can)g(be)f
(translated)g(into)f(strings)g(using)g(functions)g(related)h(to)112
1059 y(the)f Fh(translation)f Fo(type)h(of)h(the)g(base)g(library)m(.)22
b(Mouse)13 b(e)o(v)o(ents)h(correspond)e(to)g(mouse)i(motion,)e(b)o(utton)g
(presses)i(and)112 1119 y(releases,)i(and)e(windo)o(w)f(enter)h(and)g(lea)o
(v)o(e)h(e)o(v)o(ents.)27 b(Note)14 b(that)f(when)h(a)g(windo)o(w)f(recei)o
(v)o(es)j(a)e(mouse)g(b)o(utton)f(press,)i(it)112 1179 y(is)e(guaranteed)h
(to)f(recei)o(v)o(e)i(all)f(mouse)g(e)o(v)o(ents)g(on)g(its)f(mouse)h(stream)
h(until)d(all)h(mouse)i(b)o(uttons)d(ha)o(v)o(e)j(been)f(released.)112
1238 y(This)f(corresponds)g(to)f(an)i Fj(active)f(gr)o(ab)h
Fo(in)e Fl(X)i Fo(terminology)d(\(cf.)25 b Fj(The)13 b(eXene)i(Libr)o(ary)f
(Manual)d Fo(and)j([Nye90)o(]\).)24 b(Also)112 1298 y(note)11
b(that)g(the)g(\256rst)g(mouse)h(b)o(utton)e(e)o(v)o(ent)i(a)g(widget)e
(recei)o(v)o(es)j(is)f(a)g Fh(MOUSE_FirstDown)c Fo(e)o(v)o(ent,)13
b(and)e(the)h(last)f(will)f(be)i(a)112 1358 y Fh(MOUSE_LastUp)c
Fo(e)o(v)o(ent.)16 b(K)o(e)o(yboard)10 b(and)h(mouse)g(e)o(v)o(ents)g(also)f
(pro)o(vide)g(a)h(synchronization)d(v)o(alue)j(that)f(can)h(be)f(used)h(by)
112 1418 y(composite)f(widgets)f(to)h(coordinate)f(e)o(v)o(ent)i(routing)d
(with)h(windo)o(w)h(changes.)112 1577 y Fg(5.2)57 b(Contr)o(ol)15
b(Ev)o(ents)112 1700 y Fo(The)d(e)o(v)o(ents)g(recei)o(v)o(ed)h(via)e(the)h
Fh(ci)f Fo(e)o(v)o(ent)h(correspond)f(to)g(windo)o(w)g(system)h(e)o(v)o(ents)
g(not)f(directly)f(related)i(to)f(user)h(input.)112 1760 y(A)e(widget)f
(should)g(act)i(as)g(follo)o(ws)e(upon)g(one)i(of)f(these)g(e)o(v)o(ents.)174
1867 y Fn(\017)20 b Fo(A)9 b Fh(CI_Redraw)d Fo(message)k(corresponds)e(to)g
(an)h Fl(X)f Fh(Expose)f Fo(e)o(v)o(ent,)j(informing)c(the)i(widget)g(that)f
(part)h(of)g(its)g(windo)o(w)215 1927 y(has)13 b(been)g(corrupted)f(and)g(it)
g(should)f(redra)o(w)j(those)e(parts.)21 b(The)14 b(e)o(v)o(ent)e(pro)o
(vides)g(the)h(list)e(of)h(rectangles,)i(in)e(the)215 1987
y(windo)o(w')n(s)c(coordinate)g(system,)i(that)f(should)f(be)h(redra)o(wn.)15
b(It)9 b(is)g(always)f(safe,)j(though)c(not)i(necessarily)g(ef)o(\256cient,)
215 2047 y(to)h(redra)o(w)h(the)f(entire)g(windo)o(w)m(.)174
2136 y Fn(\017)20 b Fo(A)14 b Fh(CI_Resize)e Fo(message)k(corresponds)e(to)f
(a)h(noti\256cation)f(that)g(the)h(widget')n(s)e(windo)o(w)h(has)h(changed)h
(size)f(\(or)215 2196 y(position\).)f(The)c(rectangle)g(parameter)h
(speci\256es)g(its)e(ne)o(w)h(size)g(and)g(its)f(origin)f(in)h(its)g(parent')
n(s)h(coordinate)f(system.)215 2256 y(The)g(actual)g(resizing)f(of)g(the)g
(windo)o(w)f(was)i(performed)g(by)f(the)g(parent.)14 b(On)7
b(recei)o(ving)g(this)g(e)o(v)o(ent,)h(a)g(widget)f(should)215
2315 y(recon\256gure)14 b(itself,)g(recomputing)f(whate)o(v)o(er)h(windo)o(w)
e(size)j(dependent)e(parameters)i(it)e(uses.)25 b(In)14 b(particular)n(,)g(a)
215 2375 y(composite)i(widget)f(should)f(recompute)i(the)g(layout)e(of)i(its)
f(children)f(and,)k(if)d(necessary)m(,)k(call)d(the)g Fh(moveWin)p
Fo(,)215 2435 y Fh(resizeWin)9 b Fo(or)g Fh(moveAndResizeWin)e
Fo(to)i(reposition)f(them.)16 b(The)10 b(corresponding)f Fh(CI_Resize)f
Fo(messages)k(will)215 2495 y(be)c(automatically)e(generated)i(by)f(the)g
(system)h(and)g(deli)o(v)o(ered)f(to)g(the)g(child)g(through)e(its)i(input)f
(en)n(vironment.)13 b(Upon)215 2555 y(recei)o(ving)f(a)h Fh(CI_Resize)d
Fo(e)o(v)o(ent,)j(a)g(widget)e(should)g(not)h(automatically)f(redra)o(w)i
(itself.)20 b(If)12 b(this)f(is)h(necessary)m(,)i(it)215 2614
y(will)f(recei)o(v)o(e)i(a)f Fh(CI_Redraw)e Fo(e)o(v)o(ent.)27
b(Note)13 b(that)h(a)g(widget)f(is)h(informed)f(of)g(its)g(initial)f(windo)o
(w)h(size)h(when)g(its)215 2674 y Fh(realize)9 b Fo(function)g(is)h(called.)
732 2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p
eop
%%Page: 42 46
42 45 bop 991 -63 a Fo(42)174 82 y Fn(\017)20 b Fo(A)11 b Fh(CI_OwnDeath)d
Fo(tells)i(a)h(widget)f(that)f(its)h(windo)o(w)g(has)g(been)h(destroyed.)k
(At)10 b(this)g(point,)f(it)h(should)f(cease)k(from)215 142
y(performing)d(an)o(y)h(further)f(output)f(to)h(its)g(windo)o(w)m(.)16
b Fl(N.B.)11 b Fo(It)f(must)h(still)e(service)i(its)f(mouse)i(and)e(ke)o
(yboard)h(e)o(v)o(ents,)215 202 y(as)f(these)g(e)o(v)o(ents)g(may)g(still)e
(be)i(queued)f(some)o(where)i(in)d(the)i(hierarchy)m(.)15 b(One)9
b(approach)h(is)f(to)g(attach)h(null)e(loops)g(to)215 262 y(these)j(e)o(v)o
(ents.)174 354 y Fn(\017)20 b Fo(The)13 b Fh(CI_ChildBirth)d
Fo(and)i Fh(CI_ChildDeath)e Fo(e)o(v)o(ents)j(are)g(used)g(by)e(composite)i
(widgets)e(to)h(synchronize)g(the)215 414 y(routing)d(of)h(input.)174
528 y(A)15 b(widget)g(may)h(require)f(certain)h(services)g(of)f(its)g
(parent.)31 b(That)16 b(is)f(the)g(purpose)g(of)h(the)f Fh(co)g
Fo(\256eld)h(of)f(the)g(input)112 588 y(en)n(vironment.)21
b(A)12 b Fh(CO_ResizeReq)e Fo(message)k(passed)f(to)f(its)g(parent)g(informs)
g(the)g(parent)h(that)e(the)i(child')n(s)e(size)i(needs)112
648 y(ha)o(v)o(e)g(changed.)23 b(The)14 b(parent)e(should)g(call)h(the)f
(widget')n(s)g Fh(boundsOf)f Fo(function)g(to)h(determine)h(these)g(needs)g
(and)g(try)f(to)112 707 y(meet)e(them)f(by)g(repositioning)d(the)j(child')n
(s)f(windo)o(w)m(.)14 b(The)c(parent)f(is)g(not)g(obligated)e(to)i(meet)h
(these)g(needs,)g(and)f(the)g(child)112 767 y(cannot)f(assume)i(an)o(ything)e
(has)h(changed)g(until)e(it)h(recei)o(v)o(es)i(a)g Fh(CI_Resize)d
Fo(e)o(v)o(ent.)15 b(The)9 b Fh(CO_KillReq)e Fo(message)j(informs)112
827 y(the)j(parent)h(that)f(the)h(child)f(wishes)h(its)f(windo)o(w)g
(destroyed.)25 b(The)15 b(parent)e(should)g(attempt)h(to)f(perform)h(this)f
(service,)112 887 y(using)c(the)h Fh(destroyWin)e Fo(command.)16
b(It)10 b(will)f(be)h(informed)g(of)g(the)g(loss)g(of)f(its)h(windo)o(w)f
(via)h(a)h Fh(CI_OwnDeath)d Fo(message)112 946 y(\(see)j(the)f(item)g(on)g
(handling)f(the)h Fh(CI_OwnDeath)e Fo(message)k(abo)o(v)o(e\).)112
1107 y Fg(5.3)57 b(Composite)16 b(W)o(idgets)112 1231 y Fo(A)g(composite)h
(widget,)h(containing)d(one)i(or)f(more)i(child)e(widgets,)i(must)e(handle)h
(its)f(o)o(wn)h(input)e(en)n(vironment,)j(as)112 1291 y(described)11
b(abo)o(v)o(e,)i(as)f(well)f(as)h(manage)h(its)e(children.)17
b(This)12 b(in)n(v)o(olv)o(es)f(se)o(v)o(eral)h(tasks.)19 b(One)11
b(task)h(is)f(the)g(layout)f(of)h(child)112 1350 y(widgets)e(within)f(its)h
(windo)o(w)m(.)14 b(Another)9 b(task)h(is)f(creating)h(a)g(child')n(s)f
(windo)o(w)g(and)h(input)e(en)n(vironment,)i(By)f(con)n(v)o(ention,)112
1410 y(widget)g(windo)o(ws)g(in)h Fl(eXene)i Fo(do)e(not)f(e)o(xplicitly)g
(use)i(the)f(border)g(or)g(background)f(property)g(of)h(windo)o(ws)g(in)f
Fl(X)p Fo(,)i(b)o(ut)f(rely)112 1470 y(on)i(wrapper)g(widgets)g(\(e.g.,)i
Fh(frame)e Fo(and)g Fh(background)p Fo(\))e(to)i(supply)f(these)i(ef)o
(fects.)23 b(W)m(e)13 b(adopted)f(this)f(con)n(v)o(ention)h(as)112
1530 y(being)c(cleaner)i(and)f(more)h(consistent,)e(and)h(in)g(order)g(to)f
(better)h(di)o(v)o(orce)g(the)g(widget)f(le)o(v)o(el)h(from)g(the)g
(speci\256c)h Fl(X)f Fo(graphics)112 1589 y(model.)14 b(The)d(utility)c
(function)h Fh(wrapCreate)g Fo(conforms)h(to)g(this)g(con)n(v)o(ention,)h
(and)g(the)f(writer)g(of)g(composite)h(widgets)f(is)112 1649
y(encouraged)i(to)f(use)h(this)f(function)f(to)h(create)i(child)e(windo)o
(ws.)16 b(The)11 b Fh(createWinEnv)e Fo(function)g(from)i(the)f(base)i
(library)112 1709 y(can)h(be)h(used)f(to)f(create)i(the)f(necessary)i(input)c
(en)n(vironment.)23 b(Additional)11 b(tasks)i(require)f(calling)h(a)g(child')
n(s)f Fh(realize)112 1769 y Fo(function)c(with)h(its)h(windo)o(w)f(and)h(en)n
(vironment,)g(and)h(mapping)e(the)h(child')n(s)g(windo)o(w)m(.)174
1849 y(A)d(further)f(task)g(concerns)i(servicing)e(requests)h(from)g(a)g
(child.)13 b(F)o(or)7 b(each)h(child)e(and)h(its)g(input)e(en)n(vironment,)i
(the)g(parent)112 1909 y(widget)g(maintains)h(the)g(corresponding)e(output)h
(en)n(vironment.)14 b(Upon)7 b(recei)o(ving)h(a)h Fh(CO_ResizeReq)d
Fo(or)h(a)i Fh(CO_KillReq)p Fo(,)112 1969 y(the)g(composite)g(widget)f
(should)g(attempt)h(to)g(handle)g(this)f(as)i(described)g(abo)o(v)o(e.)16
b(Note)9 b(that)g(a)g(parent)h(widget)e(can)i(attempt)112 2029
y(to)h(resize)i(the)f(child)g(within)e(the)i(parent')n(s)g(current)g(bounds,)
g(or)g(has)h(the)f(opportunity)d(of)j(percolating)f(a)h(resize)i(request)112
2088 y(further)9 b(up)h(the)g(hierarchy)m(.)174 2169 y(W)m(e)k(also)g
(emphasize)h(the)f(possibility)c(of)k(deadlock)g(implicit)e(in)h(the)h
(two-way)e(protocols)g(between)j(a)f(composite)112 2229 y(widget)9
b(and)h(its)g(children.)k(F)o(or)d(e)o(xample,)h(a)e(composite)g(widget)g
(might)f(be)i(in)e(the)h(process)h(of)f(positioning)d(its)j(children,)112
2288 y(during)15 b(which)i(it)f(calls)h(a)h(child')n(s)e Fh(boundsOf)g
Fo(function.)34 b(Meanwhile,)19 b(because)g(of)d(user)i(input,)f(the)g(child)
g(might)112 2348 y(be)g(sending)f(a)i(resize)f(request)g(to)g(its)f(parent,)j
(with)d(deadlock)h(possibly)e(ensuing.)35 b(Because)18 b(of)f(the)g
(synchronous)112 2408 y(communication)f(and)h(hierarchical)f(distrib)o(ution)
e(of)j(e)o(v)o(ents)g(used)g(in)f Fl(eXene)p Fo(,)k(this)c(local)h(deadlock)g
(could)f(quickly)112 2468 y(disseminate)11 b(throughout)e(an)j(application.)
19 b(It)11 b(is)g(the)h(responsibility)d(of)i(the)h(programmer)g
(implementing)e(a)i(widget)f(to)112 2528 y(code)e(against)f(such)h
(possibilities.)j(In)d(the)g(speci\256c)g(case)i(of)d(child-to-parent)f
(communication)h(using)g(control)f(messages,)112 2587 y(we)12
b(assume)i(the)d(additional)g(speci\256cation)h(that)f(it)h(is)f(the)h
(parent')n(s)g(responsibility)d(to)j(always)f(be)i(recepti)o(v)o(e)f(to)g
(control)112 2647 y(messages)17 b(from)e(its)f(children.)30
b(The)16 b Fh(Widget)e Fo(structure)g(pro)o(vides)h(the)g(function)f
Fh(wrapQueue)f Fo(that)i(wraps)h(a)f(queue)732 2799 y Fj(Dr)o(aft)10
b(of)f(F)m(ebruary)i(15,)g(1993)e(17:53)p eop
%%Page: 43 47
43 46 bop 991 -63 a Fo(43)112 82 y(around)10 b(a)i Fl(CML)f
Fo(e)o(v)o(ent.)19 b(This)11 b(can)h(be)g(used)f(to)g(safely)g(queue)h(child)
e(requests)i(on)f(the)g Fh(co)g Fo(e)o(v)o(ent)g(if)g(other)g(processing)g
(is)112 142 y(going)d(on.)174 222 y(The)k(\256nal)f(task)h(of)f(a)h
(composite)f(widget)f(is)h(handling)f(the)h(routing)f(of)h(all)g(e)o(v)o
(ents)h(to)f(widgets)f(in)h(its)g(subtree.)19 b(Each)112 282
y(e)o(v)o(ent)11 b(coming)g(through)f(its)g(input)g(en)n(vironment)h(may)h
(be)f(tar)o(geted)h(for)f(the)g(composite)g(widget)f(or)h(one)h(of)f(its)f
(children)112 342 y(or)15 b(their)g(children.)30 b(Each)17
b(input)d(e)o(v)o(ent)i(is)g(implicitly)d(tagged)j(with)e(a)j(routing)c(path)
j(to)f(the)g(correct)h(windo)o(w)m(.)31 b(The)112 402 y Fh(Interact)10
b Fo(structure)h(pro)o(vides)g(v)o(arious)g(functions)f(with)h(which)g(a)h
(widget)f(can)h(determine)g(if)f(a)h(message)i(is)d(for)g(itself)112
462 y(or)g(one)h(of)g(its)g(children.)19 b(If)12 b(the)g(message)i(is)e(tar)o
(geted)g(for)f(a)i(child,)f(the)g(message)i(must)e(be)g(distrib)o(uted)e(to)h
(that)h(child')n(s)112 521 y(input)c(en)n(vironment.)174 602
y(The)h Fl(eXene)h Fo(widget)e(library')n(s)f Fh(Router)g Fo(structure)h(pro)
o(vides)g(functions)f(that)h(can)h(handle)f(typical)g(routing)f(scenarios.)
174 702 y Ff(signature)16 b(ROUTER)h(=)213 747 y(sig)252 839
y(structure)f(EXB)j(:)g(EXENE_BASE)252 884 y(structure)d(Interact)h(:)i
(INTERACT)252 975 y(exception)d(NotFound)252 1067 y(type)i(router)252
1158 y(val)h(mkRouter)d(:)j(Interact.in)o(_e)o(nv)d(*)j(Interact.ou)o(t_)o
(env)d(*)291 1204 y(\(EXB.window)g(*)j(Interact.o)o(ut)o(_en)o(v\))d(list)i
(->)h(router)252 1295 y(val)g(addChild)d(:)j(router)f(->)h(EXB.wind)o(ow)d(*)
k(Interact)o(.ou)o(t_e)o(nv)c(->)j(unit)252 1341 y(val)g(delChild)d(:)j
(router)f(->)h(EXB.wind)o(ow)d(->)j(unit)252 1386 y(val)g(getChildE)o(nv)d(:)
j(router)f(->)g(EXB.window)e(->)j(Interact.o)o(ut)o(_en)o(v)252
1478 y(val)g(routePair)d(:)j(Interact.i)o(n_)o(env)d(*)j(Interact.o)o(ut)o
(_en)o(v)e(*)i(Interact.)o(out)o(_e)o(nv)d(->)j(unit)213 1523
y(end)112 1637 y Fo(At)9 b(realization)h(time,)g(a)h(composite)f(widget)f
(can)i(create)h(a)e(router)g(using)f(the)h Fh(mkRouter)f Fo(function,)g
(passing)h(it)f(the)h(input)112 1697 y(en)n(vironment)i(that)g(it)g(recei)o
(v)o(ed)h(via)g(the)g(in)n(v)o(ocation)e(of)i(its)f Fh(realize)f
Fo(function.)21 b(In)13 b(addition,)e(the)i(composite)g(widget)112
1757 y(should)7 b(create)i(an)g(ne)o(w)g(input/outp)o(ut)c(en)n(vironment)j
(pair)n(,)h(and)g(pass)g(the)f(output)e(component)i(as)i(the)e(second)h(ar)o
(gument)f(to)112 1817 y Fh(mkRouter)p Fo(.)k(The)d(widget)e(will)g(then)g
(recei)o(v)o(e)i(its)f(input)e(from)i(the)g(corresponding)e(input)g
(component)i(of)g(the)f(en)n(vironment)112 1876 y(pair)n(.)14
b(In)9 b(addition,)f(for)h(each)i(child)d(widget,)h(the)g(composite)h(widget)
e(should)g(create)j(an)f(input/outp)o(ut)c(en)n(vironment)j(pair)n(.)112
1936 y(The)h(input)f(en)n(vironment)g(should)g(be)i(handed)f(to)f(the)h
(child)g(through)e(its)h Fh(realize)g Fo(function.)14 b(The)d(child')n(s)e
(windo)o(w)g(and)112 1996 y(output)h(en)n(vironment)h(are)i(re)o(gistered)f
(with)g(the)g(router)n(.)19 b(If)12 b(desired,)h(a)g(list)e(of)h(these)g
(pairs)g(can)h(be)f(passed)h(as)g(the)f(third)112 2056 y(ar)o(gument)e(in)g
(creating)g(the)g(router)n(.)k(Alternati)o(v)o(ely)m(,)c(these)h(pairs)f(can)
h(be)f(incrementally)g(inserted)g(and)g(deleted)h(from)f(the)112
2115 y(router)g(using)g Fh(addChild)f Fo(and)i Fh(delChild)p
Fo(,)f(respecti)o(v)o(ely)m(.)17 b(The)12 b Fh(getChildEnv)d
Fo(returns)h(the)h(output)e(en)n(vironment)h(that)112 2175
y(was)e(re)o(gistered)g(with)f(the)h(gi)o(v)o(en)g(windo)o(w)m(.)14
b(The)9 b(e)o(xception)f Fh(NotFound)e Fo(is)i(raised)h(if)e(no)h(such)h(en)n
(vironment)e(is)h(re)o(gistered.)174 2256 y(F)o(or)j(composite)g(widget')n(s)
f(with)h(a)g(single)g(child,)g(the)g Fh(Router)f Fo(module)h(pro)o(vides)g
(the)g Fh(routePair)f Fo(function.)17 b(This)112 2315 y(creates)12
b(a)h(router)d(that)h(takes)h(the)f(composite)h(widget')n(s)e(initial)g
(input)g(en)n(vironment,)h(the)h(ne)o(w)f(output)f(en)n(vironment)h(for)112
2375 y(the)f(composite)g(widget)f(and)h(the)g(output)f(en)n(vironment)g(for)h
(the)g(child)g(widget.)174 2456 y(W)n(ith)j(either)h(of)f(these)i(routers,)f
(all)g(e)o(v)o(ents)g(for)g(children)f(will)f(be)i(automatically)f(routed)g
(to)h(them.)26 b(Only)13 b(e)o(v)o(ents)112 2516 y(tar)o(geted)d
(speci\256cally)g(to)f(the)h(composite)g(widget)f(will)g(be)h(recei)o(v)o(ed)
h(through)d(its)h(ne)o(w)i(input)d(en)n(vironment.)15 b(W)m(e)10
b(remark)112 2575 y(that)f(this)h(routing)e(scheme)k(is)e(tentati)o(v)o(e,)g
(and)g(may)h(be)g(replaced)g(by)e(more)i(appropriate)f(mechanisms)h(in)f
(later)g(releases.)174 2656 y(The)h(follo)o(wing)d(schema)k(illustrates)d
(the)i(routing)d(technique)i(described)h(abo)o(v)o(e,)h(plus)e(a)h(mechanism)
h(for)e(allocating)732 2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i(15,)g(1993)e
(17:53)p eop
%%Page: 44 48
44 47 bop 991 -63 a Fo(44)112 82 y(child)9 b(windo)o(ws)g(and)h
(instantiating)e(child)i(widgets.)174 182 y Ff(fun)18 b(realize)f({env,)h
(win,)g(sz})g(=)i(let)291 227 y(val)f(\(myInEnv,)d(myOutEnv\))g(=)j
(createWinEn)o(v)d(\(\))291 273 y(val)j(router)e(=)i(mkRouter)e(\(env,)h
(myInEnv,)e([]\))291 319 y(fun)j(doChild)e(\(childWid)o(get)o(,)f(childPt,)h
(childSz\))f(=)409 364 y(val)j(crect)e(=)j(mkRect\(c)o(hil)o(dP)o(t,)c
(childSz\))409 410 y(val)j(cwin)f(=)h(wrapCreat)o(e)e(\(win,)g(crect\))409
456 y(val)i(\(cinenv,)d(coutenv)h(as)i(OutEnv{co)o(=ch)o(il)o(dco)o(,..)o(.})
o(\))e(=)i(createWin)o(Env)d(\(\))409 501 y(in)448 547 y(addChild)h(router)g
(\(cwin,)g(coutenv\);)448 593 y(realizeFn)g(childWid)o(get)f({env=cine)o(nv,)
g(win=cwin,)g(sz=childSz)o(};)448 638 y(mapWin)i(cwin)409 684
y(end)291 775 y(fun)h(loop)f(\(\))h(=)291 821 y(...)370 867
y(\(*)390 912 y(*)g(obtain)e(input)h(events)f(from)h(myInEnv;)f(handle)g
(child)h(requests)390 958 y(*)h(received)d(on)j(childco.)390
1004 y(*\))291 1049 y(...)272 1095 y(in)311 1141 y(app)g(doChild)d(children;)
311 1186 y(spawn)i(loop)272 1232 y(end)112 1346 y Fo(The)10
b Fh(wrapCreate)f Fo(function)g(is)h(a)g(utility)e(function)h(pro)o(vided)g
(by)h(the)g Fh(Widget)f Fo(structure)h(for)g(creating)g(child)f(windo)o(ws.)
112 1406 y(It)k(returns)g(a)h(subwindo)o(w)e(of)h(the)g(gi)o(v)o(en)h(parent)
f(with)g(the)g(gi)o(v)o(en)g(placement.)26 b(The)15 b Fh(LibBase.BadArg)10
b Fo(e)o(xception)k(is)112 1465 y(raised)c(if)g(the)g(height)f(or)h(width)f
(of)h(the)g(rectangle)g(is)h(not)e(positi)o(v)o(e.)174 1546
y(A)14 b(composite)g(widget)f(may)h(wish)g(to)f(allo)o(w)h(widgets)f(to)g(be)
i(inserted)e(and)h(remo)o(v)o(ed)h(from)f(it)f(dynamically)m(.)26
b(If)14 b(a)112 1606 y(widget)7 b(is)i(inserted,)g(it)f(should)f(be)i
(assumed)h(to)e(be)h(unrealized.)15 b(The)9 b(composite)f(widget)g(should)g
(reposition)e(its)i(children)112 1665 y(in)g(light)g(of)h(the)g(ne)o(w)h
(widget,)f(and)h(allocate)f(resources)i(for)d(and)i(realize)g(the)f(ne)o(w)h
(widget.)k(If)9 b(a)h(widget)f(is)g(to)g(be)h(remo)o(v)o(ed)112
1725 y(from)f(a)h(composite)f(widget,)g(the)h(parent)f(widget)g(should)f
(destroy)h(the)g(child')n(s)f(windo)o(w)h(and)g(remo)o(v)o(e)i(the)f(child)e
(from)i(the)112 1785 y(router)n(.)732 2799 y Fj(Dr)o(aft)g(of)f(F)m(ebruary)i
(15,)g(1993)e(17:53)p eop
%%Page: 45 49
45 48 bop 112 435 a Fm(Bibliograph)n(y)112 677 y Fo([NO90])26
b(Nye,)11 b(A.)g(and)f(T)m(.)h(O'Reilly)m(.)j Fj(X)c(T)l(oolkit)f(Intrinsics)
h(Pr)n(ogr)o(amming)f(Manual)p Fo(,)g(v)o(ol.)h(4.)k(O'Reilly)9
b(&)i(Associates,)268 737 y(Inc.,)g(1990.)112 830 y([Nye90])20
b(Nye,)11 b(A.)k Fj(Xlib)9 b(Pr)n(ogr)o(amming)h(Manual)p Fo(,)f(v)o(ol.)h
(1.)15 b(O'Reilly)8 b(&)j(Associates,)g(Inc.,)g(1990.)112 923
y([Rep90])19 b(Reppy)m(,)13 b(J.)f(H.)21 b Fj(Concurr)n(ent)12
b(pr)n(ogr)o(amming)e(with)h(e)o(vents)i(\261)f(The)h(Concurr)n(ent)f(ML)g
(manual)p Fo(.)19 b(Department)12 b(of)268 983 y(Computer)d(Science,)h
(Cornell)e(Uni)o(v)o(ersity)m(,)h(Ithaca,)h(N.Y)-5 b(.,)10
b(No)o(v)o(ember)g(1990.)j(\(Last)c(re)o(vised)g(February)g(1993\).)112
1076 y([RG93])28 b(Reppy)m(,)10 b(J.)g(H.)g(and)g(E.)g(R.)g(Gansner)n(.)k
Fj(The)c(eXene)h(Libr)o(ary)f(Manual)p Fo(.)i(A)-5 b(T&T)11
b(Bell)e(Laboratories,)h(Murray)g(Hill,)268 1136 y(N.J.)i(07974,)d(February)h
(1993.)15 b(Included)9 b(in)h(the)g(eXene)h(distrib)o(ution.)991
2799 y(45)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
